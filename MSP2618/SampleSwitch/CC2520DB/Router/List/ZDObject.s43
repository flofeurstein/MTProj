///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V5.52.1.50724/W32 for MSP430      10/Jun/2013  16:30:16 /
// Copyright 1996-2013 IAR Systems AB.                                        /
//                                                                            /
//    __rt_version  =  3                                                      /
//    __double_size =  32                                                     /
//    __reg_r4      =  free                                                   /
//    __reg_r5      =  free                                                   /
//    __pic         =  no                                                     /
//    __core        =  430X                                                   /
//    __data_model  =  small                                                  /
//    Source file   =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\s /
//                     tack\zdo\ZDObject.c                                    /
//    Command line  =  -f "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects /
//                     \zstack\HomeAutomation\SampleSwitch\CC2520DB\..\..\..\ /
//                     Tools\MSP2618\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0   /
//                     -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                      /
//                     -DDEFAULT_CHANLIST=0x00000800                          /
//                     -DZDAPP_CONFIG_PAN_ID=0xFFFF -DNWK_START_DELAY=100     /
//                     -DEXTENDED_JOINING_RANDOM_MASK=0x007F                  /
//                     -DBEACON_REQUEST_DELAY=100                             /
//                     -DBEACON_REQ_DELAY_MASK=0x00FF                         /
//                     -DLINK_STATUS_JITTER_MASK=0x007F                       /
//                     -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_POLLED /
//                     =3000 -DNWK_INDIRECT_MSG_TIMEOUT=7                     /
//                     -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3        /
//                     -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2  /
//                     -DMAX_BCAST=9 -DAPS_MAX_GROUPS=16                      /
//                     -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4       /
//                     -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,      /
//                     0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02,  /
//                     0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"                   /
//                     -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS= /
//                     20 -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000         /
//                     -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100        /
//                     -DREJOIN_POLL_RATE=440) -f "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\Tools\MSP2618 /
//                     \f8wRouter.cfg" (-DCPU6MHZ                             /
//                     -DMAC_CFG_APP_PENDING_QUEUE=TRUE                       /
//                     -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8             /
//                     -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f "C:\Texas             /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\Tools\MSP2618 /
//                     \f8wZCL.cfg" (-DZCL_READ -DZCL_WRITE -DZCL_BASIC       /
//                     -DZCL_IDENTIFY -DZCL_ON_OFF -DZCL_KEY_ESTABLISH        /
//                     -DZCL_KEY_ESTABLISHMENT_KEY_GENERATE_TIMEOUT=4         /
//                     -DZCL_KEY_ESTABLISHMENT_MAC_GENERATE_TIMEOUT=10        /
//                     -DZCL_KEY_ESTABLISHMENT_EKEY_GENERATE_TIMEOUT=10       /
//                     -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING               /
//                     -DZCL_PRICING -DZCL_MESSAGE -DZCL_TUNNELING            /
//                     -DZCL_TOU) -DZCL_DEVICE_MGMT "C:\Texas                 /
//                     Instruments\ZStack-MSP2618-2.5.1\Components\stack\zdo\ /
//                     ZDObject.c" -D MSP430F2618 -D ZTOOL_P1 -D MT_TASK -D   /
//                     MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED -lC        /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleSwitch\CC2520DB\Router\List\ /
//                     " -lA "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Proje /
//                     cts\zstack\HomeAutomation\SampleSwitch\CC2520DB\Router /
//                     \List\" --remarks --diag_suppress                      /
//                     Pe001,Pe193,Pe236,Pe826 -o "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\Router\Obj\" --debug   /
//                     -D__MSP430F2618__ -e --double=32 --clib -I "C:\Texas   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\" -I "C:\Texas         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\Source\" -I         /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleSwitch\CC2520DB\..\..\Source /
//                     \" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Proje /
//                     cts\zstack\HomeAutomation\SampleSwitch\CC2520DB\..\..\ /
//                     ..\ZMain\MSP2618\" -I "C:\Texas                        /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\hal\include\" -I "C:\Texas                         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\hal\target\MSP2618CC2520\" -I "C:\Texas            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\include\" -I "C:\Texas                         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\high_level\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\low_level\srf04\" -I "C:\Texas                 /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\low_level\srf04\dual_chip\" -I "C:\Texas       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mt\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1 /
//                     \Projects\zstack\HomeAutomation\SampleSwitch\CC2520DB\ /
//                     ..\..\..\..\..\Components\osal\include\" -I "C:\Texas  /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\osal\mcu\msp430\" -I "C:\Texas                     /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\services\saddr\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\services\sdata\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\af\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\nwk\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sec\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sapi\" -I "C:\Texas                          /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sys\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\zcl\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\zdo\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\zmac\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5 /
//                     .1\Projects\zstack\HomeAutomation\SampleSwitch\CC2520D /
//                     B\..\..\..\..\..\Components\zmac\f8w\" --core=430X     /
//                     --data_model=small -Ohz --multiplier=16s               /
//                     --require_prototypes                                   /
//    List file     =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zst /
//                     ack\HomeAutomation\SampleSwitch\CC2520DB\Router\List\Z /
//                     DObject.s43                                            /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME ZDObject

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__core", "430X"
        RTMODEL "__data_model", "small"
        RTMODEL "__double_size", "32"
        RTMODEL "__pic", "no"
        RTMODEL "__reg_r4", "free"
        RTMODEL "__reg_r5", "free"
        RTMODEL "__rt_version", "3"

        RSEG CSTACK:DATA:SORT:NOROOT(0)

        EXTERN ?IndCallR15
        EXTERN ?cstart_init_zero
        EXTERN ?longjmp_r4
        EXTERN ?longjmp_r5
        EXTERN ?setjmp_r4
        EXTERN ?setjmp_r5

        PUBWEAK ?setjmp_save_r4
        PUBWEAK ?setjmp_save_r5
        PUBLIC NLME_PermitJoiningTimeout
        FUNCTION NLME_PermitJoiningTimeout,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC ZDMatchSendState
        FUNCTION ZDMatchSendState,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 50, STACK
        PUBLIC ZDO_AnyClusterMatches
        FUNCTION ZDO_AnyClusterMatches,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 16, STACK
        PUBLIC ZDO_BuildSimpleDescBuf
        FUNCTION ZDO_BuildSimpleDescBuf,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        FUNCTION ZDO_CompareClusterLists,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC ZDO_ConvertOTAClusters
        FUNCTION ZDO_ConvertOTAClusters,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        FUNCTION ZDO_CopyMatchInfo,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        FUNCTION ZDO_EndDeviceBindMatchTimeoutCB,021603H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC ZDO_EndDeviceTimeoutCB
        FUNCTION ZDO_EndDeviceTimeoutCB,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC ZDO_Init
        FUNCTION ZDO_Init,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC ZDO_MatchEndDeviceBind
        FUNCTION ZDO_MatchEndDeviceBind,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 32, STACK
        PUBLIC ZDO_ParseAddrRsp
        FUNCTION ZDO_ParseAddrRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC ZDO_ParseBindUnbindReq
        FUNCTION ZDO_ParseBindUnbindReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ParseDeviceAnnce
        FUNCTION ZDO_ParseDeviceAnnce,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ParseEPListRsp
        FUNCTION ZDO_ParseEPListRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 16, STACK
        PUBLIC ZDO_ParseEndDeviceBindReq
        FUNCTION ZDO_ParseEndDeviceBindReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ParseMgmNwkDiscRsp
        FUNCTION ZDO_ParseMgmNwkDiscRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 16, STACK
        PUBLIC ZDO_ParseMgmtBindRsp
        FUNCTION ZDO_ParseMgmtBindRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC ZDO_ParseMgmtLqiRsp
        FUNCTION ZDO_ParseMgmtLqiRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC ZDO_ParseMgmtNwkUpdateNotify
        FUNCTION ZDO_ParseMgmtNwkUpdateNotify,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 22, STACK
        PUBLIC ZDO_ParseMgmtNwkUpdateReq
        FUNCTION ZDO_ParseMgmtNwkUpdateReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ParseMgmtRtgRsp
        FUNCTION ZDO_ParseMgmtRtgRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 16, STACK
        PUBLIC ZDO_ParseNodeDescRsp
        FUNCTION ZDO_ParseNodeDescRsp,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC ZDO_ParsePowerDescRsp
        FUNCTION ZDO_ParsePowerDescRsp,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC ZDO_ParseServerDiscRsp
        FUNCTION ZDO_ParseServerDiscRsp,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC ZDO_ParseSimpleDescBuf
        FUNCTION ZDO_ParseSimpleDescBuf,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC ZDO_ParseSimpleDescRsp
        FUNCTION ZDO_ParseSimpleDescRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC ZDO_ParseUserDescRsp
        FUNCTION ZDO_ParseUserDescRsp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC ZDO_ProcessActiveEPReq
        FUNCTION ZDO_ProcessActiveEPReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC ZDO_ProcessBindUnbindReq
        FUNCTION ZDO_ProcessBindUnbindReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 30, STACK
        PUBLIC ZDO_ProcessDeviceAnnce
        FUNCTION ZDO_ProcessDeviceAnnce,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 46, STACK
        PUBLIC ZDO_ProcessMatchDescReq
        FUNCTION ZDO_ProcessMatchDescReq,061203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 34, STACK
        PUBLIC ZDO_ProcessMgmtBindReq
        FUNCTION ZDO_ProcessMgmtBindReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 30, STACK
        PUBLIC ZDO_ProcessMgmtDirectJoinReq
        FUNCTION ZDO_ProcessMgmtDirectJoinReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC ZDO_ProcessMgmtLeaveReq
        FUNCTION ZDO_ProcessMgmtLeaveReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC ZDO_ProcessMgmtLqiReq
        FUNCTION ZDO_ProcessMgmtLqiReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 70, STACK
        PUBLIC ZDO_ProcessMgmtNwkDiscReq
        FUNCTION ZDO_ProcessMgmtNwkDiscReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 16, STACK
        PUBLIC ZDO_ProcessMgmtPermitJoinReq
        FUNCTION ZDO_ProcessMgmtPermitJoinReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC ZDO_ProcessMgmtRtgReq
        FUNCTION ZDO_ProcessMgmtRtgReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 26, STACK
        PUBLIC ZDO_ProcessNodeDescReq
        FUNCTION ZDO_ProcessNodeDescReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ProcessPowerDescReq
        FUNCTION ZDO_ProcessPowerDescReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ProcessServerDiscReq
        FUNCTION ZDO_ProcessServerDiscReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC ZDO_ProcessSimpleDescReq
        FUNCTION ZDO_ProcessSimpleDescReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 14, STACK
        PUBLIC ZDO_ProcessUserDescReq
        FUNCTION ZDO_ProcessUserDescReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 30, STACK
        PUBLIC ZDO_ProcessUserDescSet
        FUNCTION ZDO_ProcessUserDescSet,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 32, STACK
        FUNCTION ZDO_RemoveMatchMemory,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC ZDO_StartDevice
        FUNCTION ZDO_StartDevice,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC ZDO_UpdateAddrManager
        FUNCTION ZDO_UpdateAddrManager,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC ZDO_UpdateNwkStatus
        FUNCTION ZDO_UpdateNwkStatus,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC apsChannelMask
        PUBLIC matchED
        FUNCTION zdoSendStateChangeMsg,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        
          CFI Names cfiNames0
          CFI StackFrame CFA SP DATA
          CFI Resource PC:20, SP:20, SR:16, R4L:16, R4H:4, R4:20, R5L:16, R5H:4
          CFI Resource R5:20, R6L:16, R6H:4, R6:20, R7L:16, R7H:4, R7:20, R8L:16
          CFI Resource R8H:4, R8:20, R9L:16, R9H:4, R9:20, R10L:16, R10H:4
          CFI Resource R10:20, R11L:16, R11H:4, R11:20, R12L:16, R12H:4, R12:20
          CFI Resource R13L:16, R13H:4, R13:20, R14L:16, R14H:4, R14:20, R15L:16
          CFI Resource R15H:4, R15:20
          CFI ResourceParts R4 R4H, R4L
          CFI ResourceParts R5 R5H, R5L
          CFI ResourceParts R6 R6H, R6L
          CFI ResourceParts R7 R7H, R7L
          CFI ResourceParts R8 R8H, R8L
          CFI ResourceParts R9 R9H, R9L
          CFI ResourceParts R10 R10H, R10L
          CFI ResourceParts R11 R11H, R11L
          CFI ResourceParts R12 R12H, R12L
          CFI ResourceParts R13 R13H, R13L
          CFI ResourceParts R14 R14H, R14L
          CFI ResourceParts R15 R15H, R15L
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L Undefined
          CFI R12H Undefined
          CFI R12 Undefined
          CFI R13L Undefined
          CFI R13H Undefined
          CFI R13 Undefined
          CFI R14L Undefined
          CFI R14H Undefined
          CFI R14 Undefined
          CFI R15L Undefined
          CFI R15H Undefined
          CFI R15 Undefined
          CFI EndCommon cfiCommon0
        
        
          CFI Common cfiCommon1 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L SameValue
          CFI R12H 0
          CFI R12 Concat
          CFI R13L SameValue
          CFI R13H 0
          CFI R13 Concat
          CFI R14L SameValue
          CFI R14H 0
          CFI R14 Concat
          CFI R15L SameValue
          CFI R15H 0
          CFI R15 Concat
          CFI EndCommon cfiCommon1
        
        EXTERN osal_build_uint32
        FUNCTION osal_build_uint32,0202H
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        EXTERN sAddrExtCpy
        FUNCTION sAddrExtCpy,0202H
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        EXTERN APS_SetEndDeviceBindTimeout
        FUNCTION APS_SetEndDeviceBindTimeout,0202H
        EXTERN ZDP_TransID
        EXTERN ZDP_BindUnbindReq
        FUNCTION ZDP_BindUnbindReq,0202H
        EXTERN AIB_MaxBindingTime
        EXTERN ZDP_SendData
        FUNCTION ZDP_SendData,0202H
        EXTERN osal_memset
        FUNCTION osal_memset,0202H
        EXTERN nwkNeighborRemoveAllStranded
        FUNCTION nwkNeighborRemoveAllStranded,0202H
        EXTERN NLME_CheckNewAddrSet
        FUNCTION NLME_CheckNewAddrSet,0202H
        EXTERN NLME_GetCoordExtAddr
        FUNCTION NLME_GetCoordExtAddr,0202H
        EXTERN sAddrExtCmp
        FUNCTION sAddrExtCmp,0202H
        EXTERN NLME_GetCoordShortAddr
        FUNCTION NLME_GetCoordShortAddr,0202H
        EXTERN _NIB
        EXTERN ZMacSetReq
        FUNCTION ZMacSetReq,0202H
        EXTERN NLME_GetShortAddr
        FUNCTION NLME_GetShortAddr,0202H
        EXTERN AssocGetWithExt
        FUNCTION AssocGetWithExt,0202H
        EXTERN AssocRemove
        FUNCTION AssocRemove,0202H
        EXTERN AssocChangeNwkAddr
        FUNCTION AssocChangeNwkAddr,0202H
        EXTERN ZDApp_NVUpdate
        FUNCTION ZDApp_NVUpdate,0202H
        EXTERN nwkNeighborUpdateNwkAddr
        FUNCTION nwkNeighborUpdateNwkAddr,0202H
        EXTERN RTG_RemoveRtgEntry
        FUNCTION RTG_RemoveRtgEntry,0202H
        EXTERN AddrMgrEntryLookupNwk
        FUNCTION AddrMgrEntryLookupNwk,0202H
        EXTERN AddrMgrExtAddrSet
        FUNCTION AddrMgrExtAddrSet,0202H
        EXTERN AddrMgrEntryUpdate
        FUNCTION AddrMgrEntryUpdate,0202H
        EXTERN AddrMgrEntryLookupExt
        FUNCTION AddrMgrEntryLookupExt,0202H
        EXTERN ZDAppNwkAddr
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        EXTERN ZDO_Config_Node_Descriptor
        EXTERN osal_nv_read
        FUNCTION osal_nv_read,0202H
        EXTERN ZDP_UserDescRsp
        FUNCTION ZDP_UserDescRsp,0202H
        EXTERN ZDP_GenericRsp
        FUNCTION ZDP_GenericRsp,0202H
        EXTERN NLME_PermitJoiningRequest
        FUNCTION NLME_PermitJoiningRequest,0202H
        EXTERN AddrMgrExtAddrValid
        FUNCTION AddrMgrExtAddrValid,0202H
        EXTERN NLME_GetExtAddr
        FUNCTION NLME_GetExtAddr,0202H
        EXTERN NLME_LeaveReq
        FUNCTION NLME_LeaveReq,0202H
        EXTERN NLME_DirectJoinRequest
        FUNCTION NLME_DirectJoinRequest,0202H
        EXTERN APSME_GetRequest
        FUNCTION APSME_GetRequest,0202H
        EXTERN ZDP_MgmtBindRsp
        FUNCTION ZDP_MgmtBindRsp,0202H
        EXTERN NLME_GetRequest
        FUNCTION NLME_GetRequest,0202H
        EXTERN ZDP_MgmtRtgRsp
        FUNCTION ZDP_MgmtRtgRsp,0202H
        EXTERN zdappMgmtNwkDiscReqInProgress
        EXTERN zdappMgmtNwkDiscRspAddr
        EXTERN zdappMgmtNwkDiscStartIndex
        EXTERN zdappMgmtNwkDiscRspTransSeq
        EXTERN NLME_NwkDiscReq2
        FUNCTION NLME_NwkDiscReq2,0202H
        EXTERN NLME_NwkDiscTerm
        FUNCTION NLME_NwkDiscTerm,0202H
        EXTERN AssocCount
        FUNCTION AssocCount,0202H
        EXTERN AssocFindDevice
        FUNCTION AssocFindDevice,0202H
        EXTERN ZDP_MgmtLqiRsp
        FUNCTION ZDP_MgmtLqiRsp,0202H
        EXTERN HalLcdWriteString
        FUNCTION HalLcdWriteString,0202H
        EXTERN ZDP_ServerDiscRsp
        FUNCTION ZDP_ServerDiscRsp,0202H
        EXTERN APSME_BindRequest
        FUNCTION APSME_BindRequest,0202H
        EXTERN APSME_LookupNwkAddr
        FUNCTION APSME_LookupNwkAddr,0202H
        EXTERN ZDP_NwkAddrReq
        FUNCTION ZDP_NwkAddrReq,0202H
        EXTERN APSME_UnBindRequest
        FUNCTION APSME_UnBindRequest,0202H
        EXTERN NLME_IsAddressBroadcast
        FUNCTION NLME_IsAddressBroadcast,0202H
        EXTERN ZDP_EPRsp
        FUNCTION ZDP_EPRsp,0202H
        EXTERN epList
        EXTERN osal_msg_send
        FUNCTION osal_msg_send,0202H
        EXTERN osal_msg_allocate
        FUNCTION osal_msg_allocate,0202H
        EXTERN HalLcdWriteScreen
        FUNCTION HalLcdWriteScreen,0202H
        EXTERN afNumEndPoints
        FUNCTION afNumEndPoints,0202H
        EXTERN afEndPoints
        FUNCTION afEndPoints,0202H
        EXTERN afFindSimpleDesc
        FUNCTION afFindSimpleDesc,0202H
        EXTERN ZDP_SimpleDescMsg
        FUNCTION ZDP_SimpleDescMsg,0202H
        EXTERN ZDO_Config_Power_Descriptor
        EXTERN ZDP_PowerDescMsg
        FUNCTION ZDP_PowerDescMsg,0202H
        EXTERN ZDP_NodeDescMsg
        FUNCTION ZDP_NodeDescMsg,0202H
        EXTERN osal_msg_find
        FUNCTION osal_msg_find,0202H
        EXTERN ZDAppTaskID
        EXTERN osal_set_event
        FUNCTION osal_set_event,0202H
        EXTERN zgDefaultStartingScanDuration
        EXTERN devState
        EXTERN zgDefaultChannelList
        EXTERN NLME_NetworkDiscoveryRequest
        FUNCTION NLME_NetworkDiscoveryRequest,0202H
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        EXTERN nwk_ScanJoiningOrphan
        FUNCTION nwk_ScanJoiningOrphan,0202H
        EXTERN NLME_OrphanJoinRequest
        FUNCTION NLME_OrphanJoinRequest,0202H
        EXTERN AIB_apsUseExtendedPANID
        EXTERN ZDO_UseExtendedPANID
        EXTERN zgDeviceLogicalType
        EXTERN APS_ReflectorInit
        FUNCTION APS_ReflectorInit,0202H
        EXTERN NLME_DeviceJoiningInit
        FUNCTION NLME_DeviceJoiningInit,0202H

// C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\stack\zdo\ZDObject.c
//    1 /**************************************************************************************************
//    2   Filename:       ZDObject.c
//    3   Revised:        $Date: 2011-07-13 10:55:53 -0700 (Wed, 13 Jul 2011) $
//    4   Revision:       $Revision: 26766 $
//    5 
//    6   Description:    This is the Zigbee Device Object.
//    7 
//    8 
//    9   Copyright 2004-2011 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License"). You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product. Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 /*********************************************************************
//   41  * INCLUDES
//   42  */
//   43 #include "ZComdef.h"
//   44 #include "OSAL.h"
//   45 #include "OSAL_Nv.h"
//   46 #include "rtg.h"
//   47 #include "NLMEDE.h"
//   48 #include "nwk_globals.h"
//   49 #include "APS.h"
//   50 #include "APSMEDE.h"
//   51 #include "AssocList.h"
//   52 #include "BindingTable.h"
//   53 #include "AddrMgr.h"
//   54 #include "AF.h"
//   55 #include "ZDObject.h"
//   56 #include "ZDProfile.h"
//   57 #include "ZDConfig.h"
//   58 #include "ZDSecMgr.h"
//   59 #include "ZDApp.h"
//   60 #include "nwk_util.h"   // NLME_IsAddressBroadcast()
//   61 #include "ZGlobals.h"
//   62 #if defined MT_ZDO_CB_FUNC
//   63 #include "MT.h"
//   64 #endif
//   65 
//   66 #if defined( LCD_SUPPORTED )
//   67   #include "OnBoard.h"
//   68 #endif
//   69 
//   70 /* HAL */
//   71 #include "hal_lcd.h"
//   72 
//   73 /*********************************************************************
//   74  * MACROS
//   75  */
//   76 
//   77 /*********************************************************************
//   78  * CONSTANTS
//   79  */
//   80 // NLME Stub Implementations
//   81 #define ZDO_ProcessMgmtPermitJoinTimeout NLME_PermitJoiningTimeout
//   82 
//   83 // Status fields used by ZDO_ProcessMgmtRtgReq
//   84 #define ZDO_MGMT_RTG_ENTRY_ACTIVE             0x00
//   85 #define ZDO_MGMT_RTG_ENTRY_DISCOVERY_UNDERWAY 0x01
//   86 #define ZDO_MGMT_RTG_ENTRY_DISCOVERY_FAILED   0x02
//   87 #define ZDO_MGMT_RTG_ENTRY_INACTIVE           0x03
//   88 
//   89 /*********************************************************************
//   90  * TYPEDEFS
//   91  */
//   92 #if defined ( REFLECTOR )
//   93 typedef struct
//   94 {
//   95   byte SrcTransSeq;
//   96   zAddrType_t SrcAddr;
//   97   uint16 LocalCoordinator;
//   98   byte epIntf;
//   99   uint16 ProfileID;
//  100   byte numInClusters;
//  101   uint16 *inClusters;
//  102   byte numOutClusters;
//  103   uint16 *outClusters;
//  104   byte SecurityUse;
//  105   byte status;
//  106 } ZDO_EDBind_t;
//  107 #endif // defined ( REFLECTOR )
//  108 
//  109 enum
//  110 {
//  111   ZDMATCH_INIT,           // Initialized
//  112   ZDMATCH_WAIT_REQ,       // Received first request, waiting for second
//  113   ZDMATCH_SENDING_BINDS   // Received both requests, sending unbind/binds
//  114 };
//  115 
//  116 enum
//  117 {
//  118   ZDMATCH_SENDING_NOT,
//  119   ZDMATCH_SENDING_UNBIND,
//  120   ZDMATCH_SENDING_BIND
//  121 };
//  122 
//  123 /*********************************************************************
//  124  * GLOBAL VARIABLES
//  125  */
//  126 
//  127 /*********************************************************************
//  128  * EXTERNAL VARIABLES
//  129  */
//  130 
//  131 /*********************************************************************
//  132  * EXTERNAL FUNCTIONS
//  133  */
//  134 
//  135 /*********************************************************************
//  136  * LOCAL VARIABLES
//  137  */

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//  138 static uint16 ZDOBuildBuf[26];  // temp area to build data without allocation
ZDOBuildBuf:
        DS8 52
//  139 
//  140 #if defined ( REFLECTOR )

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//  141 static ZDO_EDBind_t *ZDO_EDBind;     // Null when not used
ZDO_EDBind:
        DS8 2
//  142 #endif
//  143 
//  144 #if defined ( MANAGED_SCAN )
//  145   uint32 managedScanNextChannel = 0;
//  146   uint32 managedScanChannelMask = 0;
//  147   uint8  managedScanTimesPerChannel = 0;
//  148 #endif
//  149 

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//  150 ZDMatchEndDeviceBind_t *matchED = (ZDMatchEndDeviceBind_t *)NULL;
matchED:
        DS8 2
//  151 

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//  152 uint32 apsChannelMask = 0;
apsChannelMask:
        DS8 4
//  153 
//  154 /*********************************************************************
//  155  * LOCAL FUNCTIONS
//  156  */
//  157 static void ZDODeviceSetup( void );
//  158 #if defined ( MANAGED_SCAN )
//  159   static void ZDOManagedScan_Next( void );
//  160 #endif
//  161 #if defined ( REFLECTOR )
//  162   static void ZDO_RemoveEndDeviceBind( void );
//  163   static void ZDO_SendEDBindRsp( byte TransSeq, zAddrType_t *dstAddr, byte Status, byte secUse );
//  164 #endif
//  165 static byte ZDO_CompareClusterLists( byte numList1, uint16 *list1,
//  166                                 byte numList2, uint16 *list2, uint16 *pMatches );
//  167 static void ZDO_RemoveMatchMemory( void );
//  168 static uint8 ZDO_CopyMatchInfo( ZDEndDeviceBind_t *destReq, ZDEndDeviceBind_t *srcReq );
//  169 static void ZDO_EndDeviceBindMatchTimeoutCB( void );
//  170 uint8 *ZDO_ConvertOTAClusters( uint8 cnt, uint8 *inBuf, uint16 *outList );
//  171 static void zdoSendStateChangeMsg(uint8 state, uint8 taskId);
//  172 
//  173 /*********************************************************************
//  174  * @fn          ZDO_Init
//  175  *
//  176  * @brief       ZDObject and ZDProfile initialization.
//  177  *
//  178  * @param       none
//  179  *
//  180  * @return      none
//  181  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  182 void ZDO_Init( void )
ZDO_Init:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function ZDO_Init
//  183 {
//  184   // Initialize ZD items
//  185   #if defined ( REFLECTOR )
//  186   ZDO_EDBind = NULL;
        FUNCALL ZDO_Init, sAddrExtCpy
        LOCFRAME CSTACK, 4, STACK
        FUNCALL ZDO_Init, APS_ReflectorInit
        LOCFRAME CSTACK, 4, STACK
        FUNCALL ZDO_Init, NLME_DeviceJoiningInit
        LOCFRAME CSTACK, 4, STACK
        MOV.W   #0x0, &ZDO_EDBind
//  187   #endif
//  188 
//  189   // Initialize default ZDO_UseExtendedPANID to the APS one.
//  190   osal_cpyExtAddr( ZDO_UseExtendedPANID, AIB_apsUseExtendedPANID );
        MOV.W   #AIB_apsUseExtendedPANID, R13
        MOV.W   #ZDO_UseExtendedPANID, R12
        CALLA   #sAddrExtCpy
//  191 
//  192   // Setup the device - type of device to create.
//  193   ZDODeviceSetup();
        CMP.B   #0x0, &zgDeviceLogicalType
        JEQ     ??ZDO_Init_0
        MOV.B   #0x1, R12
        JMP     ??ZDO_Init_1
??ZDO_Init_0:
        MOV.B   #0x0, R12
??ZDO_Init_1:
        CALLA   #APS_ReflectorInit
        BRA     #NLME_DeviceJoiningInit
          CFI EndBlock cfiBlock0
//  194 }
//  195 
//  196 #if defined ( MANAGED_SCAN )
//  197 /*********************************************************************
//  198  * @fn      ZDOManagedScan_Next()
//  199  *
//  200  * @brief   Setup a managed scan.
//  201  *
//  202  * @param   none
//  203  *
//  204  * @return  none
//  205  */
//  206 static void ZDOManagedScan_Next( void )
//  207 {
//  208   // Is it the first time
//  209   if ( managedScanNextChannel == 0 && managedScanTimesPerChannel == 0 )
//  210   {
//  211     // Setup the defaults
//  212     managedScanNextChannel  = 1;
//  213 
//  214     while( managedScanNextChannel && (zgDefaultChannelList & managedScanNextChannel) == 0 )
//  215       managedScanNextChannel <<= 1;
//  216 
//  217     managedScanChannelMask = managedScanNextChannel;
//  218     managedScanTimesPerChannel = MANAGEDSCAN_TIMES_PRE_CHANNEL;
//  219   }
//  220   else
//  221   {
//  222     // Do we need to go to the next channel
//  223     if ( managedScanTimesPerChannel == 0 )
//  224     {
//  225       // Find next active channel
//  226       managedScanChannelMask  = managedScanNextChannel;
//  227       managedScanTimesPerChannel = MANAGEDSCAN_TIMES_PRE_CHANNEL;
//  228     }
//  229     else
//  230     {
//  231       managedScanTimesPerChannel--;
//  232 
//  233       if ( managedScanTimesPerChannel == 0 )
//  234       {
//  235         managedScanNextChannel  <<= 1;
//  236         while( managedScanNextChannel && (zgDefaultChannelList & managedScanNextChannel) == 0 )
//  237           managedScanNextChannel <<= 1;
//  238 
//  239         if ( managedScanNextChannel == 0 )
//  240           zdoDiscCounter  = NUM_DISC_ATTEMPTS + 1; // Stop
//  241       }
//  242     }
//  243   }
//  244 }
//  245 #endif // MANAGED_SCAN
//  246 
//  247 /*********************************************************************
//  248  * @fn      ZDODeviceSetup()
//  249  *
//  250  * @brief   Call set functions depending on the type of device compiled.
//  251  *
//  252  * @param   none
//  253  *
//  254  * @return  none
//  255  */
//  256 static void ZDODeviceSetup( void )
//  257 {
//  258   if ( ZG_BUILD_COORDINATOR_TYPE )
//  259   {
//  260     NLME_CoordinatorInit();
//  261   }
//  262 
//  263 #if defined ( REFLECTOR )
//  264   APS_ReflectorInit( (ZG_DEVICE_COORDINATOR_TYPE) ? APS_REFLECTOR_PUBLIC :  APS_REFLECTOR_PRIVATE );
//  265 #endif
//  266 
//  267   if ( ZG_BUILD_JOINING_TYPE )
//  268   {
//  269     NLME_DeviceJoiningInit();
//  270   }
//  271 }
//  272 
//  273 /*********************************************************************
//  274  * @fn          ZDO_StartDevice
//  275  *
//  276  * @brief       This function starts a device in a network.
//  277  *
//  278  * @param       logicalType     - Device type to start
//  279  *              startMode       - indicates mode of device startup
//  280  *              beaconOrder     - indicates time betwen beacons
//  281  *              superframeOrder - indicates length of active superframe
//  282  *
//  283  * @return      none
//  284  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  285 void ZDO_StartDevice( byte logicalType, devStartModes_t startMode, byte beaconOrder, byte superframeOrder )
ZDO_StartDevice:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function ZDO_StartDevice
//  286 {
        FUNCALL ZDO_StartDevice, NLME_NetworkDiscoveryRequest
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_StartDevice, osal_start_timerEx
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_StartDevice, nwk_ScanJoiningOrphan
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_StartDevice, NLME_OrphanJoinRequest
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_StartDevice, HalLcdWriteScreen
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        MOV.B   R13, R10
//  287   ZStatus_t ret;
//  288 #if defined ( ZIGBEE_FREQ_AGILITY )
//  289   static uint8 discRetries = 0;
//  290 #endif
//  291 #if defined ( ZIGBEE_COMMISSIONING )
//  292   static uint8 scanCnt = 0;
//  293 #endif
//  294 
//  295   ret = ZUnsupportedMode;
//  296 
//  297   if ( ZG_BUILD_COORDINATOR_TYPE && logicalType == NODETYPE_COORDINATOR )
//  298   {
//  299     if ( startMode == MODE_HARD )
//  300     {
//  301       devState = DEV_COORD_STARTING;
//  302       ret = NLME_NetworkFormationRequest( zgConfigPANID, zgApsUseExtendedPANID, zgDefaultChannelList,
//  303                                           zgDefaultStartingScanDuration, beaconOrder,
//  304                                           superframeOrder, false );
//  305     }
//  306     else if ( startMode == MODE_RESUME )
//  307     {
//  308       // Just start the coordinator
//  309       devState = DEV_COORD_STARTING;
//  310       ret = NLME_StartRouterRequest( beaconOrder, beaconOrder, false );
//  311     }
//  312     else
//  313     {
//  314 #if defined( LCD_SUPPORTED )
//  315       HalLcdWriteScreen( "StartDevice ERR", "MODE unknown" );
//  316 #endif
//  317     }
//  318   }
//  319 
//  320   if ( ZG_BUILD_JOINING_TYPE && (logicalType == NODETYPE_ROUTER || logicalType == NODETYPE_DEVICE) )
        CMP.B   #0x1, R12
        JEQ     ??ZDO_StartDevice_3
        CMP.B   #0x2, R12
        JNE     ??ZDO_StartDevice_2
//  321   {
//  322     if ( (startMode == MODE_JOIN) || (startMode == MODE_REJOIN) )
??ZDO_StartDevice_3:
        MOV.B   &zgDefaultStartingScanDuration, R14
        CMP.B   #0x0, R13
        JEQ     ??ZDO_StartDevice_4
        CMP.B   #0x3, R13
        JNE     ??ZDO_StartDevice_5
//  323     {
//  324       devState = DEV_NWK_DISC;
??ZDO_StartDevice_4:
        MOV.B   #0x2, &devState
//  325 
//  326   #if defined( MANAGED_SCAN )
//  327       ZDOManagedScan_Next();
//  328       ret = NLME_NetworkDiscoveryRequest( managedScanChannelMask, BEACON_ORDER_15_MSEC );
//  329   #else
//  330       ret = NLME_NetworkDiscoveryRequest( zgDefaultChannelList, zgDefaultStartingScanDuration );
        MOV.W   &zgDefaultChannelList, R12
        MOV.W   &zgDefaultChannelList + 2, R13
        CALLA   #NLME_NetworkDiscoveryRequest
//  331     #if defined ( ZIGBEE_FREQ_AGILITY )
//  332       if ( !( ZDO_Config_Node_Descriptor.CapabilityFlags & CAPINFO_RCVR_ON_IDLE ) &&
//  333             ( ret == ZSuccess ) && ( ++discRetries == 4 ) )
        BIT.B   #0x8, &ZDO_Config_Node_Descriptor + 2
        JC      ??ZDO_StartDevice_6
        CMP.B   #0x0, R12
        JNE     ??ZDO_StartDevice_6
        ADD.B   #0x1, &??discRetries
        CMP.B   #0x4, &??discRetries
        JNE     ??ZDO_StartDevice_6
//  334       {
//  335         // For devices with RxOnWhenIdle equals to FALSE, any network channel
//  336         // change will not be recieved. On these devices or routers that have
//  337         // lost the network, an active scan shall be conducted on the Default
//  338         // Channel list using the extended PANID to find the network. If the
//  339         // extended PANID isn't found using the Default Channel list, an scan
//  340         // should be completed using all channels.
//  341         zgDefaultChannelList = MAX_CHANNELS_24GHZ;
        CALLA   #?Subroutine26
//  342       }
//  343     #endif // ZIGBEE_FREQ_AGILITY
//  344     #if defined ( ZIGBEE_COMMISSIONING )
//  345       if (startMode == MODE_REJOIN && scanCnt++ >= 5 )
??ZDO_StartDevice_6:
        CMP.B   #0x3, R10
        JNE     ??ZDO_StartDevice_1
        MOV.B   &??scanCnt, R14
        MOV.B   R14, R15
        ADD.B   #0x1, R15
        MOV.B   R15, &??scanCnt
        CMP.B   #0x5, R14
        JNC     ??ZDO_StartDevice_1
//  346       {
//  347         // When ApsUseExtendedPanID is commissioned to a non zero value via
//  348         // application specific means, the device shall conduct an active scan
//  349         // on the Default Channel list and join the PAN with the same
//  350         // ExtendedPanID. If the PAN is not found, an scan should be completed
//  351         // on all channels.
//  352         // When devices rejoin the network and the PAN is not found from
//  353         zgDefaultChannelList = MAX_CHANNELS_24GHZ;
        CALLA   #?Subroutine26
//  354       }
//  355     #endif // ZIGBEE_COMMISSIONING
//  356   #endif
//  357     }
//  358     else if ( startMode == MODE_RESUME )
//  359     {
//  360       if ( logicalType == NODETYPE_ROUTER )
//  361       {
//  362         ZMacScanCnf_t scanCnf;
//  363         devState = DEV_NWK_ORPHAN;
//  364 
//  365         /* if router and nvram is available, fake successful orphan scan */
//  366         scanCnf.hdr.Status = ZSUCCESS;
//  367         scanCnf.ScanType = ZMAC_ORPHAN_SCAN;
//  368         scanCnf.UnscannedChannels = 0;
//  369         scanCnf.ResultListSize = 0;
//  370         nwk_ScanJoiningOrphan(&scanCnf);
//  371 
//  372         ret = ZSuccess;
//  373       }
//  374       else
//  375       {
//  376         devState = DEV_NWK_ORPHAN;
//  377         ret = NLME_OrphanJoinRequest( zgDefaultChannelList,
//  378                                       zgDefaultStartingScanDuration );
//  379       }
//  380     }
//  381     else
//  382     {
//  383 #if defined( LCD_SUPPORTED )
//  384       HalLcdWriteScreen( "StartDevice ERR", "MODE unknown" );
//  385 #endif
//  386     }
//  387   }
//  388 
//  389   if ( ret != ZSuccess )
??ZDO_StartDevice_1:
        CMP.B   #0x0, R12
        JEQ     ??ZDO_StartDevice_0
//  390   {
//  391     osal_start_timerEx(ZDAppTaskID, ZDO_NETWORK_INIT, NWK_RETRY_DELAY );
??ZDO_StartDevice_2:
        MOV.W   #0x3e8, R14
        MOV.W   #0x1, R13
        MOV.B   &ZDAppTaskID, R12
        CALLA   #osal_start_timerEx
//  392   }
//  393 }
??ZDO_StartDevice_0:
        ADD.W   #0xc, SP
          CFI CFA SP+6
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+18
??ZDO_StartDevice_5:
        CMP.B   #0x1, R13
        JNE     ??ZDO_StartDevice_7
        CMP.B   #0x1, R12
        MOV.B   #0xa, &devState
        JNE     ??ZDO_StartDevice_8
        MOV.B   #0x0, 0x1(SP)
        MOV.B   #0x3, 0x2(SP)
        MOV.W   #0x0, 0x4(SP)
        MOV.W   #0x0, 0x6(SP)
        MOV.B   #0x0, 0x8(SP)
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #nwk_ScanJoiningOrphan
        JMP     ??ZDO_StartDevice_0
??ZDO_StartDevice_8:
        MOV.W   &zgDefaultChannelList, R12
        MOV.W   &zgDefaultChannelList + 2, R13
        CALLA   #NLME_OrphanJoinRequest
        JMP     ??ZDO_StartDevice_1
??ZDO_StartDevice_7:
        MOV.W   #`?<Constant "MODE unknown">`, R13
        MOV.W   #`?<Constant "StartDevice ERR">`, R12
        CALLA   #HalLcdWriteScreen
        JMP     ??ZDO_StartDevice_2
          CFI EndBlock cfiBlock1

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine26:
          CFI Block cfiCond2 Using cfiCommon0
          CFI Function ZDO_StartDevice
          CFI Conditional ??ZDO_StartDevice_6
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+22
          CFI Block cfiCond3 Using cfiCommon0
          CFI (cfiCond3) Function ZDO_StartDevice
          CFI (cfiCond3) Conditional ??ZDO_StartDevice_1
          CFI (cfiCond3) R10L Frame(CFA, -6)
          CFI (cfiCond3) CFA SP+22
          CFI Block cfiPicker4 Using cfiCommon1
          CFI (cfiPicker4) NoFunction
          CFI (cfiPicker4) Picker
        MOV.W   #0xf800, &zgDefaultChannelList
        MOV.W   #0x7ff, &zgDefaultChannelList + 2
        RETA
          CFI EndBlock cfiCond2
          CFI EndBlock cfiCond3
          CFI EndBlock cfiPicker4

        RSEG DATA16_Z:DATA:SORT:NOROOT(0)
        REQUIRE ?cstart_init_zero
??discRetries:
        DS8 1

        RSEG DATA16_Z:DATA:SORT:NOROOT(0)
        REQUIRE ?cstart_init_zero
??scanCnt:
        DS8 1
//  394 
//  395 /**************************************************************************************************
//  396  * @fn          zdoSendStateChangeMsg
//  397  *
//  398  * @brief       Helper function for ZDO_UpdateNwkStatus.
//  399  *
//  400  * input parameters
//  401  *
//  402  * @param       taskId - The OSAL task identifier to which to send the ZDO_STATE_CHANGE_EVT.
//  403  * @param       state - The current device state.
//  404  *
//  405  * output parameters
//  406  *
//  407  * None.
//  408  *
//  409  * @return      None.
//  410  **************************************************************************************************
//  411  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  412 static void zdoSendStateChangeMsg(uint8 state, uint8 taskId)
zdoSendStateChangeMsg:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function zdoSendStateChangeMsg
//  413 {
        FUNCALL zdoSendStateChangeMsg, osal_msg_find
        LOCFRAME CSTACK, 8, STACK
        FUNCALL zdoSendStateChangeMsg, osal_msg_allocate
        LOCFRAME CSTACK, 8, STACK
        FUNCALL zdoSendStateChangeMsg, osal_set_event
        LOCFRAME CSTACK, 8, STACK
        FUNCALL zdoSendStateChangeMsg, osal_msg_send
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.B   R12, R10
        MOV.B   R13, R11
//  414   osal_event_hdr_t *pMsg = (osal_event_hdr_t *)osal_msg_find(taskId, ZDO_STATE_CHANGE);
        MOV.B   #0xd1, R13
        MOV.B   R11, R12
        CALLA   #osal_msg_find
//  415 
//  416   if (NULL == pMsg)
        CMP.W   #0x0, R12
        JNE     ??zdoSendStateChangeMsg_0
//  417   {
//  418     if (NULL == (pMsg = (osal_event_hdr_t *)osal_msg_allocate(sizeof(osal_event_hdr_t))))
        MOV.W   #0x2, R12
        CALLA   #osal_msg_allocate
        CMP.W   #0x0, R12
        JNE     ??zdoSendStateChangeMsg_1
//  419     {
//  420       // Upon failure to notify any EndPoint of the state change, re-set the ZDO event to
//  421       // try again later when more Heap may be available.
//  422       osal_set_event(ZDAppTaskID, ZDO_STATE_CHANGE_EVT);
        MOV.W   #0x10, R13
        MOV.B   &ZDAppTaskID, R12
        CALLA   #osal_set_event
        JMP     ??zdoSendStateChangeMsg_2
//  423     }
//  424     else
//  425     {
//  426       pMsg->event = ZDO_STATE_CHANGE;
??zdoSendStateChangeMsg_1:
        MOV.B   #0xd1, 0(R12)
//  427       pMsg->status = state;
        MOV.B   R10, 0x1(R12)
//  428 
//  429       (void)osal_msg_send(taskId, (uint8 *)pMsg);
        MOV.W   R12, R13
        MOV.B   R11, R12
        CALLA   #osal_msg_send
        JMP     ??zdoSendStateChangeMsg_2
//  430     }
//  431   }
//  432   else
//  433   {
//  434     // Modify in place the status of an existing ZDO_STATE_CHANGE message to the EndPoint.
//  435     pMsg->status = state;
??zdoSendStateChangeMsg_0:
        MOV.B   R10, 0x1(R12)
//  436   }
//  437 }
??zdoSendStateChangeMsg_2:
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock5
//  438 
//  439 /**************************************************************************************************
//  440  * @fn          ZDO_UpdateNwkStatus
//  441  *
//  442  * @brief       This function sends a ZDO_STATE_CHANGE message to the task of every EndPoint
//  443  *              registered with AF (except, of course, the ZDO_EP). Even if a single task has more
//  444  *              than one registered EndPoint, it will only receive one notification per state
//  445  *              change. Although the device may go through a sequence of state changes, the
//  446  *              Application task may only receive notification of the final, steady-state state
//  447  *              because it has the lowest priority and never even runs to receive the intermediate
//  448  *              state change notifications.
//  449  *
//  450  * input parameters
//  451  *
//  452  * @param       state - The current device state.
//  453  *
//  454  * output parameters
//  455  *
//  456  * None.
//  457  *
//  458  * @return      None.
//  459  **************************************************************************************************
//  460  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  461 void ZDO_UpdateNwkStatus(devStates_t state)
ZDO_UpdateNwkStatus:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function ZDO_UpdateNwkStatus
//  462 {
        FUNCALL ZDO_UpdateNwkStatus, zdoSendStateChangeMsg
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_UpdateNwkStatus, NLME_GetShortAddr
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_UpdateNwkStatus, NLME_GetExtAddr
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.B   R12, R10
//  463   epList_t *pItem = epList;
        MOV.W   &epList, R11
        JMP     ??ZDO_UpdateNwkStatus_1
//  464 
//  465   while (pItem != NULL)
//  466   {
//  467     if (pItem->epDesc->endPoint != ZDO_EP)
??ZDO_UpdateNwkStatus_0:
        MOV.W   0x2(R11), R15
        CMP.B   #0x0, 0(R15)
        JEQ     ??ZDO_UpdateNwkStatus_2
//  468     {
//  469       zdoSendStateChangeMsg(state, *(pItem->epDesc->task_id));
        MOV.W   0x2(R15), R15
        MOV.B   @R15, R13
        MOV.B   R10, R12
        CALLA   #zdoSendStateChangeMsg
//  470     }
//  471 
//  472     pItem = pItem->nextDesc;
??ZDO_UpdateNwkStatus_2:
        MOV.W   @R11, R11
//  473   }
??ZDO_UpdateNwkStatus_1:
        CMP.W   #0x0, R11
        JNE     ??ZDO_UpdateNwkStatus_0
//  474 #if defined MT_ZDO_CB_FUNC
//  475   zdoSendStateChangeMsg(state, MT_TaskID);
//  476 #endif
//  477 
//  478   ZDAppNwkAddr.addr.shortAddr = NLME_GetShortAddr();
        CALLA   #NLME_GetShortAddr
        MOV.W   R12, &ZDAppNwkAddr
//  479   (void)NLME_GetExtAddr();  // Load the saveExtAddr pointer.
        CALLA   #NLME_GetExtAddr
//  480 }
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock6
//  481 
//  482 #if defined ( REFLECTOR )
//  483 /*********************************************************************
//  484  * @fn          ZDO_RemoveEndDeviceBind
//  485  *
//  486  * @brief       Remove the end device bind
//  487  *
//  488  * @param  none
//  489  *
//  490  * @return      none
//  491  */
//  492 static void ZDO_RemoveEndDeviceBind( void )
//  493 {
//  494   if ( ZDO_EDBind != NULL )
//  495   {
//  496     // Free the RAM
//  497     if ( ZDO_EDBind->inClusters != NULL )
//  498     {
//  499       osal_mem_free( ZDO_EDBind->inClusters );
//  500     }
//  501     if ( ZDO_EDBind->outClusters != NULL )
//  502     {
//  503       osal_mem_free( ZDO_EDBind->outClusters );
//  504     }
//  505     osal_mem_free( ZDO_EDBind );
//  506     ZDO_EDBind = NULL;
//  507   }
//  508 }
//  509 #endif // REFLECTOR
//  510 
//  511 #if defined ( REFLECTOR )
//  512 /*********************************************************************
//  513  * @fn          ZDO_RemoveEndDeviceBind
//  514  *
//  515  * @brief       Remove the end device bind
//  516  *
//  517  * @param  none
//  518  *
//  519  * @return      none
//  520  */
//  521 static void ZDO_SendEDBindRsp( byte TransSeq, zAddrType_t *dstAddr, byte Status, byte secUse )
//  522 {
//  523   ZDP_EndDeviceBindRsp( TransSeq, dstAddr, Status, secUse );
//  524 
//  525 #if defined( LCD_SUPPORTED )
//  526   HalLcdWriteString( "End Device Bind", HAL_LCD_LINE_1 );
//  527   if ( Status == ZDP_SUCCESS )
//  528   {
//  529     HalLcdWriteString( "Success Sent", HAL_LCD_LINE_2 );
//  530   }
//  531   else
//  532   {
//  533     HalLcdWriteString( "Timeout", HAL_LCD_LINE_2 );
//  534   }
//  535 #endif
//  536 
//  537 }
//  538 #endif // REFLECTOR
//  539 
//  540 /*********************************************************************
//  541  * @fn          ZDO_CompareClusterLists
//  542  *
//  543  * @brief       Compare one list to another list
//  544  *
//  545  * @param       numList1 - number of items in list 1
//  546  * @param       list1 - first list of cluster IDs
//  547  * @param       numList2 - number of items in list 2
//  548  * @param       list2 - second list of cluster IDs
//  549  * @param       pMatches - buffer to put matches
//  550  *
//  551  * @return      number of matches
//  552  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  553 static byte ZDO_CompareClusterLists( byte numList1, uint16 *list1,
ZDO_CompareClusterLists:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function ZDO_CompareClusterLists
//  554                           byte numList2, uint16 *list2, uint16 *pMatches )
//  555 {
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        MOV.B   R12, R10
        MOV.B   R14, R11
        MOV.W   R15, R8
//  556   byte x, y;
//  557   uint16 z;
//  558   byte numMatches = 0;
        MOV.B   #0x0, R12
//  559 
//  560   // Check the first in against the seconds out
//  561   for ( x = 0; x < numList1; x++ )
        MOV.B   #0x0, R14
        MOV.W   0x14(SP), R6
        JMP     ??ZDO_CompareClusterLists_2
//  562   {
//  563     for ( y = 0; y < numList2; y++ )
//  564     {
//  565       z = list2[y];
??ZDO_CompareClusterLists_0:
        MOV.B   R15, R7
        RLA.W   R7
        MOV.W   R8, R9
        ADD.W   R7, R9
        MOV.W   @R9, R7
//  566       if ( list1[x] == z )
        MOV.B   R14, R9
        RLA.W   R9
        MOV.W   R13, R4
        ADD.W   R9, R4
        CMP.W   R7, 0(R4)
        JNE     ??ZDO_CompareClusterLists_3
//  567       {
//  568         pMatches[numMatches++] = z;
        MOV.B   R12, R4
        RLA.W   R4
        MOV.W   R6, R9
        ADD.W   R4, R9
        MOV.W   R7, 0(R9)
        ADD.B   #0x1, R12
//  569       }
//  570     }
??ZDO_CompareClusterLists_3:
        ADD.B   #0x1, R15
??ZDO_CompareClusterLists_1:
        CMP.B   R11, R15
        JNC     ??ZDO_CompareClusterLists_0
        ADD.B   #0x1, R14
??ZDO_CompareClusterLists_2:
        CMP.B   R10, R14
        JC      ??ZDO_CompareClusterLists_4
        MOV.B   #0x0, R15
        JMP     ??ZDO_CompareClusterLists_1
//  571   }
//  572 
//  573   return ( numMatches );
??ZDO_CompareClusterLists_4:
        POPM.W  #0x8, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock7
//  574 }
//  575 
//  576 /*********************************************************************
//  577  * Utility functions
//  578  */
//  579 
//  580 /*********************************************************************
//  581  * @fn          ZDO_CompareByteLists
//  582  *
//  583  * @brief       Compares two lists for matches.
//  584  *
//  585  * @param       ACnt  - number of entries in list A
//  586  * @param       AList  - List A
//  587  * @param       BCnt  - number of entries in list B
//  588  * @param       BList  - List B
//  589  *
//  590  * @return      true if a match is found
//  591  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  592 byte ZDO_AnyClusterMatches( byte ACnt, uint16 *AList, byte BCnt, uint16 *BList )
ZDO_AnyClusterMatches:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function ZDO_AnyClusterMatches
//  593 {
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        MOV.B   R12, R8
//  594   byte x, y;
//  595 
//  596   for ( x = 0; x < ACnt; x++ )
        MOV.B   #0x0, R10
        JMP     ??ZDO_AnyClusterMatches_3
??ZDO_AnyClusterMatches_0:
        ADD.B   #0x1, R10
??ZDO_AnyClusterMatches_3:
        CMP.B   R8, R10
        MOV.B   #0x0, R12
        JC      ??ZDO_AnyClusterMatches_2
//  597   {
//  598     for ( y = 0; y < BCnt; y++ )
        JMP     ??ZDO_AnyClusterMatches_4
??ZDO_AnyClusterMatches_1:
        ADD.B   #0x1, R12
??ZDO_AnyClusterMatches_4:
        CMP.B   R14, R12
        JC      ??ZDO_AnyClusterMatches_0
//  599     {
//  600       if ( AList[x] == BList[y] )
        MOV.B   R10, R11
        RLA.W   R11
        MOV.W   R13, R9
        ADD.W   R11, R9
        MOV.B   R12, R6
        RLA.W   R6
        MOV.W   R15, R11
        ADD.W   R6, R11
        CMP.W   @R11, 0(R9)
        JNE     ??ZDO_AnyClusterMatches_1
//  601       {
//  602         return true;
        MOV.B   #0x1, R12
//  603       }
//  604     }
//  605   }
//  606 
//  607   return false;
??ZDO_AnyClusterMatches_2:
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock8
//  608 }
//  609 
//  610 /*********************************************************************
//  611  * Callback functions from ZDProfile
//  612  */
//  613 
//  614 /*********************************************************************
//  615  * @fn          ZDO_ProcessNodeDescReq
//  616  *
//  617  * @brief       This function processes and responds to the
//  618  *              Node_Desc_req message.
//  619  *
//  620  * @param       inMsg - incoming message
//  621  *
//  622  * @return      none
//  623  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine28:
          CFI Block cfiCond9 Using cfiCommon0
          CFI Function ZDO_ProcessUserDescReq
          CFI Conditional ??CrossCallReturnLabel_41
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+30
          CFI Block cfiCond10 Using cfiCommon0
          CFI (cfiCond10) Function ZDO_ProcessActiveEPReq
          CFI (cfiCond10) Conditional ??CrossCallReturnLabel_42
          CFI (cfiCond10) R8L Frame(CFA, -12)
          CFI (cfiCond10) R9L Frame(CFA, -10)
          CFI (cfiCond10) R10L Frame(CFA, -8)
          CFI (cfiCond10) R11L Frame(CFA, -6)
          CFI (cfiCond10) CFA SP+16
          CFI Block cfiCond11 Using cfiCommon0
          CFI (cfiCond11) Function ZDO_ProcessPowerDescReq
          CFI (cfiCond11) Conditional ??CrossCallReturnLabel_43, ??CrossCallReturnLabel_27
          CFI (cfiCond11) CFA SP+12
          CFI Block cfiCond12 Using cfiCommon0
          CFI (cfiCond12) Function ZDO_ProcessNodeDescReq
          CFI (cfiCond12) Conditional ??CrossCallReturnLabel_43, ??CrossCallReturnLabel_28
          CFI (cfiCond12) CFA SP+12
          CFI Block cfiPicker13 Using cfiCommon1
          CFI (cfiPicker13) NoFunction
          CFI (cfiPicker13) Picker
//  624 void ZDO_ProcessNodeDescReq( zdoIncomingMsg_t *inMsg )
//  625 {
//  626   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV.B   0x1(R15), R15
        RPT     #0x8
        RLAX.W  R15
        RETA
          CFI EndBlock cfiCond9
          CFI EndBlock cfiCond10
          CFI EndBlock cfiCond11
          CFI EndBlock cfiCond12
          CFI EndBlock cfiPicker13

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessPowerDescReq:
          CFI Block cfiBlock14 Using cfiCommon0
          CFI Function ZDO_ProcessPowerDescReq
        FUNCALL ZDO_ProcessPowerDescReq, ZDP_PowerDescMsg
        LOCFRAME CSTACK, 4, STACK
        FUNCALL ZDO_ProcessPowerDescReq, ZDP_GenericRsp
        LOCFRAME CSTACK, 8, STACK
        CALLA   #?Subroutine18
??CrossCallReturnLabel_27:
        JNE     ??ZDO_ProcessPowerDescReq_0
        MOV.W   #ZDO_Config_Power_Descriptor, R14
        BRA     #ZDP_PowerDescMsg
??ZDO_ProcessPowerDescReq_0:
        PUSH.B  0x10(R12)
          CFI CFA SP+6
        PUSH.W  #0x8003
          CFI EndBlock cfiBlock14
        REQUIRE ?Subroutine0
        // Fall through to label ?Subroutine0

        RSEG CODE:CODE:NOROOT(1)
?Subroutine0:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+8
        MOV.W   R13, R15
        MOV.B   #0x80, R14
        MOV.W   R12, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R12), R12
        CALLA   #ZDP_GenericRsp
        ADD.W   #0x4, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock15

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ProcessNodeDescReq:
          CFI Block cfiBlock16 Using cfiCommon0
          CFI Function ZDO_ProcessNodeDescReq
        FUNCALL ZDO_ProcessNodeDescReq, ZDP_NodeDescMsg
        LOCFRAME CSTACK, 4, STACK
        FUNCALL ZDO_ProcessNodeDescReq, ZDP_GenericRsp
        LOCFRAME CSTACK, 8, STACK
        CALLA   #?Subroutine18
//  627   NodeDescriptorFormat_t *desc = NULL;
//  628 
//  629   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
??CrossCallReturnLabel_28:
        JNE     ??ZDO_ProcessNodeDescReq_0
//  630   {
//  631     desc = &ZDO_Config_Node_Descriptor;
//  632   }
//  633 
//  634   if ( desc != NULL )
//  635   {
//  636     ZDP_NodeDescMsg( inMsg, aoi, desc );
        MOV.W   #ZDO_Config_Node_Descriptor, R14
        BRA     #ZDP_NodeDescMsg
//  637   }
//  638   else
//  639   {
//  640     ZDP_GenericRsp( inMsg->TransSeq, &(inMsg->srcAddr),
//  641               ZDP_INVALID_REQTYPE, aoi, Node_Desc_rsp, inMsg->SecurityUse );
??ZDO_ProcessNodeDescReq_0:
        PUSH.B  0x10(R12)
          CFI CFA SP+6
        PUSH.W  #0x8002
          CFI CFA SP+8
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock16
//  642   }
//  643 }

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine18:
          CFI Block cfiCond17 Using cfiCommon0
          CFI Function ZDO_ProcessPowerDescReq
          CFI Conditional ??CrossCallReturnLabel_27
          CFI CFA SP+8
          CFI Block cfiCond18 Using cfiCommon0
          CFI (cfiCond18) Function ZDO_ProcessNodeDescReq
          CFI (cfiCond18) Conditional ??CrossCallReturnLabel_28
          CFI (cfiCond18) CFA SP+8
          CFI Block cfiPicker19 Using cfiCommon1
          CFI (cfiPicker19) NoFunction
          CFI (cfiPicker19) Picker
//  644 
//  645 /*********************************************************************
//  646  * @fn          ZDO_ProcessPowerDescReq
//  647  *
//  648  * @brief       This function processes and responds to the
//  649  *              Node_Power_req message.
//  650  *
//  651  * @param       inMsg  - incoming request
//  652  *
//  653  * @return      none
//  654  */
//  655 void ZDO_ProcessPowerDescReq( zdoIncomingMsg_t *inMsg )
//  656 {
//  657   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R13
        CALLA   #?Subroutine28
??CrossCallReturnLabel_43:
        ADD.W   R15, R13
//  658   NodePowerDescriptorFormat_t *desc = NULL;
//  659 
//  660   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
        CMP.W   &ZDAppNwkAddr, R13
        RETA
          CFI EndBlock cfiCond17
          CFI EndBlock cfiCond18
          CFI EndBlock cfiPicker19

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseMgmtNwkUpdateNotify:
          CFI Block cfiBlock20 Using cfiCommon0
          CFI Function ZDO_ParseMgmtNwkUpdateNotify
        FUNCALL ZDO_ParseMgmtNwkUpdateNotify, osal_build_uint32
        LOCFRAME CSTACK, 22, STACK
        FUNCALL ZDO_ParseMgmtNwkUpdateNotify, osal_mem_alloc
        LOCFRAME CSTACK, 22, STACK
        FUNCALL ZDO_ParseMgmtNwkUpdateNotify, osal_memcpy
        LOCFRAME CSTACK, 22, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        SUB.W   #0x2, SP
          CFI CFA SP+22
        MOV.W   #0x0, R10
        MOV.W   #0x0, R11
        MOV.W   #0x0, R6
        MOV.W   #0x0, R7
        MOV.B   #0x0, R8
        MOV.W   0x16(R12), R9
        MOV.B   @R9+, 0(SP)
        CMP.B   #0x0, 0(SP)
        JNE     ??ZDO_ParseMgmtNwkUpdateNotify_0
        MOV.B   #0x4, R13
        MOV.W   R9, R12
        CALLA   #osal_build_uint32
        MOV.W   R12, R10
        MOV.W   R13, R11
        ADD.W   #0x4, R9
        MOV.B   @R9, R6
        MOV.B   0x1(R9), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R6
        ADD.W   #0x2, R9
        MOV.B   @R9, R7
        MOV.B   0x1(R9), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R7
        ADD.W   #0x2, R9
        MOV.B   @R9+, R8
??ZDO_ParseMgmtNwkUpdateNotify_0:
        MOV.B   R8, R4
        MOV.W   R4, R12
        ADD.W   #0xc, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R5
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseMgmtNwkUpdateNotify_1
        MOV.B   @SP, 0(R12)
        MOV.W   R10, 0x2(R12)
        MOV.W   R11, 0x4(R12)
        MOV.W   R6, 0x6(R12)
        MOV.W   R7, 0x8(R12)
        MOV.B   R8, 0xa(R12)
        CMP.B   #0x0, R8
        JEQ     ??ZDO_ParseMgmtNwkUpdateNotify_1
        MOV.W   R4, R14
        MOV.W   R9, R13
        ADD.W   #0xb, R12
        CALLA   #osal_memcpy
??ZDO_ParseMgmtNwkUpdateNotify_1:
        MOV.W   R5, R12
          CFI EndBlock cfiBlock20
        REQUIRE ?Subroutine1
        // Fall through to label ?Subroutine1
//  661   {
//  662     desc = &ZDO_Config_Power_Descriptor;
//  663   }
//  664 
//  665   if ( desc != NULL )
//  666   {
//  667     ZDP_PowerDescMsg( inMsg, aoi, desc );
//  668   }
//  669   else
//  670   {
//  671     ZDP_GenericRsp( inMsg->TransSeq, &(inMsg->srcAddr),
//  672               ZDP_INVALID_REQTYPE, aoi, Power_Desc_rsp, inMsg->SecurityUse );
//  673   }
//  674 }
//  675 
//  676 /*********************************************************************
//  677  * @fn          ZDO_ProcessSimpleDescReq
//  678  *
//  679  * @brief       This function processes and responds to the
//  680  *              Simple_Desc_req message.
//  681  *
//  682  * @param       inMsg - incoming message (request)
//  683  *
//  684  * @return      none
//  685  */
//  686 void ZDO_ProcessSimpleDescReq( zdoIncomingMsg_t *inMsg )
//  687 {
//  688   SimpleDescriptionFormat_t *sDesc = NULL;
//  689   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
//  690   byte endPoint = inMsg->asdu[2];
//  691   byte free = false;
//  692   byte stat = ZDP_SUCCESS;
//  693 
//  694   if ( (endPoint == ZDO_EP) || (endPoint > MAX_ENDPOINTS) )
//  695   {
//  696     stat = ZDP_INVALID_EP;
//  697   }
//  698   else if ( aoi == ZDAppNwkAddr.addr.shortAddr )
//  699   {
//  700     free = afFindSimpleDesc( &sDesc, endPoint );
//  701     if ( sDesc == NULL )
//  702     {
//  703       stat = ZDP_NOT_ACTIVE;
//  704     }
//  705   }
//  706   else
//  707   {
//  708     if ( ZSTACK_ROUTER_BUILD )
//  709     {
//  710       stat = ZDP_DEVICE_NOT_FOUND;
//  711     }
//  712     else if ( ZSTACK_END_DEVICE_BUILD )
//  713     {
//  714       stat = ZDP_INVALID_REQTYPE;
//  715     }
//  716   }
//  717 
//  718   ZDP_SimpleDescMsg( inMsg, stat, sDesc );
//  719 
//  720   if ( free && sDesc )
//  721   {
//  722     osal_mem_free( sDesc );
//  723   }
//  724 }
//  725 
//  726 /*********************************************************************
//  727  * @fn          ZDO_ProcessActiveEPReq
//  728  *
//  729  * @brief       This function processes and responds to the
//  730  *              Active_EP_req message.
//  731  *
//  732  * @param       inMsg  - incoming message (request)
//  733  *
//  734  * @return      none
//  735  */
//  736 void ZDO_ProcessActiveEPReq( zdoIncomingMsg_t *inMsg )
//  737 {
//  738   byte cnt = 0;
//  739   uint16 aoi;
//  740   byte stat = ZDP_SUCCESS;
//  741 
//  742   aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
//  743 
//  744   if ( aoi == NLME_GetShortAddr() )
//  745   {
//  746     cnt = afNumEndPoints() - 1;  // -1 for ZDO endpoint descriptor
//  747     afEndPoints( (uint8 *)ZDOBuildBuf, true );
//  748   }
//  749   else
//  750   {
//  751     stat = ZDP_INVALID_REQTYPE;
//  752   }
//  753 
//  754   ZDP_ActiveEPRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat,
//  755                   aoi, cnt, (uint8 *)ZDOBuildBuf, inMsg->SecurityUse );
//  756 }
//  757 
//  758 /*********************************************************************
//  759  * @fn          ZDO_ConvertOTAClusters
//  760  *
//  761  * @brief       This function will convert the over-the-air cluster list
//  762  *              format to an internal format.
//  763  *
//  764  * @param       inMsg  - incoming message (request)
//  765  *
//  766  * @return      pointer to incremented inBuf
//  767  */
//  768 uint8 *ZDO_ConvertOTAClusters( uint8 cnt, uint8 *inBuf, uint16 *outList )
//  769 {
//  770   uint8 x;
//  771 
//  772   for ( x = 0; x < cnt; x++ )
//  773   {
//  774     // convert ota format to internal
//  775     outList[x] = BUILD_UINT16( inBuf[0], inBuf[1] );
//  776     inBuf += sizeof( uint16 );
//  777   }
//  778   return ( inBuf );
//  779 }
//  780 
//  781 /*********************************************************************
//  782  * @fn          ZDO_ProcessMatchDescReq
//  783  *
//  784  * @brief       This function processes and responds to the
//  785  *              Match_Desc_req message.
//  786  *
//  787  * @param       inMsg  - incoming message (request)
//  788  *
//  789  * @return      none
//  790  */
//  791 void ZDO_ProcessMatchDescReq( zdoIncomingMsg_t *inMsg )
//  792 {
//  793   uint8 epCnt = 0;
//  794   uint8 numInClusters;
//  795   uint16 *inClusters = NULL;
//  796   uint8 numOutClusters;
//  797   uint16 *outClusters = NULL;
//  798   epList_t *epDesc;
//  799   SimpleDescriptionFormat_t *sDesc = NULL;
//  800   uint8 allocated;
//  801   uint8 *msg;
//  802   uint16 aoi;
//  803   uint16 profileID;
//  804 
//  805   // Parse the incoming message
//  806   msg = inMsg->asdu;
//  807   aoi = BUILD_UINT16( msg[0], msg[1] );
//  808   profileID = BUILD_UINT16( msg[2], msg[3] );
//  809   msg += 4;
//  810 
//  811   if ( ADDR_BCAST_NOT_ME == NLME_IsAddressBroadcast(aoi) )
//  812   {
//  813     ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_INVALID_REQTYPE,
//  814                           ZDAppNwkAddr.addr.shortAddr, 0, NULL, inMsg->SecurityUse );
//  815     return;
//  816   }
//  817   else if ( (ADDR_NOT_BCAST == NLME_IsAddressBroadcast(aoi)) && (aoi != ZDAppNwkAddr.addr.shortAddr) )
//  818   {
//  819     ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_INVALID_REQTYPE,
//  820                              ZDAppNwkAddr.addr.shortAddr, 0, NULL, inMsg->SecurityUse );
//  821     return;
//  822   }
//  823 
//  824   if ((numInClusters = *msg++) &&
//  825       (inClusters = (uint16*)osal_mem_alloc( numInClusters * sizeof( uint16 ) )))
//  826   {
//  827     msg = ZDO_ConvertOTAClusters( numInClusters, msg, inClusters );
//  828   }
//  829   else
//  830   {
//  831     numInClusters = 0;
//  832   }
//  833 
//  834   if ((numOutClusters = *msg++) &&
//  835       (outClusters = (uint16 *)osal_mem_alloc( numOutClusters * sizeof( uint16 ) )))
//  836   {
//  837     msg = ZDO_ConvertOTAClusters( numOutClusters, msg, outClusters );
//  838   }
//  839   else
//  840   {
//  841     numOutClusters = 0;
//  842   }
//  843 
//  844   // First count the number of endpoints that match.
//  845   epDesc = epList;
//  846   while ( epDesc )
//  847   {
//  848     // Don't search endpoint 0 and check if response is allowed
//  849     if ( epDesc->epDesc->endPoint != ZDO_EP && (epDesc->flags&eEP_AllowMatch) )
//  850     {
//  851       if ( epDesc->pfnDescCB )
//  852       {
//  853         sDesc = (SimpleDescriptionFormat_t *)epDesc->pfnDescCB( AF_DESCRIPTOR_SIMPLE, epDesc->epDesc->endPoint );
//  854         allocated = TRUE;
//  855       }
//  856       else
//  857       {
//  858         sDesc = epDesc->epDesc->simpleDesc;
//  859         allocated = FALSE;
//  860       }
//  861 
//  862       if ( sDesc && sDesc->AppProfId == profileID )
//  863       {
//  864         uint8 *uint8Buf = (uint8 *)ZDOBuildBuf;
//  865 
//  866         // Are there matching input clusters?
//  867         if ((ZDO_AnyClusterMatches( numInClusters, inClusters,
//  868                    sDesc->AppNumInClusters, sDesc->pAppInClusterList )) ||
//  869             // Are there matching output clusters?
//  870             (ZDO_AnyClusterMatches( numOutClusters, outClusters,
//  871                    sDesc->AppNumOutClusters, sDesc->pAppOutClusterList )))
//  872         {
//  873           // Notify the endpoint of the match.
//  874           uint8 bufLen = sizeof( ZDO_MatchDescRspSent_t ) + (numOutClusters + numInClusters) * sizeof(uint16);
//  875           ZDO_MatchDescRspSent_t *pRspSent = (ZDO_MatchDescRspSent_t *) osal_msg_allocate( bufLen );
//  876 
//  877           if (pRspSent)
//  878           {
//  879             pRspSent->hdr.event = ZDO_MATCH_DESC_RSP_SENT;
//  880             pRspSent->nwkAddr = inMsg->srcAddr.addr.shortAddr;
//  881             pRspSent->numInClusters = numInClusters;
//  882             pRspSent->numOutClusters = numOutClusters;
//  883 
//  884             if (numInClusters)
//  885             {
//  886               pRspSent->pInClusters = (uint16*) (pRspSent + 1);
//  887               osal_memcpy(pRspSent->pInClusters, inClusters, numInClusters * sizeof(uint16));
//  888             }
//  889             else
//  890             {
//  891               pRspSent->pInClusters = NULL;
//  892             }
//  893 
//  894             if (numOutClusters)
//  895             {
//  896               pRspSent->pOutClusters = (uint16*)(pRspSent + 1) + numInClusters;
//  897               osal_memcpy(pRspSent->pOutClusters, outClusters, numOutClusters * sizeof(uint16));
//  898             }
//  899             else
//  900             {
//  901               pRspSent->pOutClusters = NULL;
//  902             }
//  903 
//  904             osal_msg_send( *epDesc->epDesc->task_id, (uint8 *)pRspSent );
//  905           }
//  906 
//  907           uint8Buf[epCnt++] = sDesc->EndPoint;
//  908         }
//  909       }
//  910 
//  911       if ( allocated )
//  912       {
//  913         osal_mem_free( sDesc );
//  914       }
//  915     }
//  916     epDesc = epDesc->nextDesc;
//  917   }
//  918 
//  919   if ( epCnt )
//  920   {
//  921     // Send the message if at least one match found.
//  922     if ( ZSuccess == ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_SUCCESS,
//  923               ZDAppNwkAddr.addr.shortAddr, epCnt, (uint8 *)ZDOBuildBuf, inMsg->SecurityUse ) )
//  924     {
//  925 #if defined( LCD_SUPPORTED )
//  926       HalLcdWriteScreen( "Match Desc Req", "Rsp Sent" );
//  927 #endif
//  928     }
//  929   }
//  930   else
//  931   {
//  932     // No match found
//  933     if (ADDR_NOT_BCAST == NLME_IsAddressBroadcast(aoi))
//  934     {
//  935       // send response message with match length = 0
//  936       ZDP_MatchDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZDP_SUCCESS,
//  937                         ZDAppNwkAddr.addr.shortAddr, 0, (uint8 *)ZDOBuildBuf, inMsg->SecurityUse );
//  938 #if defined( LCD_SUPPORTED )
//  939       HalLcdWriteScreen( "Match Desc Req", "Rsp Non Matched" );
//  940 #endif
//  941     }
//  942     else
//  943     {
//  944       // no response mesage for broadcast message
//  945 #if defined( LCD_SUPPORTED )
//  946       HalLcdWriteScreen( "Match Desc Req", "Non Matched" );
//  947 #endif
//  948     }
//  949   }
//  950 
//  951   if ( inClusters != NULL )
//  952   {
//  953     osal_mem_free( inClusters );
//  954   }
//  955 
//  956   if ( outClusters != NULL )
//  957   {
//  958     osal_mem_free( outClusters );
//  959   }
//  960 }
//  961 
//  962 /*********************************************************************
//  963  * @fn      ZDO_ProcessBindUnbindReq()
//  964  *
//  965  * @brief   Called to process a Bind or Unbind Request message.
//  966  *
//  967  * @param   inMsg  - incoming message (request)
//  968  * @param   pReq - place to put parsed information
//  969  *
//  970  * @return  none
//  971  */
//  972 void ZDO_ProcessBindUnbindReq( zdoIncomingMsg_t *inMsg, ZDO_BindUnbindReq_t *pReq )
//  973 {
//  974   zAddrType_t SourceAddr;       // Binding Source addres
//  975   byte bindStat;
//  976 
//  977   SourceAddr.addrMode = Addr64Bit;
//  978   osal_cpyExtAddr( SourceAddr.addr.extAddr, pReq->srcAddress );
//  979 
//  980   // If the local device is not the primary binding cache
//  981   // check the src address of the bind request.
//  982   // If it is not the local device's extended address
//  983   // discard the request.
//  984   if ( !osal_ExtAddrEqual( SourceAddr.addr.extAddr, NLME_GetExtAddr()) ||
//  985         (pReq->dstAddress.addrMode != Addr64Bit &&
//  986          pReq->dstAddress.addrMode != AddrGroup) )
//  987   {
//  988     bindStat = ZDP_NOT_SUPPORTED;
//  989   }
//  990   else
//  991   {
//  992     // Check source & destination endpoints
//  993     if ( (pReq->srcEndpoint == 0 || pReq->srcEndpoint > MAX_ENDPOINTS)
//  994         || (( pReq->dstAddress.addrMode == Addr64Bit ) &&
//  995             (pReq->dstEndpoint == 0 || pReq->dstEndpoint > MAX_ENDPOINTS)) )
//  996     {
//  997       bindStat = ZDP_INVALID_EP;
//  998     }
//  999     else
// 1000     {
// 1001       if ( inMsg->clusterID == Bind_req )
// 1002       {
// 1003         // Assume the table is full
// 1004         bindStat = ZDP_TABLE_FULL;
// 1005 
// 1006 #if defined( APP_TP ) || defined( APP_TP2 )
// 1007         // For ZigBee Conformance Testing
// 1008         if ( bindNumOfEntries() < gNWK_MAX_BINDING_ENTRIES )
// 1009 #endif
// 1010         {
// 1011           if ( APSME_BindRequest( pReq->srcEndpoint, pReq->clusterID,
// 1012                          &(pReq->dstAddress), pReq->dstEndpoint ) == ZSuccess )
// 1013           {
// 1014             uint16 nwkAddr;
// 1015 
// 1016             // valid entry
// 1017             bindStat = ZDP_SUCCESS;
// 1018 
// 1019             // Notify to save info into NV
// 1020             ZDApp_NVUpdate();
// 1021 
// 1022             // Check for the destination address
// 1023             if ( pReq->dstAddress.addrMode == Addr64Bit )
// 1024             {
// 1025               if ( APSME_LookupNwkAddr( pReq->dstAddress.addr.extAddr, &nwkAddr ) == FALSE )
// 1026               {
// 1027                 ZDP_NwkAddrReq( pReq->dstAddress.addr.extAddr, ZDP_ADDR_REQTYPE_SINGLE, 0, 0 );
// 1028               }
// 1029             }
// 1030           }
// 1031         }
// 1032       }
// 1033       else // Unbind_req
// 1034       {
// 1035         if ( APSME_UnBindRequest( pReq->srcEndpoint, pReq->clusterID,
// 1036                        &(pReq->dstAddress), pReq->dstEndpoint ) == ZSuccess )
// 1037         {
// 1038           bindStat = ZDP_SUCCESS;
// 1039 
// 1040           // Notify to save info into NV
// 1041           ZDApp_NVUpdate();
// 1042         }
// 1043         else
// 1044           bindStat = ZDP_NO_ENTRY;
// 1045       }
// 1046     }
// 1047   }
// 1048 
// 1049   // Send back a response message
// 1050   ZDP_SendData( &(inMsg->TransSeq), &(inMsg->srcAddr),
// 1051                (inMsg->clusterID | ZDO_RESPONSE_BIT), 1, &bindStat,
// 1052                inMsg->SecurityUse );
// 1053 }
// 1054 
// 1055 /*********************************************************************
// 1056  * @fn      ZDO_UpdateAddrManager
// 1057  *
// 1058  * @brief   Update the Address Manager.
// 1059  *
// 1060  * @param   nwkAddr - network address
// 1061  * @param   extAddr - extended address
// 1062  *
// 1063  * @return  none
// 1064  */
// 1065 void ZDO_UpdateAddrManager( uint16 nwkAddr, uint8 *extAddr )
// 1066 {
// 1067   AddrMgrEntry_t addrEntry;
// 1068 
// 1069   // Update the address manager
// 1070   addrEntry.user = ADDRMGR_USER_DEFAULT;
// 1071   addrEntry.nwkAddr = nwkAddr;
// 1072   AddrMgrExtAddrSet( addrEntry.extAddr, extAddr );
// 1073   AddrMgrEntryUpdate( &addrEntry );
// 1074 }
// 1075 
// 1076 /*********************************************************************
// 1077  * @fn      ZDO_ProcessServerDiscReq
// 1078  *
// 1079  * @brief   Process the Server_Discovery_req message.
// 1080  *
// 1081  * @param   inMsg  - incoming message (request)
// 1082  *
// 1083  * @return  none
// 1084  */
// 1085 void ZDO_ProcessServerDiscReq( zdoIncomingMsg_t *inMsg )
// 1086 {
// 1087   uint16 serverMask = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
// 1088   uint16 matchMask = serverMask & ZDO_Config_Node_Descriptor.ServerMask;
// 1089 
// 1090   if ( matchMask )
// 1091   {
// 1092     ZDP_ServerDiscRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSUCCESS,
// 1093                 ZDAppNwkAddr.addr.shortAddr, matchMask, inMsg->SecurityUse );
// 1094   }
// 1095 }
// 1096 
// 1097 /*********************************************************************
// 1098  * Call Back Functions from APS  - API
// 1099  */
// 1100 
// 1101 /*********************************************************************
// 1102  * @fn          ZDO_EndDeviceTimeoutCB
// 1103  *
// 1104  * @brief       This function handles the binding timer for the End
// 1105  *              Device Bind command.
// 1106  *
// 1107  * @param       none
// 1108  *
// 1109  * @return      none
// 1110  */
// 1111 void ZDO_EndDeviceTimeoutCB( void )
// 1112 {
// 1113 #if defined ( REFLECTOR )
// 1114   byte stat;
// 1115   if ( ZDO_EDBind )
// 1116   {
// 1117     stat = ZDO_EDBind->status;
// 1118 
// 1119     // Send the response message to the first sent
// 1120     ZDO_SendEDBindRsp( ZDO_EDBind->SrcTransSeq, &(ZDO_EDBind->SrcAddr),
// 1121                         stat, ZDO_EDBind->SecurityUse );
// 1122 
// 1123     ZDO_RemoveEndDeviceBind();
// 1124   }
// 1125 #endif  // REFLECTOR
// 1126 }
// 1127 
// 1128 /*********************************************************************
// 1129  * Optional Management Messages
// 1130  */
// 1131 
// 1132 /*********************************************************************
// 1133  * @fn          ZDO_ProcessMgmtLqiReq
// 1134  *
// 1135  * @brief       This function handles parsing the incoming Management
// 1136  *              LQI request and generate the response.
// 1137  *
// 1138  *   Note:      This function will limit the number of items returned
// 1139  *              to ZDO_MAX_LQI_ITEMS items.
// 1140  *
// 1141  * @param       inMsg - incoming message (request)
// 1142  *
// 1143  * @return      none
// 1144  */
// 1145 void ZDO_ProcessMgmtLqiReq( zdoIncomingMsg_t *inMsg )
// 1146 {
// 1147   byte x;
// 1148   byte index;
// 1149   byte numItems;
// 1150   byte maxItems;
// 1151   ZDP_MgmtLqiItem_t* table = NULL;
// 1152   ZDP_MgmtLqiItem_t* item;
// 1153   neighborEntry_t    entry;
// 1154   byte aItems;
// 1155   associated_devices_t *aDevice;
// 1156   AddrMgrEntry_t  nwkEntry;
// 1157   uint8 StartIndex = inMsg->asdu[0];
// 1158 
// 1159   // Get the number of neighbor items
// 1160   NLME_GetRequest( nwkNumNeighborTableEntries, 0, &maxItems );
// 1161 
// 1162   // Get the number of associated items
// 1163   aItems = (uint8)AssocCount( PARENT, CHILD_FFD_RX_IDLE );
// 1164 
// 1165   // Total number of items
// 1166   maxItems += aItems;
// 1167 
// 1168   // Start with the supplied index
// 1169   if ( maxItems > StartIndex )
// 1170   {
// 1171     numItems = maxItems - StartIndex;
// 1172 
// 1173     // limit the size of the list
// 1174     if ( numItems > ZDO_MAX_LQI_ITEMS )
// 1175       numItems = ZDO_MAX_LQI_ITEMS;
// 1176 
// 1177     // Allocate the memory to build the table
// 1178     table = (ZDP_MgmtLqiItem_t*)osal_mem_alloc( (short)
// 1179               ( numItems * sizeof( ZDP_MgmtLqiItem_t ) ) );
// 1180 
// 1181     if ( table != NULL )
// 1182     {
// 1183       x = 0;
// 1184       item = table;
// 1185       index = StartIndex;
// 1186 
// 1187       // Loop through associated items and build list
// 1188       for ( ; x < numItems; x++ )
// 1189       {
// 1190         if ( index < aItems )
// 1191         {
// 1192           // get next associated device
// 1193           aDevice = AssocFindDevice( index++ );
// 1194 
// 1195           // set basic fields
// 1196           item->panID   = _NIB.nwkPanId;
// 1197           osal_cpyExtAddr( item->extPanID, _NIB.extendedPANID );
// 1198           item->nwkAddr = aDevice->shortAddr;
// 1199           item->permit  = ZDP_MGMT_BOOL_UNKNOWN;
// 1200           item->depth   = 0xFF;
// 1201           item->lqi     = aDevice->linkInfo.rxLqi;
// 1202 
// 1203           // set extented address
// 1204           nwkEntry.user    = ADDRMGR_USER_DEFAULT;
// 1205           nwkEntry.nwkAddr = aDevice->shortAddr;
// 1206 
// 1207           if ( AddrMgrEntryLookupNwk( &nwkEntry ) == TRUE )
// 1208           {
// 1209             osal_cpyExtAddr( item->extAddr, nwkEntry.extAddr );
// 1210           }
// 1211           else
// 1212           {
// 1213             osal_memset( item->extAddr, 0xFF, Z_EXTADDR_LEN );
// 1214           }
// 1215 
// 1216           // use association info to set other fields
// 1217           if ( aDevice->nodeRelation == PARENT )
// 1218           {
// 1219             if (  aDevice->shortAddr == 0 )
// 1220             {
// 1221               item->devType = ZDP_MGMT_DT_COORD;
// 1222               item->depth = 0;
// 1223             }
// 1224             else
// 1225             {
// 1226               item->devType = ZDP_MGMT_DT_ROUTER;
// 1227               item->depth = _NIB.nodeDepth - 1;
// 1228             }
// 1229 
// 1230             item->rxOnIdle = ZDP_MGMT_BOOL_UNKNOWN;
// 1231             item->relation = ZDP_MGMT_REL_PARENT;
// 1232           }
// 1233           else
// 1234           {
// 1235             // If not parent, then it's a child
// 1236             item->depth = _NIB.nodeDepth + 1;
// 1237 
// 1238             if ( aDevice->nodeRelation < CHILD_FFD )
// 1239             {
// 1240               item->devType = ZDP_MGMT_DT_ENDDEV;
// 1241 
// 1242               if ( aDevice->nodeRelation == CHILD_RFD )
// 1243               {
// 1244                 item->rxOnIdle = FALSE;
// 1245               }
// 1246               else
// 1247               {
// 1248                 item->rxOnIdle = TRUE;
// 1249               }
// 1250             }
// 1251             else
// 1252             {
// 1253               item->devType = ZDP_MGMT_DT_ROUTER;
// 1254 
// 1255               if ( aDevice->nodeRelation == CHILD_FFD )
// 1256               {
// 1257                 item->rxOnIdle = FALSE;
// 1258               }
// 1259               else
// 1260               {
// 1261                 item->rxOnIdle = TRUE;
// 1262               }
// 1263             }
// 1264 
// 1265             item->relation = ZDP_MGMT_REL_CHILD;
// 1266           }
// 1267 
// 1268           item++;
// 1269         }
// 1270         else
// 1271         {
// 1272           if ( StartIndex <= aItems )
// 1273             // Start with 1st neighbor
// 1274             index = 0;
// 1275           else
// 1276             // Start with >1st neighbor
// 1277             index = StartIndex - aItems;
// 1278           break;
// 1279         }
// 1280       }
// 1281 
// 1282       // Loop through neighbor items and finish list
// 1283       for ( ; x < numItems; x++ )
// 1284       {
// 1285         // Add next neighbor table item
// 1286         NLME_GetRequest( nwkNeighborTable, index++, &entry );
// 1287 
// 1288         // set ZDP_MgmtLqiItem_t fields
// 1289         item->panID    = entry.panId;
// 1290         osal_cpyExtAddr( item->extPanID, _NIB.extendedPANID );
// 1291         osal_memset( item->extAddr, 0xFF, Z_EXTADDR_LEN );
// 1292         item->nwkAddr  = entry.neighborAddress;
// 1293         item->rxOnIdle = ZDP_MGMT_BOOL_UNKNOWN;
// 1294         item->relation = ZDP_MGMT_REL_UNKNOWN;
// 1295         item->permit   = ZDP_MGMT_BOOL_UNKNOWN;
// 1296         item->depth    = 0xFF;
// 1297         item->lqi      = entry.linkInfo.rxLqi;
// 1298 
// 1299         if ( item->nwkAddr == 0 )
// 1300         {
// 1301           item->devType = ZDP_MGMT_DT_COORD;
// 1302         }
// 1303         else
// 1304         {
// 1305           item->devType = ZDP_MGMT_DT_ROUTER;
// 1306         }
// 1307 
// 1308         item++;
// 1309       }
// 1310     }
// 1311   }
// 1312   else
// 1313   {
// 1314     numItems = 0;
// 1315   }
// 1316 
// 1317   // Send response
// 1318   ZDP_MgmtLqiRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSuccess, maxItems,
// 1319                   StartIndex, numItems, table, false );
// 1320 
// 1321   if ( table )
// 1322   {
// 1323     osal_mem_free( table );
// 1324   }
// 1325 }
// 1326 
// 1327 /*********************************************************************
// 1328  * @fn          ZDO_ProcessMgmtNwkDiscReq
// 1329  *
// 1330  * @brief       This function handles parsing the incoming Management
// 1331  *              Network Discover request and starts the request.
// 1332  *
// 1333  * @param       inMsg - incoming message (request)
// 1334  *
// 1335  * @return      none
// 1336  */
// 1337 void ZDO_ProcessMgmtNwkDiscReq( zdoIncomingMsg_t *inMsg )
// 1338 {
// 1339   NLME_ScanFields_t scan;
// 1340   uint8             index;
// 1341   uint8             *msg;
// 1342 
// 1343   msg = inMsg->asdu;
// 1344   scan.channels = osal_build_uint32( msg, 4 );
// 1345   msg += 4;
// 1346   scan.duration = *msg++;
// 1347   index         = *msg;
// 1348   scan.scanType = ZMAC_ACTIVE_SCAN;
// 1349   scan.scanApp  = NLME_DISC_SCAN;
// 1350 
// 1351   // Save off the information to be used for the response
// 1352   zdappMgmtNwkDiscReqInProgress          = true;
// 1353   zdappMgmtNwkDiscRspAddr.addrMode       = Addr16Bit;
// 1354   zdappMgmtNwkDiscRspAddr.addr.shortAddr = inMsg->srcAddr.addr.shortAddr;
// 1355   zdappMgmtNwkDiscStartIndex             = index;
// 1356   zdappMgmtNwkDiscRspTransSeq            = inMsg->TransSeq;
// 1357 
// 1358   if ( NLME_NwkDiscReq2( &scan ) != ZSuccess )
// 1359   {
// 1360     NLME_NwkDiscTerm();
// 1361 
// 1362     // zdappMgmtNwkDiscReqInProgress will be reset in the confirm callback
// 1363   }
// 1364 }
// 1365 
// 1366 #if defined ( ZDO_MGMT_NWKDISC_RESPONSE )
// 1367 /*********************************************************************
// 1368  * @fn          ZDO_FinishProcessingMgmtNwkDiscReq
// 1369  *
// 1370  * @brief       This function finishes the processing of the Management
// 1371  *              Network Discover Request and generates the response.
// 1372  *
// 1373  *   Note:      This function will limit the number of items returned
// 1374  *              to ZDO_MAX_NWKDISC_ITEMS items.
// 1375  *
// 1376  * @param       ResultCountSrcAddr - source of the request
// 1377  * @param       msg - pointer to incoming message
// 1378  * @param       SecurityUse -
// 1379  *
// 1380  * @return      none
// 1381  */
// 1382 void ZDO_FinishProcessingMgmtNwkDiscReq( void )
// 1383 {
// 1384   byte count, i, ResultCount = 0;
// 1385   networkDesc_t *newDesc = NULL, *pList, *NetworkList;
// 1386 
// 1387   NetworkList = nwk_getNwkDescList();
// 1388 
// 1389   // Count the number of nwk descriptors in the list
// 1390   pList = nwk_getNwkDescList();
// 1391   while (pList)
// 1392   {
// 1393     ResultCount++;
// 1394     pList = pList->nextDesc;
// 1395   }
// 1396 
// 1397   if ( ZSTACK_ROUTER_BUILD )
// 1398   {
// 1399     // Look for my PanID.
// 1400     pList = nwk_getNwkDescList();
// 1401     while ( pList )
// 1402     {
// 1403       if ( pList->panId == _NIB.nwkPanId )
// 1404       {
// 1405         break;
// 1406       }
// 1407 
// 1408 
// 1409       if ( !pList->nextDesc )
// 1410       {
// 1411         break;
// 1412       }
// 1413       pList = pList->nextDesc;
// 1414     }
// 1415 
// 1416 
// 1417     // If my Pan not present (query to a star network ZC or an isolated ZR?),
// 1418     // prepend it.
// 1419     if ( !pList || (pList->panId != _NIB.nwkPanId) )
// 1420     {
// 1421       newDesc = (networkDesc_t *)osal_mem_alloc( sizeof( networkDesc_t ) );
// 1422       if ( newDesc )
// 1423       {
// 1424         byte pJoin;
// 1425 
// 1426         newDesc->panId = _NIB.nwkPanId;
// 1427         newDesc->logicalChannel = _NIB.nwkLogicalChannel;
// 1428         newDesc->version = NLME_GetProtocolVersion();
// 1429         newDesc->stackProfile = zgStackProfile;
// 1430 
// 1431         //Extended PanID
// 1432         osal_cpyExtAddr( newDesc->extendedPANID, _NIB.extendedPANID);
// 1433 
// 1434         ZMacGetReq( ZMacAssociationPermit, &pJoin );
// 1435         newDesc->chosenRouter = ((pJoin) ? ZDAppNwkAddr.addr.shortAddr :
// 1436                                            INVALID_NODE_ADDR);
// 1437 
// 1438         newDesc->nextDesc = NetworkList;
// 1439         NetworkList = newDesc;
// 1440         ResultCount++;
// 1441       }
// 1442     }
// 1443   }
// 1444 
// 1445   // Calc the count and apply a max count.
// 1446   if ( zdappMgmtNwkDiscStartIndex > ResultCount )
// 1447   {
// 1448     count = 0;
// 1449   }
// 1450   else
// 1451   {
// 1452     count = ResultCount - zdappMgmtNwkDiscStartIndex;
// 1453     if ( count > ZDO_MAX_NWKDISC_ITEMS )
// 1454     {
// 1455       count = ZDO_MAX_NWKDISC_ITEMS;
// 1456     }
// 1457 
// 1458     // Move the list pointer up to the start index.
// 1459     for ( i = 0; i < zdappMgmtNwkDiscStartIndex; i++ )
// 1460     {
// 1461       NetworkList = NetworkList->nextDesc;
// 1462     }
// 1463   }
// 1464 
// 1465   ZDP_MgmtNwkDiscRsp( zdappMgmtNwkDiscRspTransSeq,
// 1466                      &zdappMgmtNwkDiscRspAddr, ZSuccess, ResultCount,
// 1467                       zdappMgmtNwkDiscStartIndex,
// 1468                       count,
// 1469                       NetworkList,
// 1470                       false );
// 1471 
// 1472   if ( ZSTACK_ROUTER_BUILD )
// 1473   {
// 1474     if ( newDesc != NULL )
// 1475     {
// 1476       osal_mem_free( newDesc );
// 1477     }
// 1478   }
// 1479 
// 1480   NLME_NwkDiscTerm();
// 1481 }
// 1482 #endif
// 1483 
// 1484 /*********************************************************************
// 1485  * @fn          ZDO_ProcessMgmtRtgReq
// 1486  *
// 1487  * @brief       This function finishes the processing of the Management
// 1488  *              Routing Request and generates the response.
// 1489  *
// 1490  *   Note:      This function will limit the number of items returned
// 1491  *              to ZDO_MAX_RTG_ITEMS items.
// 1492  *
// 1493  * @param       inMsg - incoming message (request)
// 1494  *
// 1495  * @return      none
// 1496  */
// 1497 void ZDO_ProcessMgmtRtgReq( zdoIncomingMsg_t *inMsg )
// 1498 {
// 1499   byte x;
// 1500   byte maxNumItems;
// 1501   byte numItems = 0;
// 1502   uint8 *pBuf = NULL;
// 1503   rtgItem_t *pList;
// 1504   uint8 StartIndex = inMsg->asdu[0];
// 1505 
// 1506   // Get the number of table items
// 1507   NLME_GetRequest( nwkNumRoutingTableEntries, 0, &maxNumItems );
// 1508 
// 1509   if ( maxNumItems > StartIndex )
// 1510   {
// 1511     numItems = maxNumItems - StartIndex;    // Start at the passed in index
// 1512 
// 1513     // limit the size of the list
// 1514     if ( numItems > ZDO_MAX_RTG_ITEMS )
// 1515     {
// 1516       numItems = ZDO_MAX_RTG_ITEMS;
// 1517     }
// 1518 
// 1519     // Allocate the memory to build the table
// 1520     pBuf = osal_mem_alloc( (short)(sizeof( rtgItem_t ) * numItems) );
// 1521 
// 1522     if ( pBuf != NULL )
// 1523     {
// 1524       // Convert buffer to list
// 1525       pList = (rtgItem_t *)pBuf;
// 1526 
// 1527       // Loop through items and build list
// 1528       for ( x = 0; x < numItems; x++ )
// 1529       {
// 1530         NLME_GetRequest( nwkRoutingTable, (uint16)(x + StartIndex), (void*)pList );
// 1531 
// 1532         // Remap the status to the RoutingTableList Record Format defined in the ZigBee spec
// 1533         switch( pList->status )
// 1534         {
// 1535           case RT_ACTIVE:
// 1536             pList->status = ZDO_MGMT_RTG_ENTRY_ACTIVE;
// 1537             break;
// 1538 
// 1539           case RT_DISC:
// 1540             pList->status = ZDO_MGMT_RTG_ENTRY_DISCOVERY_UNDERWAY;
// 1541             break;
// 1542 
// 1543           case RT_LINK_FAIL:
// 1544             pList->status = ZDO_MGMT_RTG_ENTRY_DISCOVERY_FAILED;
// 1545             break;
// 1546 
// 1547           case RT_INIT:
// 1548           case RT_REPAIR:
// 1549           default:
// 1550             pList->status = ZDO_MGMT_RTG_ENTRY_INACTIVE;
// 1551             break;
// 1552         }
// 1553 
// 1554         // Increment pointer to next record
// 1555         pList++;
// 1556       }
// 1557     }
// 1558     else
// 1559     {
// 1560       numItems = 0;
// 1561     }
// 1562   }
// 1563 
// 1564   // Send response
// 1565   ZDP_MgmtRtgRsp( inMsg->TransSeq, &(inMsg->srcAddr), ZSuccess, maxNumItems, StartIndex, numItems,
// 1566                         (rtgItem_t *)pBuf, false );
// 1567 
// 1568   if ( pBuf != NULL )
// 1569   {
// 1570     osal_mem_free( pBuf );
// 1571   }
// 1572 }
// 1573 
// 1574 /*********************************************************************
// 1575  * @fn          ZDO_ProcessMgmtBindReq
// 1576  *
// 1577  * @brief       This function finishes the processing of the Management
// 1578  *              Bind Request and generates the response.
// 1579  *
// 1580  *   Note:      This function will limit the number of items returned
// 1581  *              to ZDO_MAX_BIND_ITEMS items.
// 1582  *
// 1583  * @param       inMsg - incoming message (request)
// 1584  *
// 1585  * @return      none
// 1586  */

        RSEG CODE:CODE:NOROOT(1)
?Subroutine1:
          CFI Block cfiBlock21 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+22
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
// 1587 void ZDO_ProcessMgmtBindReq( zdoIncomingMsg_t *inMsg )
// 1588 {
// 1589 #if defined ( REFLECTOR )
// 1590   byte x;
// 1591   uint16 maxNumItems;
// 1592   uint16 numItems;
// 1593   uint8 *pBuf = NULL;
// 1594   apsBindingItem_t *pList;
// 1595   uint8 StartIndex = inMsg->asdu[0];
// 1596   uint8 status;
// 1597 
// 1598   // Get the number of table items
// 1599   APSME_GetRequest( apsNumBindingTableEntries, 0, (byte*)(&maxNumItems) );
// 1600 
// 1601   if ( maxNumItems > StartIndex )
// 1602   {
// 1603     numItems = maxNumItems - StartIndex;    // Start at the passed in index
// 1604   }
// 1605   else
// 1606   {
// 1607     numItems = 0;
// 1608   }
// 1609 
// 1610   // limit the size of the list
// 1611   if ( numItems > ZDO_MAX_BIND_ITEMS )
// 1612   {
// 1613     numItems = ZDO_MAX_BIND_ITEMS;
// 1614   }
// 1615 
// 1616   // Allocate the memory to build the table
// 1617   if ( numItems && (pBuf = osal_mem_alloc( sizeof( apsBindingItem_t ) * numItems )) )
// 1618   {
// 1619     status = ZSuccess;
// 1620 
// 1621     // Convert buffer to list
// 1622     pList = (apsBindingItem_t *)pBuf;
// 1623 
// 1624     // Loop through items and build list
// 1625     for ( x = 0; x < numItems; x++ )
// 1626     {
// 1627       APSME_GetRequest( apsBindingTable, (x + StartIndex), (void*)pList );
// 1628       pList++;
// 1629     }
// 1630 
// 1631   }
// 1632   else
// 1633   {
// 1634     status = ZDP_NOT_PERMITTED;
// 1635     numItems = 0;
// 1636   }
// 1637 
// 1638   // Send response
// 1639   ZDP_MgmtBindRsp( inMsg->TransSeq, &(inMsg->srcAddr), status, (byte)maxNumItems, StartIndex,
// 1640                    (byte)numItems, (apsBindingItem_t *)pBuf, false );
// 1641 
// 1642   if ( pBuf )
// 1643   {
// 1644     osal_mem_free( pBuf );
// 1645   }
// 1646 #else
// 1647   (void)inMsg;
// 1648 #endif
// 1649 }
        ADD.W   #0x2, SP
          CFI CFA SP+20
        POPM.W  #0x8, R11
          CFI CFA SP+4
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI R10L SameValue
          CFI R11L SameValue
        RETA
          CFI EndBlock cfiBlock21

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseDeviceAnnce:
          CFI Block cfiBlock22 Using cfiCommon0
          CFI Function ZDO_ParseDeviceAnnce
        FUNCALL ZDO_ParseDeviceAnnce, sAddrExtCpy
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.W   R13, R10
        CALLA   #?Subroutine3
??CrossCallReturnLabel_1:
        MOV.W   R14, 0(R13)
        ADD.W   #0x2, R11
        MOV.W   R11, R13
        MOV.W   R10, R12
        CALLA   #??Subroutine32_0
??CrossCallReturnLabel_77:
        MOV.B   0x8(R11), 0xa(R10)
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock22

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseSimpleDescBuf:
          CFI Block cfiBlock23 Using cfiCommon0
          CFI Function ZDO_ParseSimpleDescBuf
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ParseSimpleDescBuf, osal_mem_free
        LOCFRAME CSTACK, 12, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.W   R12, R8
        MOV.W   R13, R11
        MOV.B   @R8+, 0(R13)
        CALLA   #?Subroutine11
??CrossCallReturnLabel_20:
        MOV.W   R14, 0x2(R13)
        ADD.W   #0x2, R8
        CALLA   #?Subroutine11
??CrossCallReturnLabel_21:
        MOV.W   R14, 0x4(R13)
        ADD.W   #0x2, R8
        MOV.B   @R8+, R14
        RPT     #0x4
        RRUX.B  R14
        MOV.B   R14, 0x6(R13)
        MOV.B   @R8+, R10
        MOV.B   R10, 0x7(R13)
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ParseSimpleDescBuf_2
        CALLA   #?Subroutine13
??CrossCallReturnLabel_71:
        MOV.W   R12, 0x8(R11)
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseSimpleDescBuf_3
        MOV.B   #0x0, R14
        JMP     ??ZDO_ParseSimpleDescBuf_4
??ZDO_ParseSimpleDescBuf_0:
        MOV.B   @R8, R13
        MOV.B   0x1(R8), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R13
        MOV.B   R14, R9
        RLA.W   R9
        MOV.W   R12, R15
        ADD.W   R9, R15
        MOV.W   R13, 0(R15)
        ADD.W   #0x2, R8
        ADD.B   #0x1, R14
??ZDO_ParseSimpleDescBuf_4:
        CMP.B   R10, R14
        JNC     ??ZDO_ParseSimpleDescBuf_0
??ZDO_ParseSimpleDescBuf_2:
        MOV.B   @R8+, R10
        MOV.B   R10, 0xa(R11)
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ParseSimpleDescBuf_5
        CALLA   #?Subroutine13
??CrossCallReturnLabel_70:
        MOV.W   R12, 0xc(R11)
        CMP.W   #0x0, R12
        JNE     ??ZDO_ParseSimpleDescBuf_6
        MOV.W   0x8(R11), R12
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseSimpleDescBuf_3
        CALLA   #osal_mem_free
        MOV.W   #0x0, 0x8(R11)
??ZDO_ParseSimpleDescBuf_3:
        MOV.B   #0x1, R12
        JMP     ??ZDO_ParseSimpleDescBuf_7
??ZDO_ParseSimpleDescBuf_6:
        MOV.B   #0x0, R14
        JMP     ??ZDO_ParseSimpleDescBuf_8
??ZDO_ParseSimpleDescBuf_1:
        MOV.B   @R8, R11
        MOV.B   0x1(R8), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R11
        MOV.B   R14, R9
        RLA.W   R9
        MOV.W   R12, R15
        ADD.W   R9, R15
        MOV.W   R11, 0(R15)
        ADD.W   #0x2, R8
        ADD.B   #0x1, R14
??ZDO_ParseSimpleDescBuf_8:
        CMP.B   R10, R14
        JNC     ??ZDO_ParseSimpleDescBuf_1
??ZDO_ParseSimpleDescBuf_5:
        MOV.B   #0x0, R12
??ZDO_ParseSimpleDescBuf_7:
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock23

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseUserDescRsp:
          CFI Block cfiBlock24 Using cfiCommon0
          CFI Function ZDO_ParseUserDescRsp
        FUNCALL ZDO_ParseUserDescRsp, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ParseUserDescRsp, osal_memcpy
        LOCFRAME CSTACK, 12, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.B   #0x0, R10
        MOV.W   0x16(R12), R8
        CMP.B   #0x0, 0(R8)
        JNE     ??ZDO_ParseUserDescRsp_0
        MOV.B   0x3(R8), R10
??ZDO_ParseUserDescRsp_0:
        CALLA   #?Subroutine5
??CrossCallReturnLabel_4:
        JEQ     ??ZDO_ParseUserDescRsp_1
        MOV.B   @R8, 0(R12)
        MOV.B   0x1(R8), R14
        MOV.B   0x2(R8), R15
        CALLA   #?Subroutine10
??CrossCallReturnLabel_18:
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ParseUserDescRsp_1
        MOV.W   R11, R14
        ADD.W   #0x4, R8
        CALLA   #?Subroutine14
??ZDO_ParseUserDescRsp_1:
        MOV.W   R9, R12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock24

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseMgmtBindRsp:
          CFI Block cfiBlock25 Using cfiCommon0
          CFI Function ZDO_ParseMgmtBindRsp
        FUNCALL ZDO_ParseMgmtBindRsp, osal_mem_alloc
        LOCFRAME CSTACK, 20, STACK
        FUNCALL ZDO_ParseMgmtBindRsp, sAddrExtCpy
        LOCFRAME CSTACK, 20, STACK
        FUNCALL ZDO_ParseMgmtBindRsp, sAddrExtCpy
        LOCFRAME CSTACK, 20, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        MOV.B   #0x0, R9
        MOV.B   #0x0, R7
        MOV.B   #0x0, R10
        MOV.W   0x16(R12), R6
        MOV.B   @R6+, R4
        CMP.B   #0x0, R4
        JNE     ??ZDO_ParseMgmtBindRsp_2
        MOV.B   @R6+, R9
        MOV.B   @R6+, R7
        MOV.B   @R6+, R10
??ZDO_ParseMgmtBindRsp_2:
        MOV.B   R10, R12
        RLAM.W  #0x3, R12
        MOV.W   R12, R15
        RLA.W   R12
        ADD.W   R15, R12
        ADD.W   #0x4, R12
        CALLA   #?Subroutine12
??CrossCallReturnLabel_24:
        JEQ     ??ZDO_ParseMgmtBindRsp_3
        MOV.W   R12, R8
        ADD.W   #0x4, R8
        MOV.B   R4, 0(R12)
        MOV.B   R9, 0x1(R12)
        MOV.B   R7, 0x2(R12)
        MOV.B   R10, 0x3(R12)
        MOV.B   #0x0, R9
        JMP     ??ZDO_ParseMgmtBindRsp_4
??ZDO_ParseMgmtBindRsp_0:
        MOV.B   @R6, R14
        MOV.B   0x1(R6), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_44:
        MOV.W   R14, 0xc(R8)
        ADD.W   #0x2, R6
??ZDO_ParseMgmtBindRsp_1:
        ADD.W   #0x18, R8
        ADD.B   #0x1, R9
??ZDO_ParseMgmtBindRsp_4:
        CMP.B   R10, R9
        JC      ??ZDO_ParseMgmtBindRsp_3
        MOV.W   R6, R13
        MOV.W   R8, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x8, R6
        MOV.B   @R6+, 0x8(R8)
        MOV.B   @R6, R14
        MOV.B   0x1(R6), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_45:
        MOV.W   R14, 0xa(R8)
        ADD.W   #0x2, R6
        MOV.B   @R6+, 0x14(R8)
        CMP.B   #0x3, 0x14(R8)
        JNE     ??ZDO_ParseMgmtBindRsp_0
        MOV.W   R6, R13
        MOV.W   R8, R12
        ADD.W   #0xc, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x8, R6
        MOV.B   @R6+, 0x16(R8)
        JMP     ??ZDO_ParseMgmtBindRsp_1
          CFI EndBlock cfiBlock25
??ZDO_ParseMgmtBindRsp_3:
        REQUIRE ?Subroutine2
        // Fall through to label ?Subroutine2
// 1650 
// 1651 /*********************************************************************
// 1652  * @fn          ZDO_ProcessMgmtDirectJoinReq
// 1653  *
// 1654  * @brief       This function finishes the processing of the Management
// 1655  *              Direct Join Request and generates the response.
// 1656  *
// 1657  * @param       inMsg - incoming message (request)
// 1658  *
// 1659  * @return      none
// 1660  */
// 1661 void ZDO_ProcessMgmtDirectJoinReq( zdoIncomingMsg_t *inMsg )
// 1662 {
// 1663   uint8 *deviceAddr;
// 1664   uint8 capInfo;
// 1665   uint8 stat;
// 1666 
// 1667   // Parse the message
// 1668   deviceAddr = inMsg->asdu;
// 1669   capInfo = inMsg->asdu[Z_EXTADDR_LEN];
// 1670 
// 1671   stat = (byte) NLME_DirectJoinRequest( deviceAddr, capInfo );
// 1672 
// 1673   ZDP_MgmtDirectJoinRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat, false );
// 1674 }
// 1675 
// 1676 /*********************************************************************
// 1677  * @fn          ZDO_ProcessMgmtLeaveReq
// 1678  *
// 1679  * @brief       This function processes a Management Leave Request
// 1680  *              and generates the response.
// 1681  *
// 1682  * @param       inMsg - incoming message (request)
// 1683  *
// 1684  * @return      none
// 1685  */
// 1686 void ZDO_ProcessMgmtLeaveReq( zdoIncomingMsg_t *inMsg )
// 1687 {
// 1688   NLME_LeaveReq_t req;
// 1689   ZStatus_t       status;
// 1690   uint8           option;
// 1691   uint8 *msg = inMsg->asdu;
// 1692 
// 1693   if ( ( AddrMgrExtAddrValid( msg ) == FALSE                 ) ||
// 1694        ( osal_ExtAddrEqual( msg, NLME_GetExtAddr() ) == TRUE )    )
// 1695   {
// 1696     // Remove this device
// 1697     req.extAddr = NULL;
// 1698   }
// 1699   else
// 1700   {
// 1701     // Remove child device
// 1702     req.extAddr = msg;
// 1703   }
// 1704 
// 1705   option = msg[Z_EXTADDR_LEN];
// 1706   if ( option & ZDP_MGMT_LEAVE_REQ_RC )
// 1707   {
// 1708     req.removeChildren = TRUE;
// 1709   }
// 1710 
// 1711   if ( option & ZDP_MGMT_LEAVE_REQ_REJOIN )
// 1712   {
// 1713      req.rejoin = TRUE;
// 1714   }
// 1715 
// 1716   req.silent = FALSE;
// 1717 
// 1718   status = NLME_LeaveReq( &req );
// 1719 
// 1720   ZDP_MgmtLeaveRsp( inMsg->TransSeq, &(inMsg->srcAddr), status, FALSE );
// 1721 }
// 1722 
// 1723 
// 1724 /*********************************************************************
// 1725  * @fn          ZDO_ProcessMgmtPermitJoinReq
// 1726  *
// 1727  * @brief       This function processes a Management Permit Join Request
// 1728  *              and generates the response.
// 1729  *
// 1730  * @param       inMsg - incoming message (request)
// 1731  *
// 1732  * @return      none
// 1733  */
// 1734 void ZDO_ProcessMgmtPermitJoinReq( zdoIncomingMsg_t *inMsg )
// 1735 {
// 1736   uint8 stat;
// 1737   uint8 duration;
// 1738   uint8 tcsig;
// 1739 
// 1740   duration = inMsg->asdu[ZDP_MGMT_PERMIT_JOIN_REQ_DURATION];
// 1741   tcsig    = inMsg->asdu[ZDP_MGMT_PERMIT_JOIN_REQ_TC_SIG];
// 1742 
// 1743   // Set the network layer permit join duration
// 1744   stat = (byte) NLME_PermitJoiningRequest( duration );
// 1745 
// 1746   // Handle the Trust Center Significance
// 1747   if ( ZG_SECURE_ENABLED && ZG_BUILD_COORDINATOR_TYPE && ZG_DEVICE_COORDINATOR_TYPE )
// 1748   {
// 1749     if ( tcsig == TRUE )
// 1750     {
// 1751       ZDSecMgrPermitJoining( duration );
// 1752     }
// 1753   }
// 1754 
// 1755   // Send a response if unicast
// 1756   if ( !inMsg->wasBroadcast )
// 1757   {
// 1758     ZDP_MgmtPermitJoinRsp( inMsg->TransSeq, &(inMsg->srcAddr), stat, false );
// 1759   }
// 1760 }
// 1761 
// 1762 /*
// 1763  * This function stub allows the next higher layer to be notified of
// 1764  * a permit joining timeout.
// 1765  */
// 1766 /*********************************************************************
// 1767  * @fn          ZDO_ProcessMgmtPermitJoinTimeout
// 1768  *
// 1769  * @brief       This function stub allows the next higher layer to be
// 1770  *              notified of a permit joining timeout. Currently, this
// 1771  *              directly bypasses the APS layer.
// 1772  *
// 1773  * @param       none
// 1774  *
// 1775  * @return      none
// 1776  */
// 1777 void ZDO_ProcessMgmtPermitJoinTimeout( void )
// 1778 {
// 1779   #if defined( ZDO_MGMT_PERMIT_JOIN_RESPONSE )
// 1780   // Currently, only the ZDSecMgr needs to be notified
// 1781   if ( ZG_SECURE_ENABLED && ZG_BUILD_COORDINATOR_TYPE && ZG_DEVICE_COORDINATOR_TYPE )
// 1782   {
// 1783     ZDSecMgrPermitJoiningTimeout();
// 1784   }
// 1785   #endif
// 1786 }
// 1787 
// 1788 /*********************************************************************
// 1789  * @fn          ZDO_ProcessUserDescReq
// 1790  *
// 1791  * @brief       This function finishes the processing of the User
// 1792  *              Descriptor Request and generates the response.
// 1793  *
// 1794  * @param       inMsg - incoming message (request)
// 1795  *
// 1796  * @return      none
// 1797  */
// 1798 void ZDO_ProcessUserDescReq( zdoIncomingMsg_t *inMsg )
// 1799 {
// 1800   uint16 aoi = BUILD_UINT16( inMsg->asdu[0], inMsg->asdu[1] );
// 1801   UserDescriptorFormat_t userDesc;
// 1802 
// 1803   if ( (aoi == ZDAppNwkAddr.addr.shortAddr) && (ZSUCCESS == osal_nv_read(
// 1804              ZCD_NV_USERDESC, 0, sizeof(UserDescriptorFormat_t), &userDesc )) )
// 1805   {
// 1806     ZDP_UserDescRsp( inMsg->TransSeq, &(inMsg->srcAddr), aoi, &userDesc, false );
// 1807   }
// 1808   else
// 1809   {
// 1810     ZDP_GenericRsp(inMsg->TransSeq, &(inMsg->srcAddr),
// 1811            ZDP_NOT_SUPPORTED, aoi, User_Desc_rsp, inMsg->SecurityUse );
// 1812   }
// 1813 }
// 1814 
// 1815 /*********************************************************************
// 1816  * @fn          ZDO_ProcessUserDescSet
// 1817  *
// 1818  * @brief       This function finishes the processing of the User
// 1819  *              Descriptor Set and generates the response.
// 1820  *
// 1821  * @param       inMsg - incoming message (request)
// 1822  *
// 1823  * @return      none
// 1824  */
// 1825 void ZDO_ProcessUserDescSet( zdoIncomingMsg_t *inMsg )
// 1826 {
// 1827   uint8 *msg;
// 1828   uint16 aoi;
// 1829   UserDescriptorFormat_t userDesc;
// 1830   uint8 outMsg[3];
// 1831   uint8 status;
// 1832 
// 1833   msg = inMsg->asdu;
// 1834   aoi = BUILD_UINT16( msg[0], msg[1] );
// 1835 
// 1836   if ( aoi == ZDAppNwkAddr.addr.shortAddr )
// 1837   {
// 1838     userDesc.len = (msg[2] < AF_MAX_USER_DESCRIPTOR_LEN) ? msg[2] : AF_MAX_USER_DESCRIPTOR_LEN;
// 1839     msg ++;  // increment one for the length field
// 1840 
// 1841     osal_memcpy( userDesc.desc, &msg[2], userDesc.len );
// 1842     osal_nv_write( ZCD_NV_USERDESC, 0, sizeof(UserDescriptorFormat_t), &userDesc );
// 1843     if ( userDesc.len != 0 )
// 1844     {
// 1845       ZDO_Config_Node_Descriptor.UserDescAvail = TRUE;
// 1846     }
// 1847     else
// 1848     {
// 1849       ZDO_Config_Node_Descriptor.UserDescAvail = FALSE;
// 1850     }
// 1851 
// 1852     status = ZDP_SUCCESS;
// 1853   }
// 1854   else
// 1855   {
// 1856     status =  ZDP_NOT_SUPPORTED;
// 1857   }
// 1858 
// 1859   outMsg[0] = status;
// 1860   outMsg[1] = LO_UINT16( aoi );
// 1861   outMsg[2] = LO_UINT16( aoi );
// 1862 
// 1863   ZDP_SendData( &(inMsg->TransSeq), &(inMsg->srcAddr), User_Desc_conf, 3, outMsg,
// 1864                inMsg->SecurityUse );
// 1865 }
// 1866 
// 1867 /*********************************************************************
// 1868  * @fn          ZDO_ProcessDeviceAnnce
// 1869  *
// 1870  * @brief       This function processes a device annouce message.
// 1871  *
// 1872  * @param       inMsg - incoming message
// 1873  *
// 1874  * @return      none
// 1875  */
// 1876 void ZDO_ProcessDeviceAnnce( zdoIncomingMsg_t *inMsg )
// 1877 {
// 1878   ZDO_DeviceAnnce_t Annce;
// 1879   AddrMgrEntry_t addrEntry;
// 1880   uint8 parentExt[Z_EXTADDR_LEN];
// 1881 
// 1882   // Parse incoming message
// 1883   ZDO_ParseDeviceAnnce( inMsg, &Annce );
// 1884 
// 1885   if ( ZSTACK_END_DEVICE_BUILD )
// 1886   {
// 1887     // Make sure the message didn't come from myself - end device only
// 1888     if ( osal_ExtAddrEqual( NLME_GetExtAddr(), Annce.extAddr ) && Annce.nwkAddr == NLME_GetShortAddr() )
// 1889     {
// 1890       return;
// 1891     }
// 1892   }
// 1893 
// 1894 #if defined ( ZIGBEE_STOCHASTIC_ADDRESSING )
// 1895   // Clean up the neighbor table
// 1896   nwkNeighborRemoveAllStranded();
// 1897 
// 1898   // If address conflict is detected, no need to update the address manager
// 1899   if ( NLME_CheckNewAddrSet( Annce.nwkAddr, Annce.extAddr )== ZFailure )
// 1900   {
// 1901     return;
// 1902   }
// 1903 #endif
// 1904 
// 1905 #if defined ( ZIGBEE_STOCHASTIC_ADDRESSING )
// 1906   // Check for parent's address
// 1907   NLME_GetCoordExtAddr( parentExt );
// 1908   if ( osal_ExtAddrEqual( parentExt, Annce.extAddr ) )
// 1909   {
// 1910     if ( Annce.nwkAddr != NLME_GetCoordShortAddr() )
// 1911     {
// 1912       // Set the Parent's MAC's new short address
// 1913       _NIB.nwkCoordAddress = Annce.nwkAddr;
// 1914       ZMacSetReq( ZMacCoordShortAddress, (byte*)&(_NIB.nwkCoordAddress) );
// 1915     }
// 1916   }
// 1917 
// 1918   if ( ZSTACK_ROUTER_BUILD )
// 1919   {
// 1920     // If the device annce comes from a end device child that has moved
// 1921     // to another parent, remove it from associated device list
// 1922 
// 1923     // If the dev annce is coming from other device's children,
// 1924     // (The dev annce from its own children shall be unicast to itself,
// 1925     // So check the mac destination address)
// 1926     // Remove it from the associated device list. If it is not
// 1927     // a child, no action will be taken in AssocRemove() anyway.
// 1928     if ( inMsg->macDestAddr != NLME_GetShortAddr() )
// 1929     {
// 1930       associated_devices_t *dev_ptr;
// 1931 
// 1932       // If it's an end device child
// 1933       dev_ptr = AssocGetWithExt( Annce.extAddr );
// 1934       if ( dev_ptr )
// 1935       {
// 1936         if ( dev_ptr->nodeRelation == CHILD_RFD ||
// 1937              dev_ptr->nodeRelation == CHILD_RFD_RX_IDLE )
// 1938         {
// 1939           AssocRemove( Annce.extAddr );
// 1940         }
// 1941       }
// 1942     }
// 1943 
// 1944     if ( Annce.nwkAddr != NLME_GetShortAddr() )
// 1945     {
// 1946       // If an associated device is found with matched extended Address,
// 1947       // update its short address
// 1948       if ( AssocChangeNwkAddr( Annce.nwkAddr, Annce.extAddr ) )
// 1949       {
// 1950         // Set event to save NV
// 1951         ZDApp_NVUpdate();
// 1952       }
// 1953     }
// 1954   }
// 1955 
// 1956   // Update the neighbor table
// 1957   nwkNeighborUpdateNwkAddr( Annce.nwkAddr, Annce.extAddr );
// 1958 
// 1959   // Assume that the device has moved, remove existing routing entries
// 1960   RTG_RemoveRtgEntry( Annce.nwkAddr, 0 );
// 1961 
// 1962 #endif // ZIGBEE_STOCHASTIC_ADDRESSING
// 1963 
// 1964   // Fill in the extended address in address manager if we don't have it already.
// 1965   addrEntry.user = ADDRMGR_USER_DEFAULT;
// 1966   addrEntry.nwkAddr = Annce.nwkAddr;
// 1967   if ( AddrMgrEntryLookupNwk( &addrEntry ) )
// 1968   {
// 1969     osal_memset( parentExt, 0, Z_EXTADDR_LEN );
// 1970     if ( osal_ExtAddrEqual( parentExt, addrEntry.extAddr ) )
// 1971     {
// 1972       AddrMgrExtAddrSet( addrEntry.extAddr, Annce.extAddr );
// 1973       AddrMgrEntryUpdate( &addrEntry );
// 1974     }
// 1975   }
// 1976 
// 1977   // Update the short address in address manager if it's been changed
// 1978   AddrMgrExtAddrSet( addrEntry.extAddr, Annce.extAddr );
// 1979   if ( AddrMgrEntryLookupExt( &addrEntry ) )
// 1980   {
// 1981     if ( addrEntry.nwkAddr != Annce.nwkAddr )
// 1982     {
// 1983       addrEntry.nwkAddr = Annce.nwkAddr;
// 1984       AddrMgrEntryUpdate( &addrEntry );
// 1985     }
// 1986   }
// 1987 }
// 1988 
// 1989 /*********************************************************************
// 1990  * @fn          ZDO_BuildSimpleDescBuf
// 1991  *
// 1992  * @brief       Build a byte sequence representation of a Simple Descriptor.
// 1993  *
// 1994  * @param       buf  - pointer to a byte array big enough for data.
// 1995  * @param       desc - SimpleDescriptionFormat_t *
// 1996  *
// 1997  * @return      none
// 1998  */
// 1999 void ZDO_BuildSimpleDescBuf( uint8 *buf, SimpleDescriptionFormat_t *desc )
// 2000 {
// 2001   byte cnt;
// 2002   uint16 *ptr;
// 2003 
// 2004   *buf++ = desc->EndPoint;
// 2005   *buf++ = HI_UINT16( desc->AppProfId );
// 2006   *buf++ = LO_UINT16( desc->AppProfId );
// 2007   *buf++ = HI_UINT16( desc->AppDeviceId );
// 2008   *buf++ = LO_UINT16( desc->AppDeviceId );
// 2009 
// 2010   *buf++ = (byte)(desc->AppDevVer << 4);
// 2011 
// 2012   *buf++ = desc->AppNumInClusters;
// 2013   ptr = desc->pAppInClusterList;
// 2014   for ( cnt = 0; cnt < desc->AppNumInClusters; ptr++, cnt++ )
// 2015   {
// 2016     *buf++ = HI_UINT16( *ptr );
// 2017     *buf++ = LO_UINT16( *ptr );
// 2018   }
// 2019 
// 2020   *buf++ = desc->AppNumOutClusters;
// 2021   ptr = desc->pAppOutClusterList;
// 2022   for ( cnt = 0; cnt < desc->AppNumOutClusters; ptr++, cnt++ )
// 2023   {
// 2024     *buf++ = HI_UINT16( *ptr );
// 2025     *buf++ = LO_UINT16( *ptr );
// 2026   }
// 2027 }
// 2028 
// 2029 /*********************************************************************
// 2030  * @fn      ZDO_MatchEndDeviceBind()
// 2031  *
// 2032  * @brief
// 2033  *
// 2034  *   Called to match end device binding requests
// 2035  *
// 2036  * @param  bindReq  - binding request information
// 2037  * @param  SecurityUse - Security enable/disable
// 2038  *
// 2039  * @return  none
// 2040  */
// 2041 void ZDO_MatchEndDeviceBind( ZDEndDeviceBind_t *bindReq )
// 2042 {
// 2043   zAddrType_t dstAddr;
// 2044   uint8 sendRsp = FALSE;
// 2045   uint8 status;
// 2046 
// 2047   // Is this the first request?
// 2048   if ( matchED == NULL )
// 2049   {
// 2050     // Create match info structure
// 2051     matchED = (ZDMatchEndDeviceBind_t *)osal_mem_alloc( sizeof ( ZDMatchEndDeviceBind_t ) );
// 2052     if ( matchED )
// 2053     {
// 2054       // Clear the structure
// 2055       osal_memset( (uint8 *)matchED, 0, sizeof ( ZDMatchEndDeviceBind_t ) );
// 2056 
// 2057       // Copy the first request's information
// 2058       if ( !ZDO_CopyMatchInfo( &(matchED->ed1), bindReq ) )
// 2059       {
// 2060         status = ZDP_NO_ENTRY;
// 2061         sendRsp = TRUE;
// 2062       }
// 2063     }
// 2064     else
// 2065     {
// 2066       status = ZDP_NO_ENTRY;
// 2067       sendRsp = TRUE;
// 2068     }
// 2069 
// 2070     if ( !sendRsp )
// 2071     {
// 2072       // Set into the correct state
// 2073       matchED->state = ZDMATCH_WAIT_REQ;
// 2074 
// 2075       // Setup the timeout
// 2076       APS_SetEndDeviceBindTimeout( AIB_MaxBindingTime, ZDO_EndDeviceBindMatchTimeoutCB );
// 2077     }
// 2078   }
// 2079   else
// 2080   {
// 2081       matchED->state = ZDMATCH_SENDING_BINDS;
// 2082 
// 2083       // Copy the 2nd request's information
// 2084       if ( !ZDO_CopyMatchInfo( &(matchED->ed2), bindReq ) )
// 2085       {
// 2086         status = ZDP_NO_ENTRY;
// 2087         sendRsp = TRUE;
// 2088       }
// 2089 
// 2090       // Make a source match for ed1
// 2091       matchED->ed1numMatched = ZDO_CompareClusterLists(
// 2092                   matchED->ed1.numOutClusters, matchED->ed1.outClusters,
// 2093                   matchED->ed2.numInClusters, matchED->ed2.inClusters, ZDOBuildBuf );
// 2094       if ( matchED->ed1numMatched )
// 2095       {
// 2096         // Save the match list
// 2097         matchED->ed1Matched = osal_mem_alloc( (short)(matchED->ed1numMatched * sizeof ( uint16 )) );
// 2098         if ( matchED->ed1Matched )
// 2099         {
// 2100           osal_memcpy( matchED->ed1Matched, ZDOBuildBuf, (matchED->ed1numMatched * sizeof ( uint16 )) );
// 2101         }
// 2102         else
// 2103         {
// 2104           // Allocation error, stop
// 2105           status = ZDP_NO_ENTRY;
// 2106           sendRsp = TRUE;
// 2107         }
// 2108       }
// 2109 
// 2110       // Make a source match for ed2
// 2111       matchED->ed2numMatched = ZDO_CompareClusterLists(
// 2112                   matchED->ed2.numOutClusters, matchED->ed2.outClusters,
// 2113                   matchED->ed1.numInClusters, matchED->ed1.inClusters, ZDOBuildBuf );
// 2114       if ( matchED->ed2numMatched )
// 2115       {
// 2116         // Save the match list
// 2117         matchED->ed2Matched = osal_mem_alloc( (short)(matchED->ed2numMatched * sizeof ( uint16 )) );
// 2118         if ( matchED->ed2Matched )
// 2119         {
// 2120           osal_memcpy( matchED->ed2Matched, ZDOBuildBuf, (matchED->ed2numMatched * sizeof ( uint16 )) );
// 2121         }
// 2122         else
// 2123         {
// 2124           // Allocation error, stop
// 2125           status = ZDP_NO_ENTRY;
// 2126           sendRsp = TRUE;
// 2127         }
// 2128       }
// 2129 
// 2130       if ( (sendRsp == FALSE) && (matchED->ed1numMatched || matchED->ed2numMatched) )
// 2131       {
// 2132         // Do the first unbind/bind state
// 2133         ZDMatchSendState( ZDMATCH_REASON_START, ZDP_SUCCESS, 0 );
// 2134       }
// 2135       else
// 2136       {
// 2137         status = ZDP_NO_MATCH;
// 2138         sendRsp = TRUE;
// 2139       }
// 2140   }
// 2141 
// 2142   if ( sendRsp )
// 2143   {
// 2144     // send response to this requester
// 2145     dstAddr.addrMode = Addr16Bit;
// 2146     dstAddr.addr.shortAddr = bindReq->srcAddr;
// 2147     ZDP_EndDeviceBindRsp( bindReq->TransSeq, &dstAddr, status, bindReq->SecurityUse );
// 2148 
// 2149     if ( matchED->state == ZDMATCH_SENDING_BINDS )
// 2150     {
// 2151       // send response to first requester
// 2152       dstAddr.addrMode = Addr16Bit;
// 2153       dstAddr.addr.shortAddr = matchED->ed1.srcAddr;
// 2154       ZDP_EndDeviceBindRsp( matchED->ed1.TransSeq, &dstAddr, status, matchED->ed1.SecurityUse );
// 2155     }
// 2156 
// 2157     // Process ended - release memory used
// 2158     ZDO_RemoveMatchMemory();
// 2159   }
// 2160 }
// 2161 
// 2162 /*********************************************************************
// 2163  * @fn      ZDO_RemoveMatchMemory()
// 2164  *
// 2165  * @brief   Called to clear the memory used for the end device bind.
// 2166  *
// 2167  * @param  none
// 2168  *
// 2169  * @return  none
// 2170  */
// 2171 static void ZDO_RemoveMatchMemory( void )
// 2172 {
// 2173   if ( matchED != NULL )
// 2174   {
// 2175     if ( matchED->ed2Matched != NULL )
// 2176     {
// 2177       osal_mem_free( matchED->ed2Matched );
// 2178     }
// 2179     if ( matchED->ed1Matched != NULL )
// 2180     {
// 2181       osal_mem_free( matchED->ed1Matched );
// 2182     }
// 2183     if ( matchED->ed1.inClusters != NULL )
// 2184     {
// 2185       osal_mem_free( matchED->ed1.inClusters );
// 2186     }
// 2187     if ( matchED->ed1.outClusters != NULL )
// 2188     {
// 2189       osal_mem_free( matchED->ed1.outClusters );
// 2190     }
// 2191     if ( matchED->ed2.inClusters != NULL )
// 2192     {
// 2193       osal_mem_free( matchED->ed2.inClusters );
// 2194     }
// 2195     if ( matchED->ed2.outClusters != NULL )
// 2196     {
// 2197       osal_mem_free( matchED->ed2.outClusters );
// 2198     }
// 2199 
// 2200     osal_mem_free( matchED );
// 2201     matchED = (ZDMatchEndDeviceBind_t *)NULL;
// 2202   }
// 2203 }
// 2204 
// 2205 /*********************************************************************
// 2206  * @fn      ZDO_CopyMatchInfo()
// 2207  *
// 2208  * @brief   Called to copy memory used for the end device bind.
// 2209  *
// 2210  * @param  srcReq - source information
// 2211  * @param  dstReq - destination location
// 2212  *
// 2213  * @return  TRUE if copy was successful.
// 2214  */
// 2215 static uint8 ZDO_CopyMatchInfo( ZDEndDeviceBind_t *destReq, ZDEndDeviceBind_t *srcReq )
// 2216 {
// 2217   uint8 allOK = TRUE;
// 2218 
// 2219   // Copy bind information into the match info structure
// 2220   osal_memcpy( (uint8 *)destReq, srcReq, sizeof ( ZDEndDeviceBind_t ) );
// 2221 
// 2222   // Initialize the destination cluster pointers
// 2223   destReq->inClusters = NULL;
// 2224   destReq->outClusters = NULL;
// 2225 
// 2226   // Copy input cluster IDs
// 2227   if ( srcReq->numInClusters )
// 2228   {
// 2229     destReq->inClusters = osal_mem_alloc( (short)(srcReq->numInClusters * sizeof ( uint16 )) );
// 2230     if ( destReq->inClusters )
// 2231     {
// 2232       // Copy the clusters
// 2233       osal_memcpy( (uint8*)(destReq->inClusters), (uint8 *)(srcReq->inClusters),
// 2234                       (srcReq->numInClusters * sizeof ( uint16 )) );
// 2235     }
// 2236     else
// 2237     {
// 2238       allOK = FALSE;
// 2239     }
// 2240   }
// 2241 
// 2242   // Copy output cluster IDs
// 2243   if ( srcReq->numOutClusters )
// 2244   {
// 2245     destReq->outClusters = osal_mem_alloc( (short)(srcReq->numOutClusters * sizeof ( uint16 )) );
// 2246     if ( destReq->outClusters )
// 2247     {
// 2248       // Copy the clusters
// 2249       osal_memcpy( (uint8 *)(destReq->outClusters), (uint8 *)(srcReq->outClusters),
// 2250                       (srcReq->numOutClusters * sizeof ( uint16 )) );
// 2251     }
// 2252     else
// 2253     {
// 2254       allOK = FALSE;
// 2255     }
// 2256   }
// 2257 
// 2258   if ( allOK == FALSE )
// 2259   {
// 2260     if ( destReq->inClusters != NULL )
// 2261     {
// 2262       osal_mem_free( destReq->inClusters );
// 2263     }
// 2264     if ( destReq->outClusters != NULL )
// 2265     {
// 2266       osal_mem_free( destReq->outClusters );
// 2267     }
// 2268   }
// 2269 
// 2270   return ( allOK );
// 2271 }
// 2272 
// 2273 /*********************************************************************
// 2274  * @fn      ZDMatchSendState()
// 2275  *
// 2276  * @brief   State machine for the End device match message algorithm.
// 2277  *
// 2278  * @param  reason - state of algoritm
// 2279  * @param  status - initial message status
// 2280  * @param  TransSeq - next transaction sequence number
// 2281  *
// 2282  * @return  FALSE if error and we are not currently matching, TRUE
// 2283  *          if success.
// 2284  */
// 2285 uint8 ZDMatchSendState( uint8 reason, uint8 status, uint8 TransSeq )
// 2286 {
// 2287   uint8 *dstIEEEAddr = NULL;
// 2288   uint8 dstEP = 0xFF;
// 2289   zAddrType_t dstAddr;
// 2290   zAddrType_t destinationAddr;
// 2291   uint16 msgType;
// 2292   uint16 clusterID = 0xFFFF;
// 2293   ZDEndDeviceBind_t *ed = NULL;
// 2294   uint8 rspStatus = ZDP_SUCCESS;
// 2295 
// 2296   if ( matchED == NULL )
// 2297   {
// 2298     return ( FALSE );
// 2299   }
// 2300 
// 2301   // Check sequence number
// 2302   if ( reason == ZDMATCH_REASON_BIND_RSP || reason == ZDMATCH_REASON_UNBIND_RSP )
// 2303   {
// 2304     if ( TransSeq != matchED->transSeq )
// 2305     {
// 2306       return( FALSE ); // ignore the message
// 2307     }
// 2308   }
// 2309 
// 2310   // turn off timer
// 2311   APS_SetEndDeviceBindTimeout( 0, ZDO_EndDeviceBindMatchTimeoutCB );
// 2312 
// 2313   if ( reason == ZDMATCH_REASON_TIMEOUT )
// 2314   {
// 2315     rspStatus = ZDP_TIMEOUT;    // The process will stop
// 2316   }
// 2317 
// 2318   if ( reason == ZDMATCH_REASON_START || reason == ZDMATCH_REASON_BIND_RSP )
// 2319   {
// 2320     matchED->sending = ZDMATCH_SENDING_UNBIND;
// 2321 
// 2322     if ( reason == ZDMATCH_REASON_BIND_RSP && status != ZDP_SUCCESS )
// 2323     {
// 2324       rspStatus = status;
// 2325     }
// 2326   }
// 2327   else if ( reason == ZDMATCH_REASON_UNBIND_RSP )
// 2328   {
// 2329     if ( status == ZDP_SUCCESS )
// 2330     {
// 2331       matchED->sending = ZDMATCH_SENDING_UNBIND;
// 2332     }
// 2333     else
// 2334     {
// 2335       matchED->sending = ZDMATCH_SENDING_BIND;
// 2336     }
// 2337   }
// 2338 
// 2339   if ( reason != ZDMATCH_REASON_START && matchED->sending == ZDMATCH_SENDING_UNBIND )
// 2340   {
// 2341     // Move to the next cluster ID
// 2342     if ( matchED->ed1numMatched )
// 2343     {
// 2344       matchED->ed1numMatched--;
// 2345     }
// 2346     else if ( matchED->ed2numMatched )
// 2347     {
// 2348       matchED->ed2numMatched--;
// 2349     }
// 2350   }
// 2351 
// 2352   // What message do we send now
// 2353   if ( matchED->ed1numMatched )
// 2354   {
// 2355     ed = &(matchED->ed1);
// 2356     clusterID = matchED->ed1Matched[matchED->ed1numMatched-1];
// 2357     dstIEEEAddr = matchED->ed2.ieeeAddr;
// 2358     dstEP = matchED->ed2.endpoint;
// 2359   }
// 2360   else if ( matchED->ed2numMatched )
// 2361   {
// 2362     ed = &(matchED->ed2);
// 2363     clusterID = matchED->ed2Matched[matchED->ed2numMatched-1];
// 2364     dstIEEEAddr = matchED->ed1.ieeeAddr;
// 2365     dstEP = matchED->ed1.endpoint;
// 2366   }
// 2367 
// 2368   dstAddr.addrMode = Addr16Bit;
// 2369 
// 2370   // Send the next message
// 2371   if ( (rspStatus == ZDP_SUCCESS) && ed )
// 2372   {
// 2373     // Send unbind/bind message to source
// 2374     if ( matchED->sending == ZDMATCH_SENDING_UNBIND )
// 2375     {
// 2376       msgType = Unbind_req;
// 2377     }
// 2378     else
// 2379     {
// 2380       msgType = Bind_req;
// 2381     }
// 2382 
// 2383     dstAddr.addr.shortAddr = ed->srcAddr;
// 2384 
// 2385     // Save off the transaction sequence number
// 2386     matchED->transSeq = ZDP_TransID;
// 2387 
// 2388     destinationAddr.addrMode = Addr64Bit;
// 2389     osal_cpyExtAddr( destinationAddr.addr.extAddr, dstIEEEAddr );
// 2390 
// 2391     ZDP_BindUnbindReq( msgType, &dstAddr, ed->ieeeAddr, ed->endpoint, clusterID,
// 2392         &destinationAddr, dstEP, ed->SecurityUse );
// 2393 
// 2394     // Set timeout for response
// 2395     APS_SetEndDeviceBindTimeout( AIB_MaxBindingTime, ZDO_EndDeviceBindMatchTimeoutCB );
// 2396   }
// 2397   else
// 2398   {
// 2399     // Send the response messages to requesting devices
// 2400     // send response to first requester
// 2401     dstAddr.addr.shortAddr = matchED->ed1.srcAddr;
// 2402     ZDP_EndDeviceBindRsp( matchED->ed1.TransSeq, &dstAddr, rspStatus, matchED->ed1.SecurityUse );
// 2403 
// 2404     // send response to second requester
// 2405     if ( matchED->state == ZDMATCH_SENDING_BINDS )
// 2406     {
// 2407       dstAddr.addr.shortAddr = matchED->ed2.srcAddr;
// 2408       ZDP_EndDeviceBindRsp( matchED->ed2.TransSeq, &dstAddr, rspStatus, matchED->ed2.SecurityUse );
// 2409     }
// 2410 
// 2411     // Process ended - release memory used
// 2412     ZDO_RemoveMatchMemory();
// 2413   }
// 2414 
// 2415   return ( TRUE );
// 2416 }
// 2417 
// 2418 /*********************************************************************
// 2419  * @fn      ZDO_EndDeviceBindMatchTimeoutCB()
// 2420  *
// 2421  * @brief   End device bind timeout.
// 2422  *
// 2423  * @param  none
// 2424  *
// 2425  * @return  none
// 2426  */
// 2427 static void ZDO_EndDeviceBindMatchTimeoutCB( void )
// 2428 {
// 2429   ZDMatchSendState( ZDMATCH_REASON_TIMEOUT, ZDP_TIMEOUT, 0 );
// 2430 }
// 2431 
// 2432 /*********************************************************************
// 2433  * ZDO MESSAGE PARSING API FUNCTIONS
// 2434  */
// 2435 
// 2436 /*********************************************************************
// 2437  * @fn          ZDO_ParseEndDeviceBindReq
// 2438  *
// 2439  * @brief       This function parses the End_Device_Bind_req message.
// 2440  *
// 2441  *     NOTE:  The clusters lists in bindReq are allocated in this
// 2442  *            function and must be freed by that calling function.
// 2443  *
// 2444  * @param       inMsg  - incoming message (request)
// 2445  * @param       bindReq - pointer to place to parse message to
// 2446  *
// 2447  * @return      none
// 2448  */
// 2449 void ZDO_ParseEndDeviceBindReq( zdoIncomingMsg_t *inMsg, ZDEndDeviceBind_t *bindReq )
// 2450 {
// 2451   uint8 *msg;
// 2452 
// 2453   // Parse the message
// 2454   bindReq->TransSeq = inMsg->TransSeq;
// 2455   bindReq->srcAddr = inMsg->srcAddr.addr.shortAddr;
// 2456   bindReq->SecurityUse = inMsg->SecurityUse;
// 2457   msg = inMsg->asdu;
// 2458 
// 2459   bindReq->localCoordinator = BUILD_UINT16( msg[0], msg[1] );
// 2460   msg += 2;
// 2461 
// 2462   osal_cpyExtAddr( bindReq->ieeeAddr, msg );
// 2463   msg += Z_EXTADDR_LEN;
// 2464 
// 2465   bindReq->endpoint = *msg++;
// 2466   bindReq->profileID = BUILD_UINT16( msg[0], msg[1] );
// 2467   msg += 2;
// 2468 
// 2469   bindReq->inClusters = NULL;
// 2470   bindReq->outClusters = NULL;
// 2471 
// 2472   if ((bindReq->numInClusters = *msg++) &&
// 2473       (bindReq->inClusters = (uint16*)osal_mem_alloc( (bindReq->numInClusters * sizeof( uint16 )))))
// 2474   {
// 2475     msg = ZDO_ConvertOTAClusters( bindReq->numInClusters, msg, bindReq->inClusters );
// 2476   }
// 2477   else
// 2478   {
// 2479     bindReq->numInClusters = 0;
// 2480   }
// 2481 
// 2482   if ((bindReq->numOutClusters = *msg++) &&
// 2483       (bindReq->outClusters = (uint16*)osal_mem_alloc((bindReq->numOutClusters * sizeof(uint16)))))
// 2484   {
// 2485     msg = ZDO_ConvertOTAClusters( bindReq->numOutClusters, msg, bindReq->outClusters );
// 2486   }
// 2487   else
// 2488   {
// 2489     bindReq->numOutClusters = 0;
// 2490   }
// 2491 }
// 2492 
// 2493 /*********************************************************************
// 2494  * @fn          ZDO_ParseBindUnbindReq
// 2495  *
// 2496  * @brief       This function parses the Bind_req or Unbind_req message.
// 2497  *
// 2498  * @param       inMsg  - incoming message (request)
// 2499  * @param       pReq - place to put parsed information
// 2500  *
// 2501  * @return      none
// 2502  */
// 2503 void ZDO_ParseBindUnbindReq( zdoIncomingMsg_t *inMsg, ZDO_BindUnbindReq_t *pReq )
// 2504 {
// 2505   uint8 *msg;
// 2506 
// 2507   msg = inMsg->asdu;
// 2508   osal_cpyExtAddr( pReq->srcAddress, msg );
// 2509   msg += Z_EXTADDR_LEN;
// 2510   pReq->srcEndpoint = *msg++;
// 2511   pReq->clusterID = BUILD_UINT16( msg[0], msg[1] );
// 2512   msg += 2;
// 2513   pReq->dstAddress.addrMode = *msg++;
// 2514   if ( pReq->dstAddress.addrMode == Addr64Bit )
// 2515   {
// 2516     osal_cpyExtAddr( pReq->dstAddress.addr.extAddr, msg );
// 2517     msg += Z_EXTADDR_LEN;
// 2518     pReq->dstEndpoint = *msg;
// 2519   }
// 2520   else
// 2521   {
// 2522     // copy group address
// 2523     pReq->dstAddress.addr.shortAddr = BUILD_UINT16( msg[0], msg[1] );
// 2524   }
// 2525 }
// 2526 
// 2527 /*********************************************************************
// 2528  * @fn      ZDO_ParseAddrRsp
// 2529  *
// 2530  * @brief   Turns the inMsg (incoming message) into the out parsed
// 2531  *          structure.
// 2532  *
// 2533  * @param   inMsg - incoming message
// 2534  *
// 2535  * @return  pointer to parsed structures.  This structure was
// 2536  *          allocated using osal_mem_alloc, so it must be freed
// 2537  *          by the calling function [osal_mem_free()].
// 2538  */
// 2539 ZDO_NwkIEEEAddrResp_t *ZDO_ParseAddrRsp( zdoIncomingMsg_t *inMsg )
// 2540 {
// 2541   ZDO_NwkIEEEAddrResp_t *rsp;
// 2542   uint8 *msg;
// 2543   byte cnt = 0;
// 2544 
// 2545   // Calculate the number of items in the list
// 2546   if ( inMsg->asduLen > (1 + Z_EXTADDR_LEN + 2) )
// 2547   {
// 2548     cnt = inMsg->asdu[1 + Z_EXTADDR_LEN + 2];
// 2549   }
// 2550   else
// 2551   {
// 2552     cnt = 0;
// 2553   }
// 2554 
// 2555   // Make buffer
// 2556   rsp = (ZDO_NwkIEEEAddrResp_t *)osal_mem_alloc( sizeof(ZDO_NwkIEEEAddrResp_t) + (cnt * sizeof ( uint16 )) );
// 2557 
// 2558   if ( rsp )
// 2559   {
// 2560     msg = inMsg->asdu;
// 2561 
// 2562     rsp->status = *msg++;
// 2563     if ( rsp->status == ZDO_SUCCESS )
// 2564     {
// 2565       osal_cpyExtAddr( rsp->extAddr, msg );
// 2566       msg += Z_EXTADDR_LEN;
// 2567       rsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2568 
// 2569       msg += 2;
// 2570       rsp->numAssocDevs = 0;
// 2571 
// 2572       // StartIndex field is only present if NumAssocDev field is non-zero.
// 2573       if ( cnt > 0 )
// 2574       {
// 2575         uint16 *pList = &(rsp->devList[0]);
// 2576         byte n = cnt;
// 2577 
// 2578         rsp->numAssocDevs = *msg++;
// 2579         rsp->startIndex = *msg++;
// 2580 
// 2581         while ( n != 0 )
// 2582         {
// 2583           *pList++ = BUILD_UINT16( msg[0], msg[1] );
// 2584           msg += sizeof( uint16 );
// 2585           n--;
// 2586         }
// 2587       }
// 2588     }
// 2589   }
// 2590 
// 2591   return ( rsp );
// 2592 }
// 2593 
// 2594 /*********************************************************************
// 2595  * @fn          ZDO_ParseNodeDescRsp
// 2596  *
// 2597  * @brief       This function parses the Node_Desc_rsp message.
// 2598  *
// 2599  * @param       inMsg - incoming message
// 2600  * @param       pNDRsp - place to parse the message into
// 2601  *
// 2602  * @return      none
// 2603  */
// 2604 void ZDO_ParseNodeDescRsp( zdoIncomingMsg_t *inMsg, ZDO_NodeDescRsp_t *pNDRsp )
// 2605 {
// 2606   uint8 *msg;
// 2607 
// 2608   msg = inMsg->asdu;
// 2609 
// 2610   pNDRsp->status = *msg++;
// 2611   pNDRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2612 
// 2613   if ( pNDRsp->status == ZDP_SUCCESS )
// 2614   {
// 2615     msg += 2;
// 2616     pNDRsp->nodeDesc.LogicalType = *msg & 0x07;
// 2617 
// 2618     pNDRsp->nodeDesc.ComplexDescAvail = ( *msg & 0x08 ) >> 3;
// 2619     pNDRsp->nodeDesc.UserDescAvail = ( *msg & 0x10 ) >> 4;
// 2620 
// 2621     msg++;  // Reserved bits.
// 2622     pNDRsp->nodeDesc.FrequencyBand = (*msg >> 3) & 0x1f;
// 2623     pNDRsp->nodeDesc.APSFlags = *msg++ & 0x07;
// 2624     pNDRsp->nodeDesc.CapabilityFlags = *msg++;
// 2625     pNDRsp->nodeDesc.ManufacturerCode[0] = *msg++;
// 2626     pNDRsp->nodeDesc.ManufacturerCode[1] = *msg++;
// 2627     pNDRsp->nodeDesc.MaxBufferSize = *msg++;
// 2628     pNDRsp->nodeDesc.MaxInTransferSize[0] = *msg++;
// 2629     pNDRsp->nodeDesc.MaxInTransferSize[1] = *msg++;
// 2630     pNDRsp->nodeDesc.ServerMask = BUILD_UINT16( msg[0], msg[1] );
// 2631     msg += 2;
// 2632     pNDRsp->nodeDesc.MaxOutTransferSize[0] = *msg++;
// 2633     pNDRsp->nodeDesc.MaxOutTransferSize[1] = *msg++;
// 2634     pNDRsp->nodeDesc.DescriptorCapability = *msg;
// 2635   }
// 2636 }
// 2637 
// 2638 /*********************************************************************
// 2639  * @fn          ZDO_ParesPowerDescRsp
// 2640  *
// 2641  * @brief       This function parses the Power_Desc_rsp message.
// 2642  *
// 2643  * @param       inMsg  - incoming message
// 2644  * @param       pNPRsp - place to parse the message into
// 2645  *
// 2646  * @return      none
// 2647  */
// 2648 void ZDO_ParsePowerDescRsp( zdoIncomingMsg_t *inMsg, ZDO_PowerRsp_t *pNPRsp )
// 2649 {
// 2650   uint8 *msg;
// 2651 
// 2652   msg = inMsg->asdu;
// 2653   pNPRsp->status = *msg++;
// 2654   pNPRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2655 
// 2656   if ( pNPRsp->status == ZDP_SUCCESS )
// 2657   {
// 2658     msg += 2;
// 2659     pNPRsp->pwrDesc.AvailablePowerSources = *msg >> 4;
// 2660     pNPRsp->pwrDesc.PowerMode = *msg++ & 0x0F;
// 2661     pNPRsp->pwrDesc.CurrentPowerSourceLevel = *msg >> 4;
// 2662     pNPRsp->pwrDesc.CurrentPowerSource = *msg++ & 0x0F;
// 2663   }
// 2664 }
// 2665 
// 2666 /*********************************************************************
// 2667  * @fn          ZDO_ParseSimpleDescRsp
// 2668  *
// 2669  * @brief       This function parse the Simple_Desc_rsp message.
// 2670  *
// 2671  *   NOTE: The pAppInClusterList and pAppOutClusterList fields
// 2672  *         in the SimpleDescriptionFormat_t structure are allocated
// 2673  *         and the calling function needs to free [osal_msg_free()]
// 2674  *         these buffers.
// 2675  *
// 2676  * @param       inMsg  - incoming message
// 2677  * @param       pSimpleDescRsp - place to parse the message into
// 2678  *
// 2679  * @return      none
// 2680  */
// 2681 void ZDO_ParseSimpleDescRsp( zdoIncomingMsg_t *inMsg, ZDO_SimpleDescRsp_t *pSimpleDescRsp )
// 2682 {
// 2683   uint8 *msg;
// 2684 
// 2685   msg = inMsg->asdu;
// 2686   pSimpleDescRsp->status = *msg++;
// 2687   pSimpleDescRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2688   msg += sizeof ( uint16 );
// 2689   msg++; // Skip past the length field.
// 2690 
// 2691   if ( pSimpleDescRsp->status == ZDP_SUCCESS )
// 2692   {
// 2693     ZDO_ParseSimpleDescBuf( msg, &(pSimpleDescRsp->simpleDesc) );
// 2694   }
// 2695 }
// 2696 
// 2697 /*********************************************************************
// 2698  * @fn          ZDO_ParseEPListRsp
// 2699  *
// 2700  * @brief       This parse the Active_EP_rsp or Match_Desc_rsp message.
// 2701  *
// 2702  * @param       inMsg  - incoming message
// 2703  *
// 2704  * @return      none
// 2705  */
// 2706 ZDO_ActiveEndpointRsp_t *ZDO_ParseEPListRsp( zdoIncomingMsg_t *inMsg )
// 2707 {
// 2708   ZDO_ActiveEndpointRsp_t *pRsp;
// 2709   uint8 *msg;
// 2710   uint8 Status;
// 2711   uint8 cnt;
// 2712 
// 2713   msg = inMsg->asdu;
// 2714   Status = *msg++;
// 2715   cnt = msg[2];
// 2716 
// 2717   pRsp = (ZDO_ActiveEndpointRsp_t *)osal_mem_alloc( sizeof(  ZDO_ActiveEndpointRsp_t ) + cnt );
// 2718   if ( pRsp )
// 2719   {
// 2720     pRsp->status = Status;
// 2721     pRsp->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2722     msg += sizeof( uint16 );
// 2723     pRsp->cnt = cnt;
// 2724     msg++; // pass cnt
// 2725     osal_memcpy( pRsp->epList, msg, cnt );
// 2726   }
// 2727 
// 2728   return ( pRsp );
// 2729 }
// 2730 
// 2731 /*********************************************************************
// 2732  * @fn          ZDO_ParseServerDiscRsp
// 2733  *
// 2734  * @brief       Parse the Server_Discovery_rsp message.
// 2735  *
// 2736  * @param       inMsg - incoming message.
// 2737  * @param       pRsp - place to put the parsed information.
// 2738  *
// 2739  * @return      none
// 2740  */
// 2741 void ZDO_ParseServerDiscRsp( zdoIncomingMsg_t *inMsg, ZDO_ServerDiscRsp_t *pRsp )
// 2742 {
// 2743   pRsp->status = inMsg->asdu[0];
// 2744   pRsp->serverMask = BUILD_UINT16( inMsg->asdu[1], inMsg->asdu[2] );
// 2745 }
// 2746 
// 2747 /*********************************************************************
// 2748  * @fn          ZDO_ParseMgmtLqiRsp
// 2749  *
// 2750  * @brief       This function parses the incoming Management
// 2751  *              LQI response
// 2752  *
// 2753  * @param       inMsg - incoming message
// 2754  *
// 2755  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2756  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2757  *          by the calling function [osal_mem_free()].
// 2758  */

        RSEG CODE:CODE:NOROOT(1)
?Subroutine2:
          CFI Block cfiBlock26 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+20
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
// 2759 ZDO_MgmtLqiRsp_t *ZDO_ParseMgmtLqiRsp( zdoIncomingMsg_t *inMsg )
// 2760 {
// 2761   ZDO_MgmtLqiRsp_t *pRsp;
// 2762   uint8 status;
// 2763   uint8 startIndex = 0;
// 2764   uint8 neighborLqiCount = 0;
// 2765   uint8 neighborLqiEntries = 0;
// 2766   uint8 *msg;
// 2767 
// 2768   msg = inMsg->asdu;
// 2769 
// 2770   status = *msg++;
// 2771   if ( status == ZSuccess )
// 2772   {
// 2773     neighborLqiEntries = *msg++;
// 2774     startIndex = *msg++;
// 2775     neighborLqiCount = *msg++;
// 2776   }
// 2777 
// 2778   // Allocate a buffer big enough to handle the list.
// 2779   pRsp = (ZDO_MgmtLqiRsp_t *)osal_mem_alloc(
// 2780             sizeof( ZDO_MgmtLqiRsp_t ) + (neighborLqiCount * sizeof( neighborLqiItem_t )) );
// 2781   if ( pRsp )
// 2782   {
// 2783     uint8 x;
// 2784     neighborLqiItem_t *pList = pRsp->list;
// 2785     pRsp->status = status;
// 2786     pRsp->neighborLqiEntries = neighborLqiEntries;
// 2787     pRsp->startIndex = startIndex;
// 2788     pRsp->neighborLqiCount = neighborLqiCount;
// 2789 
// 2790     for ( x = 0; x < neighborLqiCount; x++ )
// 2791     {
// 2792       osal_cpyExtAddr(pList->extPANId, msg);   //Copy extended PAN ID
// 2793       msg += Z_EXTADDR_LEN;
// 2794 
// 2795       msg += Z_EXTADDR_LEN;  // Throwing away IEEE.
// 2796       pList->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 2797       msg += 2 + 1 + 1 + 1;      // Skip DeviceType, RxOnIdle, Rlationship, PermitJoining and Depth
// 2798       pList->rxLqi = *msg++;
// 2799       pList->txQuality = 0;  // This is not specified OTA by ZigBee 1.1.
// 2800       pList++;
// 2801     }
// 2802   }
// 2803 
// 2804   return ( pRsp );
        MOV.W   R11, R12
        POPM.W  #0x8, R11
          CFI CFA SP+4
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI R10L SameValue
          CFI R11L SameValue
        RETA
          CFI EndBlock cfiBlock26

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseMgmtRtgRsp:
          CFI Block cfiBlock27 Using cfiCommon0
          CFI Function ZDO_ParseMgmtRtgRsp
        FUNCALL ZDO_ParseMgmtRtgRsp, osal_mem_alloc
        LOCFRAME CSTACK, 16, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        MOV.B   #0x0, R8
        MOV.B   #0x0, R9
        MOV.B   #0x0, R10
        MOV.W   0x16(R12), R11
        MOV.B   @R11+, R6
        CMP.B   #0x0, R6
        JNE     ??ZDO_ParseMgmtRtgRsp_1
        MOV.B   @R11+, R8
        MOV.B   @R11+, R9
        MOV.B   @R11+, R10
??ZDO_ParseMgmtRtgRsp_1:
        MOV.B   R10, R12
        RLAM.W  #0x3, R12
        ADD.W   #0x4, R12
        CALLA   #osal_mem_alloc
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseMgmtRtgRsp_2
        MOV.W   R12, R13
        ADD.W   #0x4, R13
        MOV.B   R6, 0(R12)
        MOV.B   R8, 0x1(R12)
        MOV.B   R9, 0x2(R12)
        MOV.B   R10, 0x3(R12)
        MOV.B   #0x0, R8
        JMP     ??ZDO_ParseMgmtRtgRsp_3
??ZDO_ParseMgmtRtgRsp_0:
        CALLA   #?Subroutine27
??CrossCallReturnLabel_56:
        MOV.W   R14, 0(R13)
        ADD.W   #0x2, R11
        MOV.B   @R11+, 0x5(R13)
        CALLA   #?Subroutine27
??CrossCallReturnLabel_57:
        MOV.W   R14, 0x2(R13)
        ADD.W   #0x2, R11
        ADD.W   #0x8, R13
        ADD.B   #0x1, R8
??ZDO_ParseMgmtRtgRsp_3:
        CMP.B   R10, R8
        JNC     ??ZDO_ParseMgmtRtgRsp_0
??ZDO_ParseMgmtRtgRsp_2:
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock27

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseMgmNwkDiscRsp:
          CFI Block cfiBlock28 Using cfiCommon0
          CFI Function ZDO_ParseMgmNwkDiscRsp
        FUNCALL ZDO_ParseMgmNwkDiscRsp, osal_mem_alloc
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ParseMgmNwkDiscRsp, sAddrExtCpy
        LOCFRAME CSTACK, 16, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        MOV.B   #0x0, R9
        MOV.B   #0x0, R6
        MOV.B   #0x0, R10
        MOV.W   0x16(R12), R11
        MOV.B   @R11+, R7
        CMP.B   #0x0, R7
        JNE     ??ZDO_ParseMgmNwkDiscRsp_1
        MOV.B   @R11+, R9
        MOV.B   @R11+, R6
        MOV.B   @R11+, R10
??ZDO_ParseMgmNwkDiscRsp_1:
        MOV.B   R10, R12
        RLAM.W  #0x4, R12
        ADD.W   #0x4, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R8
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseMgmNwkDiscRsp_2
        MOV.B   R7, 0(R12)
        MOV.B   R9, 0x1(R12)
        MOV.B   R6, 0x2(R12)
        MOV.B   R10, 0x3(R12)
        MOV.W   R12, R9
        ADD.W   #0x4, R9
        MOV.B   #0x0, R6
        JMP     ??ZDO_ParseMgmNwkDiscRsp_3
??ZDO_ParseMgmNwkDiscRsp_0:
        MOV.W   R11, R13
        MOV.W   R9, R12
        CALLA   #sAddrExtCpy
        CALLA   #?Subroutine27
??CrossCallReturnLabel_58:
        MOV.W   R14, 0x8(R9)
        ADD.W   #0x8, R11
        MOV.B   @R11+, 0xa(R9)
        MOV.B   @R11, R14
        AND.B   #0xf, R14
        MOV.B   R14, 0xb(R9)
        MOV.B   @R11+, R14
        RPT     #0x4
        RRUX.B  R14
        MOV.B   R14, 0xc(R9)
        MOV.B   @R11, R14
        AND.B   #0xf, R14
        MOV.B   R14, 0xd(R9)
        MOV.B   @R11+, R14
        RPT     #0x4
        RRUX.B  R14
        MOV.B   R14, 0xe(R9)
        MOV.B   @R11+, 0xf(R9)
        ADD.W   #0x10, R9
        ADD.B   #0x1, R6
??ZDO_ParseMgmNwkDiscRsp_3:
        CMP.B   R10, R6
        JNC     ??ZDO_ParseMgmNwkDiscRsp_0
??ZDO_ParseMgmNwkDiscRsp_2:
        MOV.W   R8, R12
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock28

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseMgmtLqiRsp:
          CFI Block cfiBlock29 Using cfiCommon0
          CFI Function ZDO_ParseMgmtLqiRsp
        FUNCALL ZDO_ParseMgmtLqiRsp, osal_mem_alloc
        LOCFRAME CSTACK, 20, STACK
        FUNCALL ZDO_ParseMgmtLqiRsp, sAddrExtCpy
        LOCFRAME CSTACK, 20, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        MOV.B   #0x0, R9
        MOV.B   #0x0, R10
        MOV.B   #0x0, R7
        MOV.W   0x16(R12), R6
        MOV.B   @R6+, R4
        CMP.B   #0x0, R4
        JNE     ??ZDO_ParseMgmtLqiRsp_1
        MOV.B   @R6+, R7
        MOV.B   @R6+, R9
        MOV.B   @R6+, R10
??ZDO_ParseMgmtLqiRsp_1:
        MOV.W   #0x4, R12
        RPT     #0xe
        ADDX.W  R10, R12
        CALLA   #?Subroutine12
??CrossCallReturnLabel_25:
        JEQ     ??ZDO_ParseMgmtLqiRsp_2
        MOV.W   R12, R8
        ADD.W   #0x4, R8
        MOV.B   R4, 0(R12)
        MOV.B   R7, 0x1(R12)
        MOV.B   R9, 0x2(R12)
        MOV.B   R10, 0x3(R12)
        MOV.B   #0x0, R9
        JMP     ??ZDO_ParseMgmtLqiRsp_3
??ZDO_ParseMgmtLqiRsp_0:
        MOV.W   R6, R13
        MOV.W   R8, R12
        ADD.W   #0x4, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x10, R6
        MOV.B   @R6, R14
        MOV.B   0x1(R6), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_46:
        MOV.W   R14, 0(R8)
        ADD.W   #0x5, R6
        MOV.B   @R6+, 0xd(R8)
        MOV.B   #0x0, 0xc(R8)
        ADD.W   #0xe, R8
        ADD.B   #0x1, R9
??ZDO_ParseMgmtLqiRsp_3:
        CMP.B   R10, R9
        JNC     ??ZDO_ParseMgmtLqiRsp_0
??ZDO_ParseMgmtLqiRsp_2:
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock29

        RSEG CODE:CODE:NOROOT(1)
?Subroutine12:
          CFI Block cfiCond30 Using cfiCommon0
          CFI Function ZDO_ParseMgmtBindRsp
          CFI Conditional ??CrossCallReturnLabel_24
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+24
          CFI Block cfiCond31 Using cfiCommon0
          CFI (cfiCond31) Function ZDO_ParseMgmtLqiRsp
          CFI (cfiCond31) Conditional ??CrossCallReturnLabel_25
          CFI (cfiCond31) R4L Frame(CFA, -20)
          CFI (cfiCond31) R5L Frame(CFA, -18)
          CFI (cfiCond31) R6L Frame(CFA, -16)
          CFI (cfiCond31) R7L Frame(CFA, -14)
          CFI (cfiCond31) R8L Frame(CFA, -12)
          CFI (cfiCond31) R9L Frame(CFA, -10)
          CFI (cfiCond31) R10L Frame(CFA, -8)
          CFI (cfiCond31) R11L Frame(CFA, -6)
          CFI (cfiCond31) CFA SP+24
          CFI Block cfiCond32 Using cfiCommon0
          CFI (cfiCond32) Function ZDO_ParseAddrRsp
          CFI (cfiCond32) Conditional ??CrossCallReturnLabel_26
          CFI (cfiCond32) R8L Frame(CFA, -12)
          CFI (cfiCond32) R9L Frame(CFA, -10)
          CFI (cfiCond32) R10L Frame(CFA, -8)
          CFI (cfiCond32) R11L Frame(CFA, -6)
          CFI (cfiCond32) CFA SP+16
          CFI Block cfiPicker33 Using cfiCommon1
          CFI (cfiPicker33) NoFunction
          CFI (cfiPicker33) Picker
        CALLA   #osal_mem_alloc
        MOV.W   R12, R11
        CMP.W   #0x0, R12
        RETA
          CFI EndBlock cfiCond30
          CFI EndBlock cfiCond31
          CFI EndBlock cfiCond32
          CFI EndBlock cfiPicker33

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseServerDiscRsp:
          CFI Block cfiBlock34 Using cfiCommon0
          CFI Function ZDO_ParseServerDiscRsp
        MOV.W   0x16(R12), R15
        MOV.B   @R15, 0(R13)
        MOV.W   0x16(R12), R15
        MOV.B   0x1(R15), R14
        MOV.B   0x2(R15), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_47:
        MOV.W   R14, 0x2(R13)
        RETA
          CFI EndBlock cfiBlock34

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseEPListRsp:
          CFI Block cfiBlock35 Using cfiCommon0
          CFI Function ZDO_ParseEPListRsp
        FUNCALL ZDO_ParseEPListRsp, osal_mem_alloc
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ParseEPListRsp, osal_memcpy
        LOCFRAME CSTACK, 16, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        MOV.W   0x16(R12), R8
        MOV.B   @R8+, R6
        MOV.B   0x2(R8), R10
        CALLA   #?Subroutine5
??CrossCallReturnLabel_5:
        JEQ     ??ZDO_ParseEPListRsp_0
        MOV.B   R6, 0(R12)
        MOV.B   @R8, R14
        MOV.B   0x1(R8), R15
        CALLA   #?Subroutine10
??CrossCallReturnLabel_19:
        MOV.W   R11, R14
        ADD.W   #0x3, R8
        CALLA   #?Subroutine14
??ZDO_ParseEPListRsp_0:
        MOV.W   R9, R12
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock35

        RSEG CODE:CODE:NOROOT(1)
?Subroutine14:
          CFI Block cfiCond36 Using cfiCommon0
          CFI Function ZDO_ParseUserDescRsp
          CFI Conditional ??ZDO_ParseUserDescRsp_1
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond37 Using cfiCommon0
          CFI (cfiCond37) Function ZDO_ParseEPListRsp
          CFI (cfiCond37) Conditional ??ZDO_ParseEPListRsp_0
          CFI (cfiCond37) R6L Frame(CFA, -16)
          CFI (cfiCond37) R7L Frame(CFA, -14)
          CFI (cfiCond37) R8L Frame(CFA, -12)
          CFI (cfiCond37) R9L Frame(CFA, -10)
          CFI (cfiCond37) R10L Frame(CFA, -8)
          CFI (cfiCond37) R11L Frame(CFA, -6)
          CFI (cfiCond37) CFA SP+20
          CFI Block cfiPicker38 Using cfiCommon1
          CFI (cfiPicker38) NoFunction
          CFI (cfiPicker38) Picker
        MOV.W   R8, R13
        ADD.W   #0x5, R12
        BRA     #osal_memcpy
          CFI EndBlock cfiCond36
          CFI EndBlock cfiCond37
          CFI EndBlock cfiPicker38

        RSEG CODE:CODE:NOROOT(1)
?Subroutine10:
          CFI Block cfiCond39 Using cfiCommon0
          CFI Function ZDO_ParseUserDescRsp
          CFI Conditional ??CrossCallReturnLabel_18
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond40 Using cfiCommon0
          CFI (cfiCond40) Function ZDO_ParseEPListRsp
          CFI (cfiCond40) Conditional ??CrossCallReturnLabel_19
          CFI (cfiCond40) R6L Frame(CFA, -16)
          CFI (cfiCond40) R7L Frame(CFA, -14)
          CFI (cfiCond40) R8L Frame(CFA, -12)
          CFI (cfiCond40) R9L Frame(CFA, -10)
          CFI (cfiCond40) R10L Frame(CFA, -8)
          CFI (cfiCond40) R11L Frame(CFA, -6)
          CFI (cfiCond40) CFA SP+20
          CFI Block cfiPicker41 Using cfiCommon1
          CFI (cfiPicker41) NoFunction
          CFI (cfiPicker41) Picker
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_54:
        MOV.W   R14, 0x2(R12)
        MOV.B   R10, 0x4(R12)
        RETA
          CFI EndBlock cfiCond39
          CFI EndBlock cfiCond40
          CFI EndBlock cfiPicker41

        RSEG CODE:CODE:NOROOT(1)
?Subroutine5:
          CFI Block cfiCond42 Using cfiCommon0
          CFI Function ZDO_ParseUserDescRsp
          CFI Conditional ??CrossCallReturnLabel_4
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond43 Using cfiCommon0
          CFI (cfiCond43) Function ZDO_ParseEPListRsp
          CFI (cfiCond43) Conditional ??CrossCallReturnLabel_5
          CFI (cfiCond43) R6L Frame(CFA, -16)
          CFI (cfiCond43) R7L Frame(CFA, -14)
          CFI (cfiCond43) R8L Frame(CFA, -12)
          CFI (cfiCond43) R9L Frame(CFA, -10)
          CFI (cfiCond43) R10L Frame(CFA, -8)
          CFI (cfiCond43) R11L Frame(CFA, -6)
          CFI (cfiCond43) CFA SP+20
          CFI Block cfiPicker44 Using cfiCommon1
          CFI (cfiPicker44) NoFunction
          CFI (cfiPicker44) Picker
        MOV.B   R10, R11
        MOV.W   R11, R12
        ADD.W   #0x6, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R9
        CMP.W   #0x0, R12
        RETA
          CFI EndBlock cfiCond42
          CFI EndBlock cfiCond43
          CFI EndBlock cfiPicker44

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseSimpleDescRsp:
          CFI Block cfiBlock45 Using cfiCommon0
          CFI Function ZDO_ParseSimpleDescRsp
        FUNCALL ZDO_ParseSimpleDescRsp, ZDO_ParseSimpleDescBuf
        LOCFRAME CSTACK, 4, STACK
        CALLA   #?Subroutine9
??CrossCallReturnLabel_15:
        JNE     ??ZDO_ParseSimpleDescRsp_0
        ADD.W   #0x4, R13
        ADD.W   #0x3, R12
        CALLA   #ZDO_ParseSimpleDescBuf
??ZDO_ParseSimpleDescRsp_0:
        RETA
          CFI EndBlock cfiBlock45

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParsePowerDescRsp:
          CFI Block cfiBlock46 Using cfiCommon0
          CFI Function ZDO_ParsePowerDescRsp
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        CALLA   #?Subroutine9
??CrossCallReturnLabel_16:
        JNE     ??ZDO_ParsePowerDescRsp_0
        ADD.W   #0x2, R12
        MOV.B   @R12, R15
        RPT     #0x4
        RRUX.B  R15
        RLAM.W  #0x4, R15
        MOV.W   0x4(R13), R10
        AND.W   #0xff0f, R10
        CALLA   #?Subroutine19
??CrossCallReturnLabel_29:
        AND.W   #0xfff0, R10
        BIS.W   R14, R10
        MOV.W   R10, 0x4(R13)
        MOV.B   @R12, R15
        RPT     #0x4
        RRUX.B  R15
        RPT     #0xc
        RLAX.W  R15
        AND.W   #0xfff, R10
        CALLA   #?Subroutine19
??CrossCallReturnLabel_30:
        RPT     #0x8
        RLAX.W  R14
        AND.W   #0xf0ff, R10
        BIS.W   R14, R10
        MOV.W   R10, 0x4(R13)
??ZDO_ParsePowerDescRsp_0:
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock46

        RSEG CODE:CODE:NOROOT(1)
?Subroutine19:
          CFI Block cfiCond47 Using cfiCommon0
          CFI Function ZDO_ParsePowerDescRsp
          CFI Conditional ??CrossCallReturnLabel_29
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+10
          CFI Block cfiCond48 Using cfiCommon0
          CFI (cfiCond48) Function ZDO_ParsePowerDescRsp
          CFI (cfiCond48) Conditional ??CrossCallReturnLabel_30
          CFI (cfiCond48) R10L Frame(CFA, -6)
          CFI (cfiCond48) CFA SP+10
          CFI Block cfiPicker49 Using cfiCommon1
          CFI (cfiPicker49) NoFunction
          CFI (cfiPicker49) Picker
        BIS.W   R15, R10
        MOV.W   R10, 0x4(R13)
        MOV.B   @R12+, R14
        AND.W   #0xf, R14
        RETA
          CFI EndBlock cfiCond47
          CFI EndBlock cfiCond48
          CFI EndBlock cfiPicker49

        RSEG CODE:CODE:NOROOT(1)
?Subroutine9:
          CFI Block cfiCond50 Using cfiCommon0
          CFI Function ZDO_ParseSimpleDescRsp
          CFI Conditional ??CrossCallReturnLabel_15
          CFI CFA SP+8
          CFI Block cfiCond51 Using cfiCommon0
          CFI (cfiCond51) Function ZDO_ParsePowerDescRsp
          CFI (cfiCond51) Conditional ??CrossCallReturnLabel_16
          CFI (cfiCond51) R10L Frame(CFA, -6)
          CFI (cfiCond51) CFA SP+10
          CFI Block cfiCond52 Using cfiCommon0
          CFI (cfiCond52) Function ZDO_ParseNodeDescRsp
          CFI (cfiCond52) Conditional ??CrossCallReturnLabel_17
          CFI (cfiCond52) R10L Frame(CFA, -6)
          CFI (cfiCond52) CFA SP+10
          CFI Block cfiPicker53 Using cfiCommon1
          CFI (cfiPicker53) NoFunction
          CFI (cfiPicker53) Picker
        MOV.W   0x16(R12), R12
        MOV.B   @R12+, 0(R13)
        MOV.B   @R12, R14
        MOV.B   0x1(R12), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_53:
        MOV.W   R14, 0x2(R13)
        CMP.B   #0x0, 0(R13)
        RETA
          CFI EndBlock cfiCond50
          CFI EndBlock cfiCond51
          CFI EndBlock cfiCond52
          CFI EndBlock cfiPicker53

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseNodeDescRsp:
          CFI Block cfiBlock54 Using cfiCommon0
          CFI Function ZDO_ParseNodeDescRsp
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        CALLA   #?Subroutine9
??CrossCallReturnLabel_17:
        JNE     ??ZDO_ParseNodeDescRsp_0
        ADD.W   #0x2, R12
        MOV.B   @R12, R14
        AND.B   #0x7, R14
        MOV.B   0x4(R13), R15
        AND.B   #0xf8, R15
        BIS.B   R14, R15
        MOV.B   R15, 0x4(R13)
        BIT.B   #0x8, 0(R12)
        JC      ??ZDO_ParseNodeDescRsp_1
        BIC.B   #0x8, 0x4(R13)
        JMP     ??ZDO_ParseNodeDescRsp_2
??ZDO_ParseNodeDescRsp_1:
        BIS.B   #0x8, 0x4(R13)
??ZDO_ParseNodeDescRsp_2:
        MOV.B   @R12+, R14
        RPT     #0x4
        RRUX.B  R14
        AND.B   #0x1, R14
        RPT     #0x4
        RLAX.B  R14
        MOV.B   0x4(R13), R15
        AND.B   #0xef, R15
        BIS.B   R14, R15
        MOV.B   R15, 0x4(R13)
        MOV.B   @R12, R15
        AND.B   #0xf8, R15
        MOV.B   0x5(R13), R14
        AND.B   #0x7, R14
        BIS.B   R15, R14
        MOV.B   R14, 0x5(R13)
        MOV.B   @R12+, R15
        AND.B   #0x7, R15
        AND.B   #0xf8, R14
        BIS.B   R15, R14
        MOV.B   R14, 0x5(R13)
        MOV.B   @R12+, 0x6(R13)
        MOV.B   @R12+, 0x7(R13)
        MOV.B   @R12+, 0x8(R13)
        MOV.B   @R12+, 0x9(R13)
        MOV.B   @R12+, 0xa(R13)
        MOV.B   @R12+, 0xb(R13)
        MOV.B   @R12, R14
        MOV.B   0x1(R12), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_48:
        MOV.W   R14, 0xc(R13)
        ADD.W   #0x2, R12
        MOV.B   @R12+, 0xe(R13)
        MOV.B   @R12+, 0xf(R13)
        MOV.B   @R12, 0x10(R13)
??ZDO_ParseNodeDescRsp_0:
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock54

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseAddrRsp:
          CFI Block cfiBlock55 Using cfiCommon0
          CFI Function ZDO_ParseAddrRsp
        FUNCALL ZDO_ParseAddrRsp, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ParseAddrRsp, sAddrExtCpy
        LOCFRAME CSTACK, 12, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.W   R12, R8
        MOV.B   #0x0, R10
        CMP.B   #0xc, 0x12(R12)
        JNC     ??ZDO_ParseAddrRsp_1
        MOV.W   0x16(R12), R15
        MOV.B   0xb(R15), R10
??ZDO_ParseAddrRsp_1:
        MOV.B   R10, R12
        RLA.W   R12
        ADD.W   #0xe, R12
        CALLA   #?Subroutine12
??CrossCallReturnLabel_26:
        JEQ     ??ZDO_ParseAddrRsp_2
        MOV.W   0x16(R8), R8
        MOV.B   @R8+, 0(R12)
        CMP.B   #0x0, 0(R12)
        JNE     ??ZDO_ParseAddrRsp_2
        MOV.W   R8, R13
        ADD.W   #0x4, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x8, R8
        CALLA   #?Subroutine11
??CrossCallReturnLabel_22:
        MOV.W   R14, 0x2(R11)
        ADD.W   #0x2, R8
        MOV.B   #0x0, 0xc(R11)
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ParseAddrRsp_2
        MOV.W   R11, R13
        ADD.W   #0xe, R13
        MOV.B   @R8+, 0xc(R11)
        MOV.B   @R8+, 0xd(R11)
??ZDO_ParseAddrRsp_0:
        CALLA   #?Subroutine11
??CrossCallReturnLabel_23:
        MOV.W   R14, 0(R13)
        ADD.W   #0x2, R13
        ADD.W   #0x2, R8
        ADD.B   #0xff, R10
        JNE     ??ZDO_ParseAddrRsp_0
??ZDO_ParseAddrRsp_2:
        MOV.W   R11, R12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock55

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseBindUnbindReq:
          CFI Block cfiBlock56 Using cfiCommon0
          CFI Function ZDO_ParseBindUnbindReq
        FUNCALL ZDO_ParseBindUnbindReq, sAddrExtCpy
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ParseBindUnbindReq, sAddrExtCpy
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.W   R13, R10
        MOV.W   0x16(R12), R11
        MOV.W   R11, R13
        MOV.W   R10, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x8, R11
        MOV.B   @R11+, 0x8(R10)
        CALLA   #?Subroutine27
??CrossCallReturnLabel_59:
        MOV.W   R14, 0xa(R10)
        ADD.W   #0x2, R11
        MOV.B   @R11+, 0x14(R10)
        CMP.B   #0x3, 0x14(R10)
        JNE     ??ZDO_ParseBindUnbindReq_0
        MOV.W   R11, R13
        MOV.W   R10, R12
        ADD.W   #0xc, R12
        CALLA   #sAddrExtCpy
        MOV.B   0x8(R11), 0x16(R10)
        JMP     ??ZDO_ParseBindUnbindReq_1
??ZDO_ParseBindUnbindReq_0:
        CALLA   #?Subroutine27
??CrossCallReturnLabel_60:
        MOV.W   R14, 0xc(R10)
??ZDO_ParseBindUnbindReq_1:
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock56

        RSEG CODE:CODE:NOROOT(1)
ZDO_ParseEndDeviceBindReq:
          CFI Block cfiBlock57 Using cfiCommon0
          CFI Function ZDO_ParseEndDeviceBindReq
        FUNCALL ZDO_ParseEndDeviceBindReq, sAddrExtCpy
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ParseEndDeviceBindReq, osal_mem_alloc
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ParseEndDeviceBindReq, ZDO_ConvertOTAClusters
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ParseEndDeviceBindReq, osal_mem_alloc
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ParseEndDeviceBindReq, ZDO_ConvertOTAClusters
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.W   R13, R10
        MOV.B   0x11(R12), 0(R13)
        MOV.W   0x2(R12), 0x2(R13)
        MOV.B   0x10(R12), 0x1(R13)
        CALLA   #?Subroutine3
??CrossCallReturnLabel_0:
        MOV.W   R14, 0x4(R13)
        ADD.W   #0x2, R11
        MOV.W   R11, R13
        MOV.W   R10, R12
        ADD.W   #0x6, R12
        CALLA   #sAddrExtCpy
        ADD.W   #0x8, R11
        MOV.B   @R11+, 0xe(R10)
        CALLA   #?Subroutine27
??CrossCallReturnLabel_61:
        MOV.W   R14, 0x10(R10)
        ADD.W   #0x2, R11
        MOV.W   #0x0, 0x14(R10)
        MOV.W   #0x0, 0x18(R10)
        MOV.B   @R11+, R12
        MOV.B   R12, 0x12(R10)
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ParseEndDeviceBindReq_0
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_68:
        MOV.W   R12, 0x14(R10)
        MOV.W   R12, R14
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseEndDeviceBindReq_0
        MOV.W   R11, R13
        MOV.B   0x12(R10), R12
        CALLA   #ZDO_ConvertOTAClusters
        MOV.W   R12, R11
        JMP     ??ZDO_ParseEndDeviceBindReq_1
??ZDO_ParseEndDeviceBindReq_0:
        MOV.B   #0x0, 0x12(R10)
??ZDO_ParseEndDeviceBindReq_1:
        MOV.B   @R11+, R12
        MOV.B   R12, 0x16(R10)
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ParseEndDeviceBindReq_2
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_67:
        MOV.W   R12, 0x18(R10)
        MOV.W   R12, R14
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ParseEndDeviceBindReq_2
        MOV.W   R11, R13
        MOV.B   0x16(R10), R12
        CALLA   #ZDO_ConvertOTAClusters
        JMP     ??ZDO_ParseEndDeviceBindReq_3
??ZDO_ParseEndDeviceBindReq_2:
        MOV.B   #0x0, 0x16(R10)
??ZDO_ParseEndDeviceBindReq_3:
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock57

        RSEG CODE:CODE:NOROOT(1)
?Subroutine3:
          CFI Block cfiCond58 Using cfiCommon0
          CFI Function ZDO_ParseDeviceAnnce
          CFI Conditional ??CrossCallReturnLabel_1
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond59 Using cfiCommon0
          CFI (cfiCond59) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond59) Conditional ??CrossCallReturnLabel_0
          CFI (cfiCond59) R10L Frame(CFA, -8)
          CFI (cfiCond59) R11L Frame(CFA, -6)
          CFI (cfiCond59) CFA SP+12
          CFI Block cfiPicker60 Using cfiCommon1
          CFI (cfiPicker60) NoFunction
          CFI (cfiPicker60) Picker
        MOV.W   0x16(R12), R11
          CFI EndBlock cfiCond58
          CFI EndBlock cfiCond59
          CFI EndBlock cfiPicker60
        REQUIRE ?Subroutine27
        // Fall through to label ?Subroutine27

        RSEG CODE:CODE:NOROOT(1)
?Subroutine27:
          CFI Block cfiCond61 Using cfiCommon0
          CFI Function ZDO_ParseMgmtNwkUpdateReq
          CFI Conditional ??CrossCallReturnLabel_55
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond62 Using cfiCommon0
          CFI (cfiCond62) Function ZDO_ParseMgmtRtgRsp
          CFI (cfiCond62) Conditional ??CrossCallReturnLabel_56
          CFI (cfiCond62) R6L Frame(CFA, -16)
          CFI (cfiCond62) R7L Frame(CFA, -14)
          CFI (cfiCond62) R8L Frame(CFA, -12)
          CFI (cfiCond62) R9L Frame(CFA, -10)
          CFI (cfiCond62) R10L Frame(CFA, -8)
          CFI (cfiCond62) R11L Frame(CFA, -6)
          CFI (cfiCond62) CFA SP+20
          CFI Block cfiCond63 Using cfiCommon0
          CFI (cfiCond63) Function ZDO_ParseMgmtRtgRsp
          CFI (cfiCond63) Conditional ??CrossCallReturnLabel_57
          CFI (cfiCond63) R6L Frame(CFA, -16)
          CFI (cfiCond63) R7L Frame(CFA, -14)
          CFI (cfiCond63) R8L Frame(CFA, -12)
          CFI (cfiCond63) R9L Frame(CFA, -10)
          CFI (cfiCond63) R10L Frame(CFA, -8)
          CFI (cfiCond63) R11L Frame(CFA, -6)
          CFI (cfiCond63) CFA SP+20
          CFI Block cfiCond64 Using cfiCommon0
          CFI (cfiCond64) Function ZDO_ParseMgmNwkDiscRsp
          CFI (cfiCond64) Conditional ??CrossCallReturnLabel_58
          CFI (cfiCond64) R6L Frame(CFA, -16)
          CFI (cfiCond64) R7L Frame(CFA, -14)
          CFI (cfiCond64) R8L Frame(CFA, -12)
          CFI (cfiCond64) R9L Frame(CFA, -10)
          CFI (cfiCond64) R10L Frame(CFA, -8)
          CFI (cfiCond64) R11L Frame(CFA, -6)
          CFI (cfiCond64) CFA SP+20
          CFI Block cfiCond65 Using cfiCommon0
          CFI (cfiCond65) Function ZDO_ParseBindUnbindReq
          CFI (cfiCond65) Conditional ??CrossCallReturnLabel_59
          CFI (cfiCond65) R10L Frame(CFA, -8)
          CFI (cfiCond65) R11L Frame(CFA, -6)
          CFI (cfiCond65) CFA SP+12
          CFI Block cfiCond66 Using cfiCommon0
          CFI (cfiCond66) Function ZDO_ParseBindUnbindReq
          CFI (cfiCond66) Conditional ??CrossCallReturnLabel_60
          CFI (cfiCond66) R10L Frame(CFA, -8)
          CFI (cfiCond66) R11L Frame(CFA, -6)
          CFI (cfiCond66) CFA SP+12
          CFI Block cfiCond67 Using cfiCommon0
          CFI (cfiCond67) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond67) Conditional ??CrossCallReturnLabel_61
          CFI (cfiCond67) R10L Frame(CFA, -8)
          CFI (cfiCond67) R11L Frame(CFA, -6)
          CFI (cfiCond67) CFA SP+12
          CFI Block cfiCond68 Using cfiCommon0
          CFI (cfiCond68) Function ZDO_ParseDeviceAnnce
          CFI (cfiCond68) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond68) R10L Frame(CFA, -8)
          CFI (cfiCond68) R11L Frame(CFA, -6)
          CFI (cfiCond68) CFA SP+12
          CFI Block cfiCond69 Using cfiCommon0
          CFI (cfiCond69) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond69) Conditional ??CrossCallReturnLabel_0
          CFI (cfiCond69) R10L Frame(CFA, -8)
          CFI (cfiCond69) R11L Frame(CFA, -6)
          CFI (cfiCond69) CFA SP+12
          CFI Block cfiPicker70 Using cfiCommon1
          CFI (cfiPicker70) NoFunction
          CFI (cfiPicker70) Picker
        MOV.B   @R11, R14
        MOV.B   0x1(R11), R15
          CFI EndBlock cfiCond61
          CFI EndBlock cfiCond62
          CFI EndBlock cfiCond63
          CFI EndBlock cfiCond64
          CFI EndBlock cfiCond65
          CFI EndBlock cfiCond66
          CFI EndBlock cfiCond67
          CFI EndBlock cfiCond68
          CFI EndBlock cfiCond69
          CFI EndBlock cfiPicker70
        REQUIRE ??Subroutine27_1
        // Fall through to label ??Subroutine27_1

        RSEG CODE:CODE:NOROOT(1)
??Subroutine27_1:
          CFI Block cfiCond71 Using cfiCommon0
          CFI Function ZDO_ParseUserDescRsp
          CFI Conditional ??CrossCallReturnLabel_54, ??CrossCallReturnLabel_18
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
          CFI Block cfiCond72 Using cfiCommon0
          CFI (cfiCond72) Function ZDO_ParseEPListRsp
          CFI (cfiCond72) Conditional ??CrossCallReturnLabel_54, ??CrossCallReturnLabel_19
          CFI (cfiCond72) R6L Frame(CFA, -16)
          CFI (cfiCond72) R7L Frame(CFA, -14)
          CFI (cfiCond72) R8L Frame(CFA, -12)
          CFI (cfiCond72) R9L Frame(CFA, -10)
          CFI (cfiCond72) R10L Frame(CFA, -8)
          CFI (cfiCond72) R11L Frame(CFA, -6)
          CFI (cfiCond72) CFA SP+24
          CFI Block cfiCond73 Using cfiCommon0
          CFI (cfiCond73) Function ZDO_ParseSimpleDescRsp
          CFI (cfiCond73) Conditional ??CrossCallReturnLabel_53, ??CrossCallReturnLabel_15
          CFI (cfiCond73) CFA SP+12
          CFI Block cfiCond74 Using cfiCommon0
          CFI (cfiCond74) Function ZDO_ParsePowerDescRsp
          CFI (cfiCond74) Conditional ??CrossCallReturnLabel_53, ??CrossCallReturnLabel_16
          CFI (cfiCond74) R10L Frame(CFA, -6)
          CFI (cfiCond74) CFA SP+14
          CFI Block cfiCond75 Using cfiCommon0
          CFI (cfiCond75) Function ZDO_ParseNodeDescRsp
          CFI (cfiCond75) Conditional ??CrossCallReturnLabel_53, ??CrossCallReturnLabel_17
          CFI (cfiCond75) R10L Frame(CFA, -6)
          CFI (cfiCond75) CFA SP+14
          CFI Block cfiCond76 Using cfiCommon0
          CFI (cfiCond76) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond76) Conditional ??CrossCallReturnLabel_20
          CFI (cfiCond76) R8L Frame(CFA, -12)
          CFI (cfiCond76) R9L Frame(CFA, -10)
          CFI (cfiCond76) R10L Frame(CFA, -8)
          CFI (cfiCond76) R11L Frame(CFA, -6)
          CFI (cfiCond76) CFA SP+16
          CFI Block cfiCond77 Using cfiCommon0
          CFI (cfiCond77) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond77) Conditional ??CrossCallReturnLabel_21
          CFI (cfiCond77) R8L Frame(CFA, -12)
          CFI (cfiCond77) R9L Frame(CFA, -10)
          CFI (cfiCond77) R10L Frame(CFA, -8)
          CFI (cfiCond77) R11L Frame(CFA, -6)
          CFI (cfiCond77) CFA SP+16
          CFI Block cfiCond78 Using cfiCommon0
          CFI (cfiCond78) Function ZDO_ParseAddrRsp
          CFI (cfiCond78) Conditional ??CrossCallReturnLabel_22
          CFI (cfiCond78) R8L Frame(CFA, -12)
          CFI (cfiCond78) R9L Frame(CFA, -10)
          CFI (cfiCond78) R10L Frame(CFA, -8)
          CFI (cfiCond78) R11L Frame(CFA, -6)
          CFI (cfiCond78) CFA SP+16
          CFI Block cfiCond79 Using cfiCommon0
          CFI (cfiCond79) Function ZDO_ParseAddrRsp
          CFI (cfiCond79) Conditional ??CrossCallReturnLabel_23
          CFI (cfiCond79) R8L Frame(CFA, -12)
          CFI (cfiCond79) R9L Frame(CFA, -10)
          CFI (cfiCond79) R10L Frame(CFA, -8)
          CFI (cfiCond79) R11L Frame(CFA, -6)
          CFI (cfiCond79) CFA SP+16
          CFI Block cfiCond80 Using cfiCommon0
          CFI (cfiCond80) Function ZDO_ParseMgmtBindRsp
          CFI (cfiCond80) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond80) R4L Frame(CFA, -20)
          CFI (cfiCond80) R5L Frame(CFA, -18)
          CFI (cfiCond80) R6L Frame(CFA, -16)
          CFI (cfiCond80) R7L Frame(CFA, -14)
          CFI (cfiCond80) R8L Frame(CFA, -12)
          CFI (cfiCond80) R9L Frame(CFA, -10)
          CFI (cfiCond80) R10L Frame(CFA, -8)
          CFI (cfiCond80) R11L Frame(CFA, -6)
          CFI (cfiCond80) CFA SP+24
          CFI Block cfiCond81 Using cfiCommon0
          CFI (cfiCond81) Function ZDO_ParseMgmtBindRsp
          CFI (cfiCond81) Conditional ??CrossCallReturnLabel_45
          CFI (cfiCond81) R4L Frame(CFA, -20)
          CFI (cfiCond81) R5L Frame(CFA, -18)
          CFI (cfiCond81) R6L Frame(CFA, -16)
          CFI (cfiCond81) R7L Frame(CFA, -14)
          CFI (cfiCond81) R8L Frame(CFA, -12)
          CFI (cfiCond81) R9L Frame(CFA, -10)
          CFI (cfiCond81) R10L Frame(CFA, -8)
          CFI (cfiCond81) R11L Frame(CFA, -6)
          CFI (cfiCond81) CFA SP+24
          CFI Block cfiCond82 Using cfiCommon0
          CFI (cfiCond82) Function ZDO_ParseMgmtLqiRsp
          CFI (cfiCond82) Conditional ??CrossCallReturnLabel_46
          CFI (cfiCond82) R4L Frame(CFA, -20)
          CFI (cfiCond82) R5L Frame(CFA, -18)
          CFI (cfiCond82) R6L Frame(CFA, -16)
          CFI (cfiCond82) R7L Frame(CFA, -14)
          CFI (cfiCond82) R8L Frame(CFA, -12)
          CFI (cfiCond82) R9L Frame(CFA, -10)
          CFI (cfiCond82) R10L Frame(CFA, -8)
          CFI (cfiCond82) R11L Frame(CFA, -6)
          CFI (cfiCond82) CFA SP+24
          CFI Block cfiCond83 Using cfiCommon0
          CFI (cfiCond83) Function ZDO_ParseServerDiscRsp
          CFI (cfiCond83) Conditional ??CrossCallReturnLabel_47
          CFI (cfiCond83) CFA SP+8
          CFI Block cfiCond84 Using cfiCommon0
          CFI (cfiCond84) Function ZDO_ParseNodeDescRsp
          CFI (cfiCond84) Conditional ??CrossCallReturnLabel_48
          CFI (cfiCond84) R10L Frame(CFA, -6)
          CFI (cfiCond84) CFA SP+10
          CFI Block cfiCond85 Using cfiCommon0
          CFI (cfiCond85) Function ZDO_ProcessServerDiscReq
          CFI (cfiCond85) Conditional ??CrossCallReturnLabel_49
          CFI (cfiCond85) CFA SP+8
          CFI Block cfiCond86 Using cfiCommon0
          CFI (cfiCond86) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond86) Conditional ??CrossCallReturnLabel_50
          CFI (cfiCond86) R4L Frame(CFA, -20)
          CFI (cfiCond86) R5L Frame(CFA, -18)
          CFI (cfiCond86) R6L Frame(CFA, -16)
          CFI (cfiCond86) R7L Frame(CFA, -14)
          CFI (cfiCond86) R8L Frame(CFA, -12)
          CFI (cfiCond86) R9L Frame(CFA, -10)
          CFI (cfiCond86) R10L Frame(CFA, -8)
          CFI (cfiCond86) R11L Frame(CFA, -6)
          CFI (cfiCond86) CFA SP+30
          CFI Block cfiCond87 Using cfiCommon0
          CFI (cfiCond87) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond87) Conditional ??CrossCallReturnLabel_51
          CFI (cfiCond87) R4L Frame(CFA, -20)
          CFI (cfiCond87) R5L Frame(CFA, -18)
          CFI (cfiCond87) R6L Frame(CFA, -16)
          CFI (cfiCond87) R7L Frame(CFA, -14)
          CFI (cfiCond87) R8L Frame(CFA, -12)
          CFI (cfiCond87) R9L Frame(CFA, -10)
          CFI (cfiCond87) R10L Frame(CFA, -8)
          CFI (cfiCond87) R11L Frame(CFA, -6)
          CFI (cfiCond87) CFA SP+30
          CFI Block cfiCond88 Using cfiCommon0
          CFI (cfiCond88) Function ZDO_ProcessSimpleDescReq
          CFI (cfiCond88) Conditional ??CrossCallReturnLabel_52
          CFI (cfiCond88) R8L Frame(CFA, -12)
          CFI (cfiCond88) R9L Frame(CFA, -10)
          CFI (cfiCond88) R10L Frame(CFA, -8)
          CFI (cfiCond88) R11L Frame(CFA, -6)
          CFI (cfiCond88) CFA SP+18
          CFI Block cfiCond89 Using cfiCommon0
          CFI (cfiCond89) Function ZDO_ParseMgmtNwkUpdateReq
          CFI (cfiCond89) Conditional ??CrossCallReturnLabel_55
          CFI (cfiCond89) R10L Frame(CFA, -8)
          CFI (cfiCond89) R11L Frame(CFA, -6)
          CFI (cfiCond89) CFA SP+12
          CFI Block cfiCond90 Using cfiCommon0
          CFI (cfiCond90) Function ZDO_ParseMgmtRtgRsp
          CFI (cfiCond90) Conditional ??CrossCallReturnLabel_56
          CFI (cfiCond90) R6L Frame(CFA, -16)
          CFI (cfiCond90) R7L Frame(CFA, -14)
          CFI (cfiCond90) R8L Frame(CFA, -12)
          CFI (cfiCond90) R9L Frame(CFA, -10)
          CFI (cfiCond90) R10L Frame(CFA, -8)
          CFI (cfiCond90) R11L Frame(CFA, -6)
          CFI (cfiCond90) CFA SP+20
          CFI Block cfiCond91 Using cfiCommon0
          CFI (cfiCond91) Function ZDO_ParseMgmtRtgRsp
          CFI (cfiCond91) Conditional ??CrossCallReturnLabel_57
          CFI (cfiCond91) R6L Frame(CFA, -16)
          CFI (cfiCond91) R7L Frame(CFA, -14)
          CFI (cfiCond91) R8L Frame(CFA, -12)
          CFI (cfiCond91) R9L Frame(CFA, -10)
          CFI (cfiCond91) R10L Frame(CFA, -8)
          CFI (cfiCond91) R11L Frame(CFA, -6)
          CFI (cfiCond91) CFA SP+20
          CFI Block cfiCond92 Using cfiCommon0
          CFI (cfiCond92) Function ZDO_ParseMgmNwkDiscRsp
          CFI (cfiCond92) Conditional ??CrossCallReturnLabel_58
          CFI (cfiCond92) R6L Frame(CFA, -16)
          CFI (cfiCond92) R7L Frame(CFA, -14)
          CFI (cfiCond92) R8L Frame(CFA, -12)
          CFI (cfiCond92) R9L Frame(CFA, -10)
          CFI (cfiCond92) R10L Frame(CFA, -8)
          CFI (cfiCond92) R11L Frame(CFA, -6)
          CFI (cfiCond92) CFA SP+20
          CFI Block cfiCond93 Using cfiCommon0
          CFI (cfiCond93) Function ZDO_ParseBindUnbindReq
          CFI (cfiCond93) Conditional ??CrossCallReturnLabel_59
          CFI (cfiCond93) R10L Frame(CFA, -8)
          CFI (cfiCond93) R11L Frame(CFA, -6)
          CFI (cfiCond93) CFA SP+12
          CFI Block cfiCond94 Using cfiCommon0
          CFI (cfiCond94) Function ZDO_ParseBindUnbindReq
          CFI (cfiCond94) Conditional ??CrossCallReturnLabel_60
          CFI (cfiCond94) R10L Frame(CFA, -8)
          CFI (cfiCond94) R11L Frame(CFA, -6)
          CFI (cfiCond94) CFA SP+12
          CFI Block cfiCond95 Using cfiCommon0
          CFI (cfiCond95) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond95) Conditional ??CrossCallReturnLabel_61
          CFI (cfiCond95) R10L Frame(CFA, -8)
          CFI (cfiCond95) R11L Frame(CFA, -6)
          CFI (cfiCond95) CFA SP+12
          CFI Block cfiCond96 Using cfiCommon0
          CFI (cfiCond96) Function ZDO_ParseDeviceAnnce
          CFI (cfiCond96) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond96) R10L Frame(CFA, -8)
          CFI (cfiCond96) R11L Frame(CFA, -6)
          CFI (cfiCond96) CFA SP+12
          CFI Block cfiCond97 Using cfiCommon0
          CFI (cfiCond97) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond97) Conditional ??CrossCallReturnLabel_0
          CFI (cfiCond97) R10L Frame(CFA, -8)
          CFI (cfiCond97) R11L Frame(CFA, -6)
          CFI (cfiCond97) CFA SP+12
          CFI Block cfiPicker98 Using cfiCommon1
          CFI (cfiPicker98) NoFunction
          CFI (cfiPicker98) Picker
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R14
        RETA
          CFI EndBlock cfiCond71
          CFI EndBlock cfiCond72
          CFI EndBlock cfiCond73
          CFI EndBlock cfiCond74
          CFI EndBlock cfiCond75
          CFI EndBlock cfiCond76
          CFI EndBlock cfiCond77
          CFI EndBlock cfiCond78
          CFI EndBlock cfiCond79
          CFI EndBlock cfiCond80
          CFI EndBlock cfiCond81
          CFI EndBlock cfiCond82
          CFI EndBlock cfiCond83
          CFI EndBlock cfiCond84
          CFI EndBlock cfiCond85
          CFI EndBlock cfiCond86
          CFI EndBlock cfiCond87
          CFI EndBlock cfiCond88
          CFI EndBlock cfiCond89
          CFI EndBlock cfiCond90
          CFI EndBlock cfiCond91
          CFI EndBlock cfiCond92
          CFI EndBlock cfiCond93
          CFI EndBlock cfiCond94
          CFI EndBlock cfiCond95
          CFI EndBlock cfiCond96
          CFI EndBlock cfiCond97
          CFI EndBlock cfiPicker98

        RSEG CODE:CODE:NOROOT(1)
ZDO_EndDeviceBindMatchTimeoutCB:
          CFI Block cfiBlock99 Using cfiCommon0
          CFI Function ZDO_EndDeviceBindMatchTimeoutCB
        FUNCALL ZDO_EndDeviceBindMatchTimeoutCB, ZDMatchSendState
        LOCFRAME CSTACK, 4, STACK
        MOV.B   #0x0, R14
        MOV.B   #0x85, R13
        MOV.B   #0x1, R12
        BRA     #ZDMatchSendState
          CFI EndBlock cfiBlock99

        RSEG CODE:CODE:NOROOT(1)
ZDMatchSendState:
          CFI Block cfiBlock100 Using cfiCommon0
          CFI Function ZDMatchSendState
        FUNCALL ZDMatchSendState, APS_SetEndDeviceBindTimeout
        LOCFRAME CSTACK, 42, STACK
        FUNCALL ZDMatchSendState, sAddrExtCpy
        LOCFRAME CSTACK, 42, STACK
        FUNCALL ZDMatchSendState, ZDP_BindUnbindReq
        LOCFRAME CSTACK, 50, STACK
        FUNCALL ZDMatchSendState, APS_SetEndDeviceBindTimeout
        LOCFRAME CSTACK, 50, STACK
        FUNCALL ZDMatchSendState, ZDP_SendData
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDMatchSendState, ZDP_SendData
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDMatchSendState, ZDO_RemoveMatchMemory
        LOCFRAME CSTACK, 42, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        SUB.W   #0x16, SP
          CFI CFA SP+42
        MOV.B   R12, R10
        MOV.B   R13, R4
        MOV.W   #0x0, R9
        MOV.B   #0xff, R6
        MOV.W   #0xffff, R7
        MOV.W   #0x0, R8
        MOV.B   #0x0, 0(SP)
        MOV.W   &matchED, R15
        CMP.W   #0x0, R15
        JEQ     ??ZDMatchSendState_0
        MOV.W   #matchED, R11
        CMP.B   #0x3, R12
        JEQ     ??ZDMatchSendState_1
        CMP.B   #0x2, R12
        JNE     ??ZDMatchSendState_2
??ZDMatchSendState_1:
        CMP.B   0x36(R15), R14
        JEQ     ??ZDMatchSendState_2
??ZDMatchSendState_0:
        MOV.B   #0x0, R12
        JMP     ??ZDMatchSendState_3
??ZDMatchSendState_2:
        MOV.W   #LWRD(ZDO_EndDeviceBindMatchTimeoutCB), R14
        MOV.W   #HWRD(ZDO_EndDeviceBindMatchTimeoutCB), R15
        MOV.W   #0x0, R12
        CALLA   #APS_SetEndDeviceBindTimeout
        CMP.B   #0x1, R10
        JNE     ??ZDMatchSendState_4
        MOV.B   #0x85, 0(SP)
        JMP     ??ZDMatchSendState_5
??ZDMatchSendState_4:
        CMP.B   #0x0, R10
        JNE     ??ZDMatchSendState_6
        MOV.W   @R11, R15
        MOV.B   #0x1, 0x35(R15)
        JMP     ??ZDMatchSendState_7
??ZDMatchSendState_6:
        CMP.B   #0x3, R10
        JNE     ??ZDMatchSendState_8
        MOV.W   @R11, R15
        MOV.B   #0x1, 0x35(R15)
        CMP.B   #0x0, R4
        JEQ     ??ZDMatchSendState_5
        MOV.B   R4, 0(SP)
        JMP     ??ZDMatchSendState_5
??ZDMatchSendState_8:
        CMP.B   #0x2, R10
        JNE     ??ZDMatchSendState_5
        CMP.B   #0x0, R4
        JEQ     ??ZDMatchSendState_9
        MOV.B   #0x2, R14
        JMP     ??ZDMatchSendState_10
??ZDMatchSendState_9:
        MOV.B   #0x1, R14
??ZDMatchSendState_10:
        MOV.W   @R11, R15
        MOV.B   R14, 0x35(R15)
??ZDMatchSendState_5:
        MOV.W   @R11, R15
        CMP.B   #0x1, 0x35(R15)
        JNE     ??ZDMatchSendState_7
        CMP.B   #0x0, 0x37(R15)
        JEQ     ??ZDMatchSendState_11
        ADD.B   #0xff, 0x37(R15)
        JMP     ??ZDMatchSendState_7
??ZDMatchSendState_11:
        CMP.B   #0x0, 0x3a(R15)
        JEQ     ??ZDMatchSendState_7
        ADD.B   #0xff, 0x3a(R15)
??ZDMatchSendState_7:
        MOV.W   @R11, R15
        MOV.B   0x37(R15), R14
        CMP.B   #0x0, R14
        JEQ     ??ZDMatchSendState_12
        MOV.W   R15, R8
        MOV.W   0x38(R15), R7
        RLA.W   R14
        ADD.W   R14, R7
        MOV.W   0xfffe(R7), R7
        MOV.W   R15, R9
        ADD.W   #0x20, R9
        MOV.B   0x28(R15), R6
        JMP     ??ZDMatchSendState_13
??ZDMatchSendState_12:
        MOV.B   0x3a(R15), R14
        CMP.B   #0x0, R14
        JEQ     ??ZDMatchSendState_13
        MOV.W   R15, R8
        ADD.W   #0x1a, R8
        MOV.W   0x3c(R15), R7
        RLA.W   R14
        ADD.W   R14, R7
        MOV.W   0xfffe(R7), R7
        MOV.W   R15, R9
        ADD.W   #0x6, R9
        MOV.B   0xe(R15), R6
??ZDMatchSendState_13:
        MOV.B   #0x2, 0xa(SP)
        MOV.W   SP, R10
        ADD.W   #0x2, R10
        CMP.B   #0x0, 0(SP)
        JNE     ??ZDMatchSendState_14
        CMP.W   #0x0, R8
        JEQ     ??ZDMatchSendState_14
        CMP.B   #0x1, 0x35(R15)
        JEQ     ??ZDMatchSendState_15
        MOV.W   #0x21, R11
        JMP     ??ZDMatchSendState_16
??ZDMatchSendState_15:
        MOV.W   #0x22, R11
??ZDMatchSendState_16:
        MOV.W   0x2(R8), 0x2(SP)
        MOV.B   &ZDP_TransID, 0x36(R15)
        MOV.B   #0x3, 0x14(SP)
        MOV.W   R9, R13
        MOV.W   SP, R12
        ADD.W   #0xc, R12
        CALLA   #sAddrExtCpy
        PUSH.B  0x1(R8)
          CFI CFA SP+44
        PUSH.B  R6
          CFI CFA SP+46
        MOV.W   SP, R15
        ADD.W   #0x10, R15
        PUSH.W  R15
          CFI CFA SP+48
        PUSH.W  R7
          CFI CFA SP+50
        MOV.B   0xe(R8), R15
        ADD.W   #0x6, R8
        MOV.W   R8, R14
        MOV.W   R10, R13
        MOV.W   R11, R12
        CALLA   #ZDP_BindUnbindReq
        CALLA   #?Subroutine20
??CrossCallReturnLabel_32:
        ADD.W   #0x8, SP
          CFI CFA SP+42
        JMP     ??ZDMatchSendState_17
??ZDMatchSendState_14:
        MOV.W   0x2(R15), 0x2(SP)
        PUSH.B  0x1(R15)
          CFI CFA SP+44
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+46
        MOV.B   #0x1, R15
        MOV.W   #0x8020, R14
        MOV.W   R10, R13
        MOV.W   @R11, R12
        CALLA   #ZDP_SendData
        MOV.W   @R11, R12
        ADD.W   #0x4, SP
          CFI CFA SP+42
        CMP.B   #0x2, 0x34(R12)
        JNE     ??ZDMatchSendState_18
        MOV.W   0x1c(R12), 0x2(SP)
        PUSH.B  0x1b(R12)
          CFI CFA SP+44
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+46
        MOV.B   #0x1, R15
        MOV.W   #0x8020, R14
        MOV.W   R10, R13
        ADD.W   #0x1a, R12
        CALLA   #ZDP_SendData
        ADD.W   #0x4, SP
          CFI CFA SP+42
??ZDMatchSendState_18:
        CALLA   #ZDO_RemoveMatchMemory
??ZDMatchSendState_17:
        MOV.B   #0x1, R12
??ZDMatchSendState_3:
        ADD.W   #0x16, SP
          CFI CFA SP+20
        POPM.W  #0x8, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock100

        RSEG CODE:CODE:NOROOT(1)
ZDO_CopyMatchInfo:
          CFI Block cfiBlock101 Using cfiCommon0
          CFI Function ZDO_CopyMatchInfo
        FUNCALL ZDO_CopyMatchInfo, osal_memcpy
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_memcpy
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_memcpy
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_mem_free
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_CopyMatchInfo, osal_mem_free
        LOCFRAME CSTACK, 12, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.W   R12, R11
        MOV.W   R13, R8
        MOV.B   #0x1, R10
        MOV.W   #0x1a, R14
        CALLA   #osal_memcpy
        MOV.W   #0x0, 0x14(R11)
        MOV.W   #0x0, 0x18(R11)
        MOV.B   0x12(R8), R12
        CMP.B   #0x0, R12
        JEQ     ??ZDO_CopyMatchInfo_5
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_66:
        MOV.W   R12, 0x14(R11)
        CMP.W   #0x0, R12
        JEQ     ??ZDO_CopyMatchInfo_6
        MOV.B   0x12(R8), R14
        RLA.W   R14
        MOV.W   0x14(R8), R13
        CALLA   #osal_memcpy
        JMP     ??ZDO_CopyMatchInfo_5
??ZDO_CopyMatchInfo_6:
        MOV.B   #0x0, R10
??ZDO_CopyMatchInfo_5:
        MOV.B   0x16(R8), R12
        CMP.B   #0x0, R12
        JEQ     ??ZDO_CopyMatchInfo_7
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_65:
        MOV.W   R12, 0x18(R11)
        CMP.W   #0x0, R12
        JEQ     ??ZDO_CopyMatchInfo_8
        MOV.B   0x16(R8), R14
        RLA.W   R14
        MOV.W   0x18(R8), R13
        CALLA   #osal_memcpy
??ZDO_CopyMatchInfo_7:
        BIT.B   #0x1, R10
        JC      ??ZDO_CopyMatchInfo_2
??ZDO_CopyMatchInfo_0:
        MOV.W   0x14(R11), R12
        CALLA   #?Subroutine7
??CrossCallReturnLabel_11:
        MOV.W   0x18(R11), R12
        CALLA   #?Subroutine7
??ZDO_CopyMatchInfo_2:
        MOV.B   R10, R12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
??ZDO_CopyMatchInfo_8:
        MOV.B   #0x0, R10
        JMP     ??ZDO_CopyMatchInfo_0
          CFI EndBlock cfiBlock101

        RSEG CODE:CODE:NOROOT(1)
ZDO_RemoveMatchMemory:
          CFI Block cfiBlock102 Using cfiCommon0
          CFI Function ZDO_RemoveMatchMemory
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_RemoveMatchMemory, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        MOV.W   &matchED, R15
        CMP.W   #0x0, R15
        JEQ     ??ZDO_RemoveMatchMemory_7
        MOV.W   #matchED, R10
        MOV.W   0x3c(R15), R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_6:
        MOV.W   0x38(R15), R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_7:
        MOV.W   0x14(R15), R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_8:
        MOV.W   0x18(R15), R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_9:
        MOV.W   0x2e(R15), R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_10:
        MOV.W   0x32(R15), R12
        CALLA   #?Subroutine7
??CrossCallReturnLabel_12:
        MOV.W   @R10, R12
        CALLA   #osal_mem_free
        MOV.W   #0x0, &matchED
??ZDO_RemoveMatchMemory_7:
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock102

        RSEG CODE:CODE:NOROOT(1)
?Subroutine7:
          CFI Block cfiCond103 Using cfiCommon0
          CFI Function ZDO_CopyMatchInfo
          CFI Conditional ??CrossCallReturnLabel_11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond104 Using cfiCommon0
          CFI (cfiCond104) Function ZDO_CopyMatchInfo
          CFI (cfiCond104) Conditional ??ZDO_CopyMatchInfo_2
          CFI (cfiCond104) R8L Frame(CFA, -12)
          CFI (cfiCond104) R9L Frame(CFA, -10)
          CFI (cfiCond104) R10L Frame(CFA, -8)
          CFI (cfiCond104) R11L Frame(CFA, -6)
          CFI (cfiCond104) CFA SP+16
          CFI Block cfiCond105 Using cfiCommon0
          CFI (cfiCond105) Function ZDO_RemoveMatchMemory
          CFI (cfiCond105) Conditional ??CrossCallReturnLabel_12
          CFI (cfiCond105) R10L Frame(CFA, -6)
          CFI (cfiCond105) CFA SP+10
          CFI Block cfiCond106 Using cfiCommon0
          CFI (cfiCond106) Function ZDO_EndDeviceTimeoutCB
          CFI (cfiCond106) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond106) CFA SP+10
          CFI Block cfiCond107 Using cfiCommon0
          CFI (cfiCond107) Function ZDO_EndDeviceTimeoutCB
          CFI (cfiCond107) Conditional ??CrossCallReturnLabel_14
          CFI (cfiCond107) CFA SP+10
          CFI Block cfiPicker108 Using cfiCommon1
          CFI (cfiPicker108) NoFunction
          CFI (cfiPicker108) Picker
        CMP.W   #0x0, R12
        JEQ     ??ZDO_CopyMatchInfo_3
        CALLA   #osal_mem_free
??ZDO_CopyMatchInfo_3:
        RETA
          CFI EndBlock cfiCond103
          CFI EndBlock cfiCond104
          CFI EndBlock cfiCond105
          CFI EndBlock cfiCond106
          CFI EndBlock cfiCond107
          CFI EndBlock cfiPicker108

        RSEG CODE:CODE:NOROOT(1)
?Subroutine6:
          CFI Block cfiCond109 Using cfiCommon0
          CFI Function ZDO_RemoveMatchMemory
          CFI Conditional ??CrossCallReturnLabel_6
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+10
          CFI Block cfiCond110 Using cfiCommon0
          CFI (cfiCond110) Function ZDO_RemoveMatchMemory
          CFI (cfiCond110) Conditional ??CrossCallReturnLabel_7
          CFI (cfiCond110) R10L Frame(CFA, -6)
          CFI (cfiCond110) CFA SP+10
          CFI Block cfiCond111 Using cfiCommon0
          CFI (cfiCond111) Function ZDO_RemoveMatchMemory
          CFI (cfiCond111) Conditional ??CrossCallReturnLabel_8
          CFI (cfiCond111) R10L Frame(CFA, -6)
          CFI (cfiCond111) CFA SP+10
          CFI Block cfiCond112 Using cfiCommon0
          CFI (cfiCond112) Function ZDO_RemoveMatchMemory
          CFI (cfiCond112) Conditional ??CrossCallReturnLabel_9
          CFI (cfiCond112) R10L Frame(CFA, -6)
          CFI (cfiCond112) CFA SP+10
          CFI Block cfiCond113 Using cfiCommon0
          CFI (cfiCond113) Function ZDO_RemoveMatchMemory
          CFI (cfiCond113) Conditional ??CrossCallReturnLabel_10
          CFI (cfiCond113) R10L Frame(CFA, -6)
          CFI (cfiCond113) CFA SP+10
          CFI Block cfiPicker114 Using cfiCommon1
          CFI (cfiPicker114) NoFunction
          CFI (cfiPicker114) Picker
        CMP.W   #0x0, R12
        JEQ     ??ZDO_RemoveMatchMemory_0
        CALLA   #osal_mem_free
??ZDO_RemoveMatchMemory_0:
        MOV.W   @R10, R15
        RETA
          CFI EndBlock cfiCond109
          CFI EndBlock cfiCond110
          CFI EndBlock cfiCond111
          CFI EndBlock cfiCond112
          CFI EndBlock cfiCond113
          CFI EndBlock cfiPicker114

        RSEG CODE:CODE:NOROOT(1)
ZDO_MatchEndDeviceBind:
          CFI Block cfiBlock115 Using cfiCommon0
          CFI Function ZDO_MatchEndDeviceBind
        FUNCALL ZDO_MatchEndDeviceBind, osal_mem_alloc
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, osal_memset
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDO_CopyMatchInfo
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, APS_SetEndDeviceBindTimeout
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDO_CopyMatchInfo
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDO_CompareClusterLists
        LOCFRAME CSTACK, 30, STACK
        FUNCALL ZDO_MatchEndDeviceBind, osal_mem_alloc
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, osal_memcpy
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDO_CompareClusterLists
        LOCFRAME CSTACK, 30, STACK
        FUNCALL ZDO_MatchEndDeviceBind, osal_mem_alloc
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, osal_memcpy
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDMatchSendState
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDP_SendData
        LOCFRAME CSTACK, 32, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDP_SendData
        LOCFRAME CSTACK, 32, STACK
        FUNCALL ZDO_MatchEndDeviceBind, ZDO_RemoveMatchMemory
        LOCFRAME CSTACK, 28, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0xc, SP
          CFI CFA SP+28
        MOV.W   R12, R10
        MOV.B   #0x0, R9
        MOV.W   &matchED, R15
        MOV.B   #0x88, R8
        MOV.W   #matchED, R11
        CMP.W   #0x0, R15
        JNE     ??ZDO_MatchEndDeviceBind_0
        MOV.W   #0x3e, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, &matchED
        CMP.W   #0x0, R12
        JEQ     ??ZDO_MatchEndDeviceBind_1
        MOV.W   #0x3e, R14
        MOV.B   #0x0, R13
        CALLA   #osal_memset
        MOV.W   R10, R13
        MOV.W   @R11, R12
        CALLA   #ZDO_CopyMatchInfo
        CMP.B   #0x0, R12
        JNE     ??ZDO_MatchEndDeviceBind_2
??ZDO_MatchEndDeviceBind_1:
        MOV.B   R8, 0(SP)
        JMP     ??ZDO_MatchEndDeviceBind_3
??ZDO_MatchEndDeviceBind_2:
        MOV.W   @R11, R15
        MOV.B   #0x1, 0x34(R15)
        CALLA   #?Subroutine20
??CrossCallReturnLabel_31:
        JMP     ??ZDO_MatchEndDeviceBind_4
??ZDO_MatchEndDeviceBind_0:
        MOV.B   #0x2, 0x34(R15)
        MOV.W   R12, R13
        MOV.W   @R11, R12
        ADD.W   #0x1a, R12
        CALLA   #ZDO_CopyMatchInfo
        CMP.B   #0x0, R12
        JNE     ??ZDO_MatchEndDeviceBind_5
        MOV.B   R8, 0(SP)
        MOV.B   #0x1, R9
??ZDO_MatchEndDeviceBind_5:
        MOV.W   @R11, R12
        MOV.W   #ZDOBuildBuf, R6
        PUSH.W  R6
          CFI CFA SP+30
        MOV.W   0x2e(R12), R15
        MOV.B   0x2c(R12), R14
        MOV.W   0x18(R12), R13
        MOV.B   0x16(R12), R12
        CALLA   #ZDO_CompareClusterLists
        MOV.W   @R11, R15
        MOV.B   R12, 0x37(R15)
        MOV.W   @R11, R15
        MOV.B   0x37(R15), R12
        ADD.W   #0x2, SP
          CFI CFA SP+28
        CMP.B   #0x0, R12
        JEQ     ??ZDO_MatchEndDeviceBind_6
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_64:
        MOV.W   @R11, R15
        MOV.W   R12, 0x38(R15)
        CMP.W   #0x0, R12
        JEQ     ??ZDO_MatchEndDeviceBind_7
        MOV.B   0x37(R15), R14
        RLA.W   R14
        MOV.W   R6, R13
        CALLA   #osal_memcpy
        JMP     ??ZDO_MatchEndDeviceBind_6
??ZDO_MatchEndDeviceBind_7:
        MOV.B   R8, 0(SP)
        MOV.B   #0x1, R9
??ZDO_MatchEndDeviceBind_6:
        MOV.W   @R11, R12
        PUSH.W  R6
          CFI CFA SP+30
        MOV.W   0x14(R12), R15
        MOV.B   0x12(R12), R14
        MOV.W   0x32(R12), R13
        MOV.B   0x30(R12), R12
        CALLA   #ZDO_CompareClusterLists
        MOV.W   @R11, R15
        MOV.B   R12, 0x3a(R15)
        MOV.W   @R11, R15
        MOV.B   0x3a(R15), R12
        ADD.W   #0x2, SP
          CFI CFA SP+28
        CMP.B   #0x0, R12
        JEQ     ??ZDO_MatchEndDeviceBind_8
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_63:
        MOV.W   @R11, R15
        MOV.W   R12, 0x3c(R15)
        CMP.W   #0x0, R12
        JEQ     ??ZDO_MatchEndDeviceBind_9
        MOV.B   0x3a(R15), R14
        RLA.W   R14
        MOV.W   R6, R13
        CALLA   #osal_memcpy
??ZDO_MatchEndDeviceBind_8:
        BIT.B   #0x1, R9
        JC      ??ZDO_MatchEndDeviceBind_10
        MOV.W   @R11, R15
        CMP.B   #0x0, 0x37(R15)
        JNE     ??ZDO_MatchEndDeviceBind_11
        CMP.B   #0x0, 0x3a(R15)
        JEQ     ??ZDO_MatchEndDeviceBind_10
??ZDO_MatchEndDeviceBind_11:
        MOV.B   #0x0, R14
        MOV.B   #0x0, R13
        MOV.B   #0x0, R12
        CALLA   #ZDMatchSendState
        JMP     ??ZDO_MatchEndDeviceBind_4
??ZDO_MatchEndDeviceBind_9:
        MOV.B   R8, 0(SP)
??ZDO_MatchEndDeviceBind_10:
        MOV.B   #0x86, 0(SP)
??ZDO_MatchEndDeviceBind_3:
        MOV.B   #0x2, 0xa(SP)
        MOV.W   0x2(R10), 0x2(SP)
        PUSH.B  0x1(R10)
          CFI CFA SP+30
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+32
        CALLA   #?Subroutine22
??CrossCallReturnLabel_35:
        CALLA   #??Subroutine31_0
??CrossCallReturnLabel_72:
        MOV.W   @R11, R15
        ADD.W   #0x4, SP
          CFI CFA SP+28
        CMP.B   #0x2, 0x34(R15)
        JNE     ??ZDO_MatchEndDeviceBind_12
        MOV.B   #0x2, 0xa(SP)
        MOV.W   0x2(R15), 0x2(SP)
        PUSH.B  0x1(R15)
          CFI CFA SP+30
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+32
        CALLA   #?Subroutine22
??CrossCallReturnLabel_36:
        MOV.W   @R11, R12
        CALLA   #ZDP_SendData
        ADD.W   #0x4, SP
          CFI CFA SP+28
??ZDO_MatchEndDeviceBind_12:
        CALLA   #ZDO_RemoveMatchMemory
??ZDO_MatchEndDeviceBind_4:
        ADD.W   #0xc, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock115

        RSEG CODE:CODE:NOROOT(1)
?Subroutine22:
          CFI Block cfiCond116 Using cfiCommon0
          CFI Function ZDO_MatchEndDeviceBind
          CFI Conditional ??CrossCallReturnLabel_35
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+36
          CFI Block cfiCond117 Using cfiCommon0
          CFI (cfiCond117) Function ZDO_MatchEndDeviceBind
          CFI (cfiCond117) Conditional ??CrossCallReturnLabel_36
          CFI (cfiCond117) R6L Frame(CFA, -16)
          CFI (cfiCond117) R7L Frame(CFA, -14)
          CFI (cfiCond117) R8L Frame(CFA, -12)
          CFI (cfiCond117) R9L Frame(CFA, -10)
          CFI (cfiCond117) R10L Frame(CFA, -8)
          CFI (cfiCond117) R11L Frame(CFA, -6)
          CFI (cfiCond117) CFA SP+36
          CFI Block cfiPicker118 Using cfiCommon1
          CFI (cfiPicker118) NoFunction
          CFI (cfiPicker118) Picker
        MOV.B   #0x1, R15
        MOV.W   #0x8020, R14
        MOV.W   SP, R13
        ADD.W   #0xa, R13
        RETA
          CFI EndBlock cfiCond116
          CFI EndBlock cfiCond117
          CFI EndBlock cfiPicker118

        RSEG CODE:CODE:NOROOT(1)
?Subroutine20:
          CFI Block cfiCond119 Using cfiCommon0
          CFI Function ZDMatchSendState
          CFI Conditional ??CrossCallReturnLabel_32
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+54
          CFI Block cfiCond120 Using cfiCommon0
          CFI (cfiCond120) Function ZDO_MatchEndDeviceBind
          CFI (cfiCond120) Conditional ??CrossCallReturnLabel_31
          CFI (cfiCond120) R6L Frame(CFA, -16)
          CFI (cfiCond120) R7L Frame(CFA, -14)
          CFI (cfiCond120) R8L Frame(CFA, -12)
          CFI (cfiCond120) R9L Frame(CFA, -10)
          CFI (cfiCond120) R10L Frame(CFA, -8)
          CFI (cfiCond120) R11L Frame(CFA, -6)
          CFI (cfiCond120) CFA SP+32
          CFI Block cfiPicker121 Using cfiCommon1
          CFI (cfiPicker121) NoFunction
          CFI (cfiPicker121) Picker
        MOV.W   #LWRD(ZDO_EndDeviceBindMatchTimeoutCB), R14
        MOV.W   #HWRD(ZDO_EndDeviceBindMatchTimeoutCB), R15
        MOV.W   &AIB_MaxBindingTime, R12
        BRA     #APS_SetEndDeviceBindTimeout
          CFI EndBlock cfiCond119
          CFI EndBlock cfiCond120
          CFI EndBlock cfiPicker121

        RSEG CODE:CODE:NOROOT(1)
?Subroutine13:
          CFI Block cfiCond122 Using cfiCommon0
          CFI Function ZDO_ParseSimpleDescBuf
          CFI Conditional ??CrossCallReturnLabel_71
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond123 Using cfiCommon0
          CFI (cfiCond123) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond123) Conditional ??CrossCallReturnLabel_70
          CFI (cfiCond123) R8L Frame(CFA, -12)
          CFI (cfiCond123) R9L Frame(CFA, -10)
          CFI (cfiCond123) R10L Frame(CFA, -8)
          CFI (cfiCond123) R11L Frame(CFA, -6)
          CFI (cfiCond123) CFA SP+16
          CFI Block cfiCond124 Using cfiCommon0
          CFI (cfiCond124) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond124) Conditional ??CrossCallReturnLabel_69
          CFI (cfiCond124) R4L Frame(CFA, -20)
          CFI (cfiCond124) R5L Frame(CFA, -18)
          CFI (cfiCond124) R6L Frame(CFA, -16)
          CFI (cfiCond124) R7L Frame(CFA, -14)
          CFI (cfiCond124) R8L Frame(CFA, -12)
          CFI (cfiCond124) R9L Frame(CFA, -10)
          CFI (cfiCond124) R10L Frame(CFA, -8)
          CFI (cfiCond124) R11L Frame(CFA, -6)
          CFI (cfiCond124) CFA SP+30
          CFI Block cfiPicker125 Using cfiCommon1
          CFI (cfiPicker125) NoFunction
          CFI (cfiPicker125) Picker
        MOV.B   R10, R12
          CFI EndBlock cfiCond122
          CFI EndBlock cfiCond123
          CFI EndBlock cfiCond124
          CFI EndBlock cfiPicker125
        REQUIRE ??Subroutine13_0
        // Fall through to label ??Subroutine13_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine13_0:
          CFI Block cfiCond126 Using cfiCommon0
          CFI Function ZDO_ParseEndDeviceBindReq
          CFI Conditional ??CrossCallReturnLabel_68
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond127 Using cfiCommon0
          CFI (cfiCond127) Function ZDO_ParseEndDeviceBindReq
          CFI (cfiCond127) Conditional ??CrossCallReturnLabel_67
          CFI (cfiCond127) R10L Frame(CFA, -8)
          CFI (cfiCond127) R11L Frame(CFA, -6)
          CFI (cfiCond127) CFA SP+12
          CFI Block cfiCond128 Using cfiCommon0
          CFI (cfiCond128) Function ZDO_CopyMatchInfo
          CFI (cfiCond128) Conditional ??CrossCallReturnLabel_66
          CFI (cfiCond128) R8L Frame(CFA, -12)
          CFI (cfiCond128) R9L Frame(CFA, -10)
          CFI (cfiCond128) R10L Frame(CFA, -8)
          CFI (cfiCond128) R11L Frame(CFA, -6)
          CFI (cfiCond128) CFA SP+16
          CFI Block cfiCond129 Using cfiCommon0
          CFI (cfiCond129) Function ZDO_CopyMatchInfo
          CFI (cfiCond129) Conditional ??CrossCallReturnLabel_65
          CFI (cfiCond129) R8L Frame(CFA, -12)
          CFI (cfiCond129) R9L Frame(CFA, -10)
          CFI (cfiCond129) R10L Frame(CFA, -8)
          CFI (cfiCond129) R11L Frame(CFA, -6)
          CFI (cfiCond129) CFA SP+16
          CFI Block cfiCond130 Using cfiCommon0
          CFI (cfiCond130) Function ZDO_MatchEndDeviceBind
          CFI (cfiCond130) Conditional ??CrossCallReturnLabel_64
          CFI (cfiCond130) R6L Frame(CFA, -16)
          CFI (cfiCond130) R7L Frame(CFA, -14)
          CFI (cfiCond130) R8L Frame(CFA, -12)
          CFI (cfiCond130) R9L Frame(CFA, -10)
          CFI (cfiCond130) R10L Frame(CFA, -8)
          CFI (cfiCond130) R11L Frame(CFA, -6)
          CFI (cfiCond130) CFA SP+32
          CFI Block cfiCond131 Using cfiCommon0
          CFI (cfiCond131) Function ZDO_MatchEndDeviceBind
          CFI (cfiCond131) Conditional ??CrossCallReturnLabel_63
          CFI (cfiCond131) R6L Frame(CFA, -16)
          CFI (cfiCond131) R7L Frame(CFA, -14)
          CFI (cfiCond131) R8L Frame(CFA, -12)
          CFI (cfiCond131) R9L Frame(CFA, -10)
          CFI (cfiCond131) R10L Frame(CFA, -8)
          CFI (cfiCond131) R11L Frame(CFA, -6)
          CFI (cfiCond131) CFA SP+32
          CFI Block cfiCond132 Using cfiCommon0
          CFI (cfiCond132) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond132) Conditional ??CrossCallReturnLabel_62
          CFI (cfiCond132) R4L Frame(CFA, -20)
          CFI (cfiCond132) R5L Frame(CFA, -18)
          CFI (cfiCond132) R6L Frame(CFA, -16)
          CFI (cfiCond132) R7L Frame(CFA, -14)
          CFI (cfiCond132) R8L Frame(CFA, -12)
          CFI (cfiCond132) R9L Frame(CFA, -10)
          CFI (cfiCond132) R10L Frame(CFA, -8)
          CFI (cfiCond132) R11L Frame(CFA, -6)
          CFI (cfiCond132) CFA SP+30
          CFI Block cfiCond133 Using cfiCommon0
          CFI (cfiCond133) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond133) Conditional ??CrossCallReturnLabel_71
          CFI (cfiCond133) R8L Frame(CFA, -12)
          CFI (cfiCond133) R9L Frame(CFA, -10)
          CFI (cfiCond133) R10L Frame(CFA, -8)
          CFI (cfiCond133) R11L Frame(CFA, -6)
          CFI (cfiCond133) CFA SP+16
          CFI Block cfiCond134 Using cfiCommon0
          CFI (cfiCond134) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond134) Conditional ??CrossCallReturnLabel_70
          CFI (cfiCond134) R8L Frame(CFA, -12)
          CFI (cfiCond134) R9L Frame(CFA, -10)
          CFI (cfiCond134) R10L Frame(CFA, -8)
          CFI (cfiCond134) R11L Frame(CFA, -6)
          CFI (cfiCond134) CFA SP+16
          CFI Block cfiCond135 Using cfiCommon0
          CFI (cfiCond135) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond135) Conditional ??CrossCallReturnLabel_69
          CFI (cfiCond135) R4L Frame(CFA, -20)
          CFI (cfiCond135) R5L Frame(CFA, -18)
          CFI (cfiCond135) R6L Frame(CFA, -16)
          CFI (cfiCond135) R7L Frame(CFA, -14)
          CFI (cfiCond135) R8L Frame(CFA, -12)
          CFI (cfiCond135) R9L Frame(CFA, -10)
          CFI (cfiCond135) R10L Frame(CFA, -8)
          CFI (cfiCond135) R11L Frame(CFA, -6)
          CFI (cfiCond135) CFA SP+30
          CFI Block cfiPicker136 Using cfiCommon1
          CFI (cfiPicker136) NoFunction
          CFI (cfiPicker136) Picker
        RLA.W   R12
        BRA     #osal_mem_alloc
          CFI EndBlock cfiCond126
          CFI EndBlock cfiCond127
          CFI EndBlock cfiCond128
          CFI EndBlock cfiCond129
          CFI EndBlock cfiCond130
          CFI EndBlock cfiCond131
          CFI EndBlock cfiCond132
          CFI EndBlock cfiCond133
          CFI EndBlock cfiCond134
          CFI EndBlock cfiCond135
          CFI EndBlock cfiPicker136

        RSEG CODE:CODE:NOROOT(1)
ZDO_BuildSimpleDescBuf:
          CFI Block cfiBlock137 Using cfiCommon0
          CFI Function ZDO_BuildSimpleDescBuf
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        MOV.B   @R13, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x3(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x2(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x5(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x4(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x6(R13), R14
        RPT     #0x4
        RLAX.B  R14
        MOV.B   R14, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x7(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.W   0x8(R13), R15
        MOV.B   #0x0, R10
        JMP     ??ZDO_BuildSimpleDescBuf_2
??ZDO_BuildSimpleDescBuf_0:
        CALLA   #?Subroutine23
??ZDO_BuildSimpleDescBuf_2:
        CMP.B   0x7(R13), R10
        JNC     ??ZDO_BuildSimpleDescBuf_0
        MOV.B   0xa(R13), 0(R12)
        ADD.W   #0x1, R12
        MOV.W   0xc(R13), R15
        MOV.B   #0x0, R10
        JMP     ??ZDO_BuildSimpleDescBuf_3
??ZDO_BuildSimpleDescBuf_1:
        CALLA   #?Subroutine23
??ZDO_BuildSimpleDescBuf_3:
        CMP.B   0xa(R13), R10
        JNC     ??ZDO_BuildSimpleDescBuf_1
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock137

        RSEG CODE:CODE:NOROOT(1)
?Subroutine23:
          CFI Block cfiCond138 Using cfiCommon0
          CFI Function ZDO_BuildSimpleDescBuf
          CFI Conditional ??ZDO_BuildSimpleDescBuf_2
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+10
          CFI Block cfiCond139 Using cfiCommon0
          CFI (cfiCond139) Function ZDO_BuildSimpleDescBuf
          CFI (cfiCond139) Conditional ??ZDO_BuildSimpleDescBuf_3
          CFI (cfiCond139) R10L Frame(CFA, -6)
          CFI (cfiCond139) CFA SP+10
          CFI Block cfiPicker140 Using cfiCommon1
          CFI (cfiPicker140) NoFunction
          CFI (cfiPicker140) Picker
        MOV.B   0x1(R15), 0(R12)
        ADD.W   #0x1, R12
        MOV.W   @R15+, R14
        MOV.B   R14, 0(R12)
        ADD.W   #0x1, R12
        ADD.B   #0x1, R10
        RETA
          CFI EndBlock cfiCond138
          CFI EndBlock cfiCond139
          CFI EndBlock cfiPicker140

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessDeviceAnnce:
          CFI Block cfiBlock141 Using cfiCommon0
          CFI Function ZDO_ProcessDeviceAnnce
        FUNCALL ZDO_ProcessDeviceAnnce, ZDO_ParseDeviceAnnce
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, nwkNeighborRemoveAllStranded
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, NLME_CheckNewAddrSet
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, NLME_GetCoordExtAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, sAddrExtCmp
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, NLME_GetCoordShortAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, ZMacSetReq
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, NLME_GetShortAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AssocGetWithExt
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AssocRemove
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, NLME_GetShortAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AssocChangeNwkAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, ZDApp_NVUpdate
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, nwkNeighborUpdateNwkAddr
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, RTG_RemoveRtgEntry
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrEntryLookupNwk
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, osal_memset
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, sAddrExtCmp
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrExtAddrSet
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrEntryUpdate
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrExtAddrSet
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrEntryLookupExt
        LOCFRAME CSTACK, 46, STACK
        FUNCALL ZDO_ProcessDeviceAnnce, AddrMgrEntryUpdate
        LOCFRAME CSTACK, 46, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0x22, SP
          CFI CFA SP+46
        MOV.W   R12, R8
        MOV.W   SP, R13
        ADD.W   #0x0, R13
        CALLA   #ZDO_ParseDeviceAnnce
        CALLA   #nwkNeighborRemoveAllStranded
        MOV.W   SP, R10
        ADD.W   #0x2, R10
        MOV.W   R10, R13
        MOV.W   @SP, R12
        CALLA   #NLME_CheckNewAddrSet
        CMP.B   #0x1, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_0
        MOV.W   SP, R11
        ADD.W   #0x1a, R11
        MOV.W   R11, R12
        CALLA   #NLME_GetCoordExtAddr
        MOV.W   R10, R13
        MOV.W   R11, R12
        CALLA   #sAddrExtCmp
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_2
        CALLA   #NLME_GetCoordShortAddr
        CMP.W   R12, 0(SP)
        JEQ     ??ZDO_ProcessDeviceAnnce_2
        MOV.W   @SP, &_NIB + 26
        MOV.W   #_NIB + 26, R13
        MOV.B   #0x4b, R12
        CALLA   #ZMacSetReq
??ZDO_ProcessDeviceAnnce_2:
        CALLA   #NLME_GetShortAddr
        CMP.W   R12, 0x14(R8)
        JEQ     ??ZDO_ProcessDeviceAnnce_3
        MOV.W   R10, R12
        CALLA   #AssocGetWithExt
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_3
        MOV.B   0x4(R12), R14
        CMP.B   #0x1, R14
        JEQ     ??ZDO_ProcessDeviceAnnce_4
        CMP.B   #0x2, R14
        JNE     ??ZDO_ProcessDeviceAnnce_3
??ZDO_ProcessDeviceAnnce_4:
        MOV.W   R10, R12
        CALLA   #AssocRemove
??ZDO_ProcessDeviceAnnce_3:
        CALLA   #NLME_GetShortAddr
        CMP.W   R12, 0(SP)
        JEQ     ??ZDO_ProcessDeviceAnnce_5
        MOV.W   R10, R13
        MOV.W   @SP, R12
        CALLA   #AssocChangeNwkAddr
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_5
        CALLA   #ZDApp_NVUpdate
??ZDO_ProcessDeviceAnnce_5:
        MOV.W   R10, R13
        MOV.W   @SP, R12
        CALLA   #nwkNeighborUpdateNwkAddr
        MOV.B   #0x0, R13
        MOV.W   @SP, R12
        CALLA   #RTG_RemoveRtgEntry
        MOV.B   #0x0, 0xc(SP)
        MOV.W   @SP, 0xe(SP)
        MOV.W   SP, R8
        ADD.W   #0xc, R8
        MOV.W   R8, R12
        CALLA   #AddrMgrEntryLookupNwk
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_6
        MOV.W   #0x8, R14
        MOV.B   #0x0, R13
        MOV.W   R11, R12
        CALLA   #osal_memset
        MOV.W   R8, R13
        ADD.W   #0x4, R13
        MOV.W   R11, R12
        CALLA   #sAddrExtCmp
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_6
        CALLA   #?Subroutine21
??CrossCallReturnLabel_33:
        CALLA   #AddrMgrEntryUpdate
??ZDO_ProcessDeviceAnnce_6:
        CALLA   #?Subroutine21
??CrossCallReturnLabel_34:
        CALLA   #AddrMgrEntryLookupExt
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessDeviceAnnce_0
        CMP.W   @SP, 0xe(SP)
        JEQ     ??ZDO_ProcessDeviceAnnce_0
        MOV.W   @SP, 0xe(SP)
        MOV.W   R8, R12
        CALLA   #AddrMgrEntryUpdate
??ZDO_ProcessDeviceAnnce_0:
        ADD.W   #0x22, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock141

        RSEG CODE:CODE:NOROOT(1)
?Subroutine21:
          CFI Block cfiCond142 Using cfiCommon0
          CFI Function ZDO_ProcessDeviceAnnce
          CFI Conditional ??CrossCallReturnLabel_33
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+50
          CFI Block cfiCond143 Using cfiCommon0
          CFI (cfiCond143) Function ZDO_ProcessDeviceAnnce
          CFI (cfiCond143) Conditional ??CrossCallReturnLabel_34
          CFI (cfiCond143) R8L Frame(CFA, -12)
          CFI (cfiCond143) R9L Frame(CFA, -10)
          CFI (cfiCond143) R10L Frame(CFA, -8)
          CFI (cfiCond143) R11L Frame(CFA, -6)
          CFI (cfiCond143) CFA SP+50
          CFI Block cfiPicker144 Using cfiCommon1
          CFI (cfiPicker144) NoFunction
          CFI (cfiPicker144) Picker
        MOV.W   R10, R13
        MOV.W   R8, R12
        ADD.W   #0x4, R12
        CALLA   #AddrMgrExtAddrSet
        MOV.W   R8, R12
        RETA
          CFI EndBlock cfiCond142
          CFI EndBlock cfiCond143
          CFI EndBlock cfiPicker144

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessUserDescSet:
          CFI Block cfiBlock145 Using cfiCommon0
          CFI Function ZDO_ProcessUserDescSet
        FUNCALL ZDO_ProcessUserDescSet, osal_memcpy
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_ProcessUserDescSet, osal_nv_write
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_ProcessUserDescSet, ZDP_SendData
        LOCFRAME CSTACK, 32, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x14, SP
          CFI CFA SP+28
        MOV.W   R12, R11
        MOV.W   0x16(R12), R13
        MOV.B   @R13, R10
        MOV.B   0x1(R13), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R10
        CMP.W   &ZDAppNwkAddr, R10
        JNE     ??ZDO_ProcessUserDescSet_2
        MOV.B   0x2(R13), R14
        CMP.B   #0x10, R14
        JNC     ??ZDO_ProcessUserDescSet_1
        MOV.B   #0x10, R14
??ZDO_ProcessUserDescSet_1:
        MOV.B   R14, 0x3(SP)
        ADD.W   #0x3, R13
        MOV.W   SP, R12
        ADD.W   #0x4, R12
        CALLA   #osal_memcpy
        MOV.W   SP, R15
        ADD.W   #0x3, R15
        MOV.W   #0x11, R14
        MOV.W   #0x0, R13
        MOV.W   #0x81, R12
        CALLA   #osal_nv_write
        CMP.B   #0x0, 0x3(SP)
        JEQ     ??ZDO_ProcessUserDescSet_3
        BIS.B   #0x10, &ZDO_Config_Node_Descriptor
        JMP     ??ZDO_ProcessUserDescSet_4
??ZDO_ProcessUserDescSet_3:
        BIC.B   #0x10, &ZDO_Config_Node_Descriptor
??ZDO_ProcessUserDescSet_4:
        MOV.B   #0x0, R14
        JMP     ??ZDO_ProcessUserDescSet_5
??ZDO_ProcessUserDescSet_2:
        MOV.B   #0x84, R14
??ZDO_ProcessUserDescSet_5:
        MOV.B   R14, 0(SP)
        MOV.B   R10, 0x1(SP)
        MOV.B   R10, 0x2(SP)
        PUSH.B  0x10(R11)
          CFI CFA SP+30
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+32
        MOV.B   #0x3, R15
        MOV.W   #0x8014, R14
        MOV.W   R11, R13
        ADD.W   #0x2, R13
        ADD.W   #0x11, R11
        MOV.W   R11, R12
        CALLA   #ZDP_SendData
        ADD.W   #0x18, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock145

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessUserDescReq:
          CFI Block cfiBlock146 Using cfiCommon0
          CFI Function ZDO_ProcessUserDescReq
        FUNCALL ZDO_ProcessUserDescReq, osal_nv_read
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessUserDescReq, ZDP_UserDescRsp
        LOCFRAME CSTACK, 28, STACK
        FUNCALL ZDO_ProcessUserDescReq, ZDP_GenericRsp
        LOCFRAME CSTACK, 30, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x12, SP
          CFI CFA SP+26
        MOV.W   R12, R11
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R10
        CALLA   #?Subroutine28
??CrossCallReturnLabel_41:
        ADD.W   R15, R10
        CMP.W   &ZDAppNwkAddr, R10
        JNE     ??ZDO_ProcessUserDescReq_0
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.W   #0x11, R14
        MOV.W   #0x0, R13
        MOV.W   #0x81, R12
        CALLA   #osal_nv_read
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessUserDescReq_0
        PUSH.B  #0x0
          CFI CFA SP+28
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        MOV.W   R10, R14
        MOV.W   R11, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R11), R12
        CALLA   #ZDP_UserDescRsp
        ADD.W   #0x2, SP
          CFI CFA SP+26
        JMP     ??ZDO_ProcessUserDescReq_1
??ZDO_ProcessUserDescReq_0:
        PUSH.B  0x10(R11)
          CFI CFA SP+28
        PUSH.W  #0x8011
          CFI CFA SP+30
        MOV.W   R10, R15
        MOV.B   #0x84, R14
        MOV.W   R11, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R11), R12
        CALLA   #ZDP_GenericRsp
        ADD.W   #0x4, SP
          CFI CFA SP+26
??ZDO_ProcessUserDescReq_1:
        ADD.W   #0x12, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock146

        RSEG CODE:CODE:NOROOT(1)
NLME_PermitJoiningTimeout:
          CFI Block cfiBlock147 Using cfiCommon0
          CFI Function NLME_PermitJoiningTimeout
        RETA
          CFI EndBlock cfiBlock147

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtPermitJoinReq:
          CFI Block cfiBlock148 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtPermitJoinReq
        FUNCALL ZDO_ProcessMgmtPermitJoinReq, NLME_PermitJoiningRequest
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ProcessMgmtPermitJoinReq, ZDP_SendData
        LOCFRAME CSTACK, 12, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        MOV.W   R12, R10
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R12
        CALLA   #NLME_PermitJoiningRequest
        MOV.B   R12, 0(SP)
        CMP.B   #0x0, 0xc(R10)
        JNE     ??ZDO_ProcessMgmtPermitJoinReq_0
        PUSH.B  #0x0
          CFI CFA SP+10
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+12
        MOV.B   #0x1, R15
        MOV.W   #0x8036, R14
        CALLA   #?Subroutine15
??CrossCallReturnLabel_76:
        ADD.W   #0x4, SP
          CFI CFA SP+8
??ZDO_ProcessMgmtPermitJoinReq_0:
        ADD.W   #0x2, SP
          CFI CFA SP+6
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock148

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtLeaveReq:
          CFI Block cfiBlock149 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtLeaveReq
        FUNCALL ZDO_ProcessMgmtLeaveReq, AddrMgrExtAddrValid
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtLeaveReq, NLME_GetExtAddr
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtLeaveReq, sAddrExtCmp
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtLeaveReq, NLME_LeaveReq
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtLeaveReq, ZDP_SendData
        LOCFRAME CSTACK, 20, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x8, SP
          CFI CFA SP+16
        MOV.W   R12, R10
        MOV.W   0x16(R12), R11
        MOV.W   R11, R12
        CALLA   #AddrMgrExtAddrValid
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessMgmtLeaveReq_0
        CALLA   #NLME_GetExtAddr
        MOV.W   R12, R13
        MOV.W   R11, R12
        CALLA   #sAddrExtCmp
        CMP.B   #0x1, R12
        JNE     ??ZDO_ProcessMgmtLeaveReq_1
??ZDO_ProcessMgmtLeaveReq_0:
        MOV.W   #0x0, 0x2(SP)
        JMP     ??ZDO_ProcessMgmtLeaveReq_2
??ZDO_ProcessMgmtLeaveReq_1:
        MOV.W   R11, 0x2(SP)
??ZDO_ProcessMgmtLeaveReq_2:
        MOV.B   0x8(R11), R14
        BIT.B   #0x40, R14
        JNC     ??ZDO_ProcessMgmtLeaveReq_3
        MOV.B   #0x1, 0x4(SP)
??ZDO_ProcessMgmtLeaveReq_3:
        CMP.B   #0x0, R14
        JGE     ??ZDO_ProcessMgmtLeaveReq_4
        MOV.B   #0x1, 0x5(SP)
??ZDO_ProcessMgmtLeaveReq_4:
        MOV.B   #0x0, 0x6(SP)
        MOV.W   SP, R12
        ADD.W   #0x2, R12
        CALLA   #NLME_LeaveReq
        MOV.B   R12, 0(SP)
        PUSH.B  #0x0
          CFI CFA SP+18
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+20
        MOV.B   #0x1, R15
        MOV.W   #0x8034, R14
        CALLA   #?Subroutine15
??CrossCallReturnLabel_75:
        ADD.W   #0xc, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock149

        RSEG CODE:CODE:NOROOT(1)
?Subroutine15:
          CFI Block cfiCond150 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtPermitJoinReq
          CFI Conditional ??CrossCallReturnLabel_76
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond151 Using cfiCommon0
          CFI (cfiCond151) Function ZDO_ProcessMgmtLeaveReq
          CFI (cfiCond151) Conditional ??CrossCallReturnLabel_75
          CFI (cfiCond151) R10L Frame(CFA, -8)
          CFI (cfiCond151) R11L Frame(CFA, -6)
          CFI (cfiCond151) CFA SP+24
          CFI Block cfiCond152 Using cfiCommon0
          CFI (cfiCond152) Function ZDO_ProcessMgmtDirectJoinReq
          CFI (cfiCond152) Conditional ??CrossCallReturnLabel_74
          CFI (cfiCond152) R10L Frame(CFA, -6)
          CFI (cfiCond152) CFA SP+16
          CFI Block cfiCond153 Using cfiCommon0
          CFI (cfiCond153) Function ZDO_ProcessBindUnbindReq
          CFI (cfiCond153) Conditional ??CrossCallReturnLabel_73
          CFI (cfiCond153) R8L Frame(CFA, -12)
          CFI (cfiCond153) R9L Frame(CFA, -10)
          CFI (cfiCond153) R10L Frame(CFA, -8)
          CFI (cfiCond153) R11L Frame(CFA, -6)
          CFI (cfiCond153) CFA SP+34
          CFI Block cfiPicker154 Using cfiCommon1
          CFI (cfiPicker154) NoFunction
          CFI (cfiPicker154) Picker
        MOV.W   R10, R13
        ADD.W   #0x2, R13
        ADD.W   #0x11, R10
          CFI EndBlock cfiCond150
          CFI EndBlock cfiCond151
          CFI EndBlock cfiCond152
          CFI EndBlock cfiCond153
          CFI EndBlock cfiPicker154
        REQUIRE ??Subroutine31_0
        // Fall through to label ??Subroutine31_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine31_0:
          CFI Block cfiCond155 Using cfiCommon0
          CFI Function ZDO_MatchEndDeviceBind
          CFI Conditional ??CrossCallReturnLabel_72
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+36
          CFI Block cfiCond156 Using cfiCommon0
          CFI (cfiCond156) Function ZDO_ProcessMgmtPermitJoinReq
          CFI (cfiCond156) Conditional ??CrossCallReturnLabel_76
          CFI (cfiCond156) R10L Frame(CFA, -6)
          CFI (cfiCond156) CFA SP+16
          CFI Block cfiCond157 Using cfiCommon0
          CFI (cfiCond157) Function ZDO_ProcessMgmtLeaveReq
          CFI (cfiCond157) Conditional ??CrossCallReturnLabel_75
          CFI (cfiCond157) R10L Frame(CFA, -8)
          CFI (cfiCond157) R11L Frame(CFA, -6)
          CFI (cfiCond157) CFA SP+24
          CFI Block cfiCond158 Using cfiCommon0
          CFI (cfiCond158) Function ZDO_ProcessMgmtDirectJoinReq
          CFI (cfiCond158) Conditional ??CrossCallReturnLabel_74
          CFI (cfiCond158) R10L Frame(CFA, -6)
          CFI (cfiCond158) CFA SP+16
          CFI Block cfiCond159 Using cfiCommon0
          CFI (cfiCond159) Function ZDO_ProcessBindUnbindReq
          CFI (cfiCond159) Conditional ??CrossCallReturnLabel_73
          CFI (cfiCond159) R8L Frame(CFA, -12)
          CFI (cfiCond159) R9L Frame(CFA, -10)
          CFI (cfiCond159) R10L Frame(CFA, -8)
          CFI (cfiCond159) R11L Frame(CFA, -6)
          CFI (cfiCond159) CFA SP+34
          CFI Block cfiPicker160 Using cfiCommon1
          CFI (cfiPicker160) NoFunction
          CFI (cfiPicker160) Picker
        MOV.W   R10, R12
        BRA     #ZDP_SendData
          CFI EndBlock cfiCond155
          CFI EndBlock cfiCond156
          CFI EndBlock cfiCond157
          CFI EndBlock cfiCond158
          CFI EndBlock cfiCond159
          CFI EndBlock cfiPicker160

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtDirectJoinReq:
          CFI Block cfiBlock161 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtDirectJoinReq
        FUNCALL ZDO_ProcessMgmtDirectJoinReq, NLME_DirectJoinRequest
        LOCFRAME CSTACK, 8, STACK
        FUNCALL ZDO_ProcessMgmtDirectJoinReq, ZDP_SendData
        LOCFRAME CSTACK, 12, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        MOV.W   R12, R10
        MOV.W   0x16(R10), R12
        MOV.B   0x8(R12), R13
        CALLA   #NLME_DirectJoinRequest
        MOV.B   R12, 0(SP)
        PUSH.B  #0x0
          CFI CFA SP+10
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+12
        MOV.B   #0x1, R15
        MOV.W   #0x8035, R14
        CALLA   #?Subroutine15
??CrossCallReturnLabel_74:
        ADD.W   #0x6, SP
          CFI CFA SP+6
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock161

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtBindReq:
          CFI Block cfiBlock162 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtBindReq
        FUNCALL ZDO_ProcessMgmtBindReq, APSME_GetRequest
        LOCFRAME CSTACK, 22, STACK
        FUNCALL ZDO_ProcessMgmtBindReq, osal_mem_alloc
        LOCFRAME CSTACK, 22, STACK
        FUNCALL ZDO_ProcessMgmtBindReq, APSME_GetRequest
        LOCFRAME CSTACK, 22, STACK
        FUNCALL ZDO_ProcessMgmtBindReq, ZDP_MgmtBindRsp
        LOCFRAME CSTACK, 30, STACK
        FUNCALL ZDO_ProcessMgmtBindReq, osal_mem_free
        LOCFRAME CSTACK, 22, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        SUB.W   #0x2, SP
          CFI CFA SP+22
        MOV.W   R12, R9
        MOV.W   #0x0, R6
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R11
        MOV.W   SP, R14
        ADD.W   #0x0, R14
        MOV.W   #0x0, R13
        MOV.B   #0xa3, R12
        CALLA   #APSME_GetRequest
        MOV.B   R11, R15
        CMP.W   @SP, R15
        JC      ??ZDO_ProcessMgmtBindReq_1
        MOV.W   @SP, R7
        SUB.W   R15, R7
        CMP.W   #0x4, R7
        JNC     ??ZDO_ProcessMgmtBindReq_2
        MOV.W   #0x3, R7
        JMP     ??ZDO_ProcessMgmtBindReq_3
??ZDO_ProcessMgmtBindReq_2:
        CMP.W   #0x0, R7
        JEQ     ??ZDO_ProcessMgmtBindReq_1
??ZDO_ProcessMgmtBindReq_3:
        MOV.W   R7, R12
        RLAM.W  #0x3, R12
        MOV.W   R12, R15
        RLA.W   R12
        ADD.W   R15, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R6
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMgmtBindReq_1
        MOV.B   #0x0, R8
        MOV.W   R12, R4
        MOV.B   #0x0, R10
??ZDO_ProcessMgmtBindReq_0:
        CMP.W   R7, R10
        JC      ??ZDO_ProcessMgmtBindReq_4
        MOV.W   R4, R14
        MOV.B   R10, R13
        ADD.W   R11, R13
        MOV.B   #0xa2, R12
        CALLA   #APSME_GetRequest
        ADD.W   #0x18, R4
        ADD.B   #0x1, R10
        JMP     ??ZDO_ProcessMgmtBindReq_0
??ZDO_ProcessMgmtBindReq_1:
        MOV.B   #0x8b, R8
        MOV.B   #0x0, R7
??ZDO_ProcessMgmtBindReq_4:
        PUSH.B  #0x0
          CFI CFA SP+24
        PUSH.W  R6
          CFI CFA SP+26
        PUSH.B  R7
          CFI CFA SP+28
        PUSH.B  R11
          CFI CFA SP+30
        MOV.B   0x8(SP), R15
        MOV.B   R8, R14
        MOV.W   R9, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R9), R12
        CALLA   #ZDP_MgmtBindRsp
        ADD.W   #0x8, SP
          CFI CFA SP+22
        CMP.W   #0x0, R6
        JEQ     ??ZDO_ProcessMgmtBindReq_5
        MOV.W   R6, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMgmtBindReq_5:
        BRA     #?Subroutine1
          CFI EndBlock cfiBlock162

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtRtgReq:
          CFI Block cfiBlock163 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtRtgReq
        FUNCALL ZDO_ProcessMgmtRtgReq, NLME_GetRequest
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_ProcessMgmtRtgReq, osal_mem_alloc
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_ProcessMgmtRtgReq, NLME_GetRequest
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_ProcessMgmtRtgReq, ZDP_MgmtRtgRsp
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMgmtRtgReq, osal_mem_free
        LOCFRAME CSTACK, 18, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x2, SP
          CFI CFA SP+18
        MOV.W   R12, R8
        MOV.B   #0x0, R10
        MOV.W   #0x0, R9
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R6
        MOV.W   SP, R14
        ADD.W   #0x0, R14
        MOV.W   #0x0, R13
        MOV.B   #0x9d, R12
        CALLA   #NLME_GetRequest
        CMP.B   @SP, R6
        JC      ??ZDO_ProcessMgmtRtgReq_2
        MOV.B   @SP, R10
        SUB.B   R6, R10
        CMP.B   #0xb, R10
        JNC     ??ZDO_ProcessMgmtRtgReq_3
        MOV.B   #0xa, R10
??ZDO_ProcessMgmtRtgReq_3:
        MOV.B   R10, R12
        RLAM.W  #0x3, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R9
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMgmtRtgReq_4
        MOV.W   R12, R7
        MOV.B   #0x0, R11
        JMP     ??ZDO_ProcessMgmtRtgReq_5
??ZDO_ProcessMgmtRtgReq_0:
        MOV.B   #0x3, R14
??ZDO_ProcessMgmtRtgReq_1:
        MOV.B   R14, 0x5(R7)
        ADD.W   #0x8, R7
        ADD.B   #0x1, R11
??ZDO_ProcessMgmtRtgReq_5:
        CMP.B   R10, R11
        JC      ??ZDO_ProcessMgmtRtgReq_2
        MOV.W   R7, R14
        MOV.B   R11, R13
        ADD.W   R6, R13
        MOV.B   #0x8b, R12
        CALLA   #NLME_GetRequest
        MOV.B   0x5(R7), R14
        SUB.B   #0x1, R14
        JEQ     ??ZDO_ProcessMgmtRtgReq_6
        SUB.B   #0x1, R14
        JEQ     ??ZDO_ProcessMgmtRtgReq_7
        SUB.B   #0x1, R14
        JEQ     ??ZDO_ProcessMgmtRtgReq_8
        JMP     ??ZDO_ProcessMgmtRtgReq_0
??ZDO_ProcessMgmtRtgReq_6:
        MOV.B   #0x0, R14
        JMP     ??ZDO_ProcessMgmtRtgReq_1
??ZDO_ProcessMgmtRtgReq_7:
        MOV.B   #0x1, R14
        JMP     ??ZDO_ProcessMgmtRtgReq_1
??ZDO_ProcessMgmtRtgReq_8:
        MOV.B   #0x2, R14
        JMP     ??ZDO_ProcessMgmtRtgReq_1
??ZDO_ProcessMgmtRtgReq_4:
        MOV.B   #0x0, R10
??ZDO_ProcessMgmtRtgReq_2:
        PUSH.B  #0x0
          CFI CFA SP+20
        PUSH.W  R9
          CFI CFA SP+22
        PUSH.B  R10
          CFI CFA SP+24
        PUSH.B  R6
          CFI CFA SP+26
        MOV.B   0x8(SP), R15
        MOV.B   #0x0, R14
        MOV.W   R8, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R8), R12
        CALLA   #ZDP_MgmtRtgRsp
        ADD.W   #0x8, SP
          CFI CFA SP+18
        CMP.W   #0x0, R9
        JEQ     ??ZDO_ProcessMgmtRtgReq_9
        MOV.W   R9, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMgmtRtgReq_9:
        ADD.W   #0x2, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock163

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtNwkDiscReq:
          CFI Block cfiBlock164 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtNwkDiscReq
        FUNCALL ZDO_ProcessMgmtNwkDiscReq, osal_build_uint32
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtNwkDiscReq, NLME_NwkDiscReq2
        LOCFRAME CSTACK, 16, STACK
        FUNCALL ZDO_ProcessMgmtNwkDiscReq, NLME_NwkDiscTerm
        LOCFRAME CSTACK, 16, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x8, SP
          CFI CFA SP+16
        MOV.W   R12, R10
        CALLA   #?Subroutine4
??CrossCallReturnLabel_2:
        MOV.W   R12, 0(SP)
        MOV.W   R13, 0x2(SP)
        ADD.W   #0x4, R11
        MOV.B   @R11+, 0x4(SP)
        MOV.B   @R11, R14
        MOV.B   #0x1, 0x5(SP)
        MOV.B   #0x1, 0x6(SP)
        MOV.B   #0x1, &zdappMgmtNwkDiscReqInProgress
        MOV.B   #0x2, &zdappMgmtNwkDiscRspAddr + 8
        MOV.W   0x2(R10), &zdappMgmtNwkDiscRspAddr
        MOV.B   R14, &zdappMgmtNwkDiscStartIndex
        MOV.B   0x11(R10), &zdappMgmtNwkDiscRspTransSeq
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #NLME_NwkDiscReq2
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessMgmtNwkDiscReq_0
        CALLA   #NLME_NwkDiscTerm
??ZDO_ProcessMgmtNwkDiscReq_0:
        ADD.W   #0x8, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock164

        RSEG CODE:CODE:NOROOT(1)
?Subroutine4:
          CFI Block cfiCond165 Using cfiCommon0
          CFI Function ZDO_ParseMgmtNwkUpdateReq
          CFI Conditional ??CrossCallReturnLabel_3
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond166 Using cfiCommon0
          CFI (cfiCond166) Function ZDO_ProcessMgmtNwkDiscReq
          CFI (cfiCond166) Conditional ??CrossCallReturnLabel_2
          CFI (cfiCond166) R10L Frame(CFA, -8)
          CFI (cfiCond166) R11L Frame(CFA, -6)
          CFI (cfiCond166) CFA SP+20
          CFI Block cfiPicker167 Using cfiCommon1
          CFI (cfiPicker167) NoFunction
          CFI (cfiPicker167) Picker
        MOV.W   0x16(R12), R11
        MOV.B   #0x4, R13
        MOV.W   R11, R12
        BRA     #osal_build_uint32
          CFI EndBlock cfiCond165
          CFI EndBlock cfiCond166
          CFI EndBlock cfiPicker167

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessMgmtLqiReq:
          CFI Block cfiBlock168 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtLqiReq
        FUNCALL ZDO_ProcessMgmtLqiReq, NLME_GetRequest
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, AssocCount
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, osal_mem_alloc
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, AssocFindDevice
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, sAddrExtCpy
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, AddrMgrEntryLookupNwk
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, sAddrExtCpy
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, osal_memset
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, NLME_GetRequest
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, sAddrExtCpy
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, osal_memset
        LOCFRAME CSTACK, 62, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, ZDP_MgmtLqiRsp
        LOCFRAME CSTACK, 70, STACK
        FUNCALL ZDO_ProcessMgmtLqiReq, osal_mem_free
        LOCFRAME CSTACK, 62, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        PUSH.W  R12
          CFI CFA SP+22
        SUB.W   #0x28, SP
          CFI CFA SP+62
        MOV.W   #0x0, R4
        MOV.W   0x28(SP), R15
        MOV.W   0x16(R15), R15
        MOV.B   @R15, R8
        MOV.W   SP, R14
        ADD.W   #0x0, R14
        MOV.W   #0x0, R13
        MOV.B   #0x9c, R12
        CALLA   #NLME_GetRequest
        MOV.B   #0x4, R13
        MOV.B   #0x0, R12
        CALLA   #AssocCount
        MOV.B   R12, R5
        MOV.B   R12, R10
        ADD.B   @SP, R10
        MOV.B   R10, 0(SP)
        CMP.B   R10, R8
        JC      ??ZDO_ProcessMgmtLqiReq_6
        SUB.B   R8, R10
        CMP.B   #0x4, R10
        JNC     ??ZDO_ProcessMgmtLqiReq_7
        MOV.B   #0x3, R10
??ZDO_ProcessMgmtLqiReq_7:
        MOV.B   R10, R12
        RLA.W   R12
        MOV.W   R12, R15
        RLAM.W  #0x2, R12
        ADD.W   R12, R15
        RLA.W   R12
        ADD.W   R15, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R4
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMgmtLqiReq_8
        MOV.B   #0x0, R9
        MOV.W   R12, R7
        MOV.B   R8, R11
        JMP     ??ZDO_ProcessMgmtLqiReq_9
??ZDO_ProcessMgmtLqiReq_1:
        MOV.B   #0x1, 0x14(R7)
        CMP.B   #0x3, 0x4(R6)
??ZDO_ProcessMgmtLqiReq_17:
        JEQ     ??ZDO_ProcessMgmtLqiReq_10
        MOV.B   #0x1, R14
        JMP     ??ZDO_ProcessMgmtLqiReq_4
??ZDO_ProcessMgmtLqiReq_10:
        MOV.B   #0x0, R14
??ZDO_ProcessMgmtLqiReq_4:
        MOV.B   #0x1, R15
??ZDO_ProcessMgmtLqiReq_0:
        MOV.B   R15, 0x16(R7)
        MOV.B   R14, 0x15(R7)
        ADD.W   #0x1a, R7
        ADD.B   #0x1, R9
??ZDO_ProcessMgmtLqiReq_9:
        CMP.B   R10, R9
        JC      ??ZDO_ProcessMgmtLqiReq_3
        CMP.B   R5, R11
        JC      ??ZDO_ProcessMgmtLqiReq_11
        MOV.B   R11, R12
        CALLA   #AssocFindDevice
        MOV.W   R12, R6
        ADD.B   #0x1, R11
        MOV.W   &_NIB + 36, 0(R7)
        CALLA   #?Subroutine16
??CrossCallReturnLabel_79:
        MOV.W   @R6, 0x12(R7)
        MOV.B   #0x2, 0x17(R7)
        MOV.B   #0xff, 0x18(R7)
        MOV.B   0xa(R6), 0x19(R7)
        MOV.B   #0x0, 0x2(SP)
        MOV.W   @R6, 0x4(SP)
        MOV.W   SP, R12
        ADD.W   #0x2, R12
        CALLA   #AddrMgrEntryLookupNwk
        CMP.B   #0x1, R12
        JNE     ??ZDO_ProcessMgmtLqiReq_12
        MOV.W   SP, R13
        ADD.W   #0x6, R13
        MOV.W   R7, R12
        ADD.W   #0xa, R12
        CALLA   #sAddrExtCpy
        JMP     ??ZDO_ProcessMgmtLqiReq_13
??ZDO_ProcessMgmtLqiReq_12:
        CALLA   #?Subroutine24
??ZDO_ProcessMgmtLqiReq_13:
        CMP.B   #0x0, 0x4(R6)
        JNE     ??ZDO_ProcessMgmtLqiReq_14
        CMP.W   #0x0, 0(R6)
        JNE     ??ZDO_ProcessMgmtLqiReq_15
        MOV.B   #0x0, 0x14(R7)
        MOV.B   #0x0, R14
        JMP     ??ZDO_ProcessMgmtLqiReq_16
??ZDO_ProcessMgmtLqiReq_15:
        MOV.B   #0x1, 0x14(R7)
        MOV.B   &_NIB + 56, R14
        ADD.B   #0xff, R14
??ZDO_ProcessMgmtLqiReq_16:
        MOV.B   R14, 0x18(R7)
        MOV.B   #0x2, R14
        MOV.B   #0x0, R15
        JMP     ??ZDO_ProcessMgmtLqiReq_0
??ZDO_ProcessMgmtLqiReq_14:
        MOV.B   &_NIB + 56, R14
        ADD.B   #0x1, R14
        MOV.B   R14, 0x18(R7)
        CMP.B   #0x3, 0x4(R6)
        JC      ??ZDO_ProcessMgmtLqiReq_1
        MOV.B   #0x2, 0x14(R7)
        CMP.B   #0x1, 0x4(R6)
        JMP     ??ZDO_ProcessMgmtLqiReq_17
??ZDO_ProcessMgmtLqiReq_11:
        CMP.B   R8, R5
        JC      ??ZDO_ProcessMgmtLqiReq_18
        MOV.B   R8, R11
        SUB.B   R5, R11
        JMP     ??ZDO_ProcessMgmtLqiReq_19
??ZDO_ProcessMgmtLqiReq_18:
        MOV.B   #0x0, R11
        JMP     ??ZDO_ProcessMgmtLqiReq_19
??ZDO_ProcessMgmtLqiReq_3:
        CMP.B   R10, R9
        JC      ??ZDO_ProcessMgmtLqiReq_8
??ZDO_ProcessMgmtLqiReq_19:
        MOV.W   SP, R14
        ADD.W   #0x10, R14
        MOV.B   R11, R13
        MOV.B   #0x87, R12
        CALLA   #NLME_GetRequest
        ADD.B   #0x1, R11
        MOV.W   0x1a(SP), 0(R7)
        CALLA   #?Subroutine16
??CrossCallReturnLabel_78:
        CALLA   #?Subroutine24
??CrossCallReturnLabel_37:
        MOV.W   0x10(SP), 0x12(R7)
        MOV.B   #0x2, 0x15(R7)
        MOV.B   #0x3, 0x16(R7)
        MOV.B   #0x2, 0x17(R7)
        MOV.B   #0xff, 0x18(R7)
        MOV.B   0x20(SP), 0x19(R7)
        CMP.W   #0x0, 0x12(R7)
        JEQ     ??ZDO_ProcessMgmtLqiReq_20
        MOV.B   #0x1, R14
        JMP     ??ZDO_ProcessMgmtLqiReq_21
??ZDO_ProcessMgmtLqiReq_20:
        MOV.B   #0x0, R14
??ZDO_ProcessMgmtLqiReq_21:
        MOV.B   R14, 0x14(R7)
        ADD.W   #0x1a, R7
        ADD.B   #0x1, R9
        JMP     ??ZDO_ProcessMgmtLqiReq_3
??ZDO_ProcessMgmtLqiReq_6:
        MOV.B   #0x0, R10
??ZDO_ProcessMgmtLqiReq_8:
        PUSH.B  #0x0
          CFI CFA SP+64
        PUSH.W  R4
          CFI CFA SP+66
        PUSH.B  R10
          CFI CFA SP+68
        PUSH.B  R8
          CFI CFA SP+70
        MOV.B   0x8(SP), R15
        MOV.B   #0x0, R14
        MOV.W   0x30(SP), R13
        ADD.W   #0x2, R13
        MOV.W   0x30(SP), R11
        MOV.B   0x11(R11), R12
        CALLA   #ZDP_MgmtLqiRsp
        ADD.W   #0x8, SP
          CFI CFA SP+62
        CMP.W   #0x0, R4
        JEQ     ??ZDO_ProcessMgmtLqiReq_22
        MOV.W   R4, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMgmtLqiReq_22:
        ADD.W   #0x2a, SP
          CFI CFA SP+20
        POPM.W  #0x8, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock168

        RSEG CODE:CODE:NOROOT(1)
?Subroutine24:
          CFI Block cfiCond169 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtLqiReq
          CFI Conditional ??ZDO_ProcessMgmtLqiReq_13
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+66
          CFI Block cfiCond170 Using cfiCommon0
          CFI (cfiCond170) Function ZDO_ProcessMgmtLqiReq
          CFI (cfiCond170) Conditional ??CrossCallReturnLabel_37
          CFI (cfiCond170) R4L Frame(CFA, -20)
          CFI (cfiCond170) R5L Frame(CFA, -18)
          CFI (cfiCond170) R6L Frame(CFA, -16)
          CFI (cfiCond170) R7L Frame(CFA, -14)
          CFI (cfiCond170) R8L Frame(CFA, -12)
          CFI (cfiCond170) R9L Frame(CFA, -10)
          CFI (cfiCond170) R10L Frame(CFA, -8)
          CFI (cfiCond170) R11L Frame(CFA, -6)
          CFI (cfiCond170) CFA SP+66
          CFI Block cfiPicker171 Using cfiCommon1
          CFI (cfiPicker171) NoFunction
          CFI (cfiPicker171) Picker
        MOV.W   #0x8, R14
        MOV.B   #0xff, R13
        MOV.W   R7, R12
        ADD.W   #0xa, R12
        BRA     #osal_memset
          CFI EndBlock cfiCond169
          CFI EndBlock cfiCond170
          CFI EndBlock cfiPicker171

        RSEG CODE:CODE:NOROOT(1)
?Subroutine16:
          CFI Block cfiCond172 Using cfiCommon0
          CFI Function ZDO_ProcessMgmtLqiReq
          CFI Conditional ??CrossCallReturnLabel_79
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+66
          CFI Block cfiCond173 Using cfiCommon0
          CFI (cfiCond173) Function ZDO_ProcessMgmtLqiReq
          CFI (cfiCond173) Conditional ??CrossCallReturnLabel_78
          CFI (cfiCond173) R4L Frame(CFA, -20)
          CFI (cfiCond173) R5L Frame(CFA, -18)
          CFI (cfiCond173) R6L Frame(CFA, -16)
          CFI (cfiCond173) R7L Frame(CFA, -14)
          CFI (cfiCond173) R8L Frame(CFA, -12)
          CFI (cfiCond173) R9L Frame(CFA, -10)
          CFI (cfiCond173) R10L Frame(CFA, -8)
          CFI (cfiCond173) R11L Frame(CFA, -6)
          CFI (cfiCond173) CFA SP+66
          CFI Block cfiPicker174 Using cfiCommon1
          CFI (cfiPicker174) NoFunction
          CFI (cfiPicker174) Picker
        MOV.W   #_NIB + 57, R13
        MOV.W   R7, R12
          CFI EndBlock cfiCond172
          CFI EndBlock cfiCond173
          CFI EndBlock cfiPicker174
        REQUIRE ??Subroutine32_0
        // Fall through to label ??Subroutine32_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine32_0:
          CFI Block cfiCond175 Using cfiCommon0
          CFI Function ZDO_ParseDeviceAnnce
          CFI Conditional ??CrossCallReturnLabel_77
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond176 Using cfiCommon0
          CFI (cfiCond176) Function ZDO_ProcessMgmtLqiReq
          CFI (cfiCond176) Conditional ??CrossCallReturnLabel_79
          CFI (cfiCond176) R4L Frame(CFA, -20)
          CFI (cfiCond176) R5L Frame(CFA, -18)
          CFI (cfiCond176) R6L Frame(CFA, -16)
          CFI (cfiCond176) R7L Frame(CFA, -14)
          CFI (cfiCond176) R8L Frame(CFA, -12)
          CFI (cfiCond176) R9L Frame(CFA, -10)
          CFI (cfiCond176) R10L Frame(CFA, -8)
          CFI (cfiCond176) R11L Frame(CFA, -6)
          CFI (cfiCond176) CFA SP+66
          CFI Block cfiCond177 Using cfiCommon0
          CFI (cfiCond177) Function ZDO_ProcessMgmtLqiReq
          CFI (cfiCond177) Conditional ??CrossCallReturnLabel_78
          CFI (cfiCond177) R4L Frame(CFA, -20)
          CFI (cfiCond177) R5L Frame(CFA, -18)
          CFI (cfiCond177) R6L Frame(CFA, -16)
          CFI (cfiCond177) R7L Frame(CFA, -14)
          CFI (cfiCond177) R8L Frame(CFA, -12)
          CFI (cfiCond177) R9L Frame(CFA, -10)
          CFI (cfiCond177) R10L Frame(CFA, -8)
          CFI (cfiCond177) R11L Frame(CFA, -6)
          CFI (cfiCond177) CFA SP+66
          CFI Block cfiPicker178 Using cfiCommon1
          CFI (cfiPicker178) NoFunction
          CFI (cfiPicker178) Picker
        ADD.W   #0x2, R12
        BRA     #sAddrExtCpy
          CFI EndBlock cfiCond175
          CFI EndBlock cfiCond176
          CFI EndBlock cfiCond177
          CFI EndBlock cfiPicker178

        RSEG CODE:CODE:NOROOT(1)
ZDO_EndDeviceTimeoutCB:
          CFI Block cfiBlock179 Using cfiCommon0
          CFI Function ZDO_EndDeviceTimeoutCB
        FUNCALL ZDO_EndDeviceTimeoutCB, ZDP_SendData
        LOCFRAME CSTACK, 10, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, HalLcdWriteString
        LOCFRAME CSTACK, 10, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, HalLcdWriteString
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, HalLcdWriteString
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        FUNCALL ZDO_EndDeviceTimeoutCB, osal_mem_free
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        MOV.W   &ZDO_EDBind, R13
        CMP.W   #0x0, R13
        JEQ     ??ZDO_EndDeviceTimeoutCB_4
        MOV.B   0x1b(R13), 0(SP)
        MOV.B   @R13, 0x1(SP)
        PUSH.B  0x1a(R13)
          CFI CFA SP+8
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+10
        MOV.B   #0x1, R15
        MOV.W   #0x8020, R14
        ADD.W   #0x2, R13
        MOV.W   SP, R12
        ADD.W   #0x5, R12
        CALLA   #ZDP_SendData
        MOV.B   #0x1, R13
        MOV.W   #`?<Constant "End Device Bind">`, R12
        CALLA   #HalLcdWriteString
        ADD.W   #0x4, SP
          CFI CFA SP+6
        CMP.B   #0x0, 0(SP)
        MOV.B   #0x2, R13
        JNE     ??ZDO_EndDeviceTimeoutCB_5
        MOV.W   #`?<Constant "Success Sent">`, R12
        JMP     ??ZDO_EndDeviceTimeoutCB_6
??ZDO_EndDeviceTimeoutCB_5:
        MOV.W   #`?<Constant "Timeout">`, R12
??ZDO_EndDeviceTimeoutCB_6:
        CALLA   #HalLcdWriteString
        MOV.W   &ZDO_EDBind, R15
        CMP.W   #0x0, R15
        JEQ     ??ZDO_EndDeviceTimeoutCB_4
        MOV.W   0x14(R15), R12
        CALLA   #?Subroutine7
??CrossCallReturnLabel_13:
        MOV.W   &ZDO_EDBind, R15
        MOV.W   0x18(R15), R12
        CALLA   #?Subroutine7
??CrossCallReturnLabel_14:
        MOV.W   &ZDO_EDBind, R12
        CALLA   #osal_mem_free
        MOV.W   #0x0, &ZDO_EDBind
??ZDO_EndDeviceTimeoutCB_4:
        ADD.W   #0x2, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock179

        RSEG CODE:CODE:NOROOT(1)
ZDO_ProcessServerDiscReq:
          CFI Block cfiBlock180 Using cfiCommon0
          CFI Function ZDO_ProcessServerDiscReq
        FUNCALL ZDO_ProcessServerDiscReq, ZDP_ServerDiscRsp
        LOCFRAME CSTACK, 8, STACK
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R14
        MOV.B   0x1(R15), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_49:
        AND.W   &ZDO_Config_Node_Descriptor + 8, R14
        JEQ     ??ZDO_ProcessServerDiscReq_0
        PUSH.B  0x10(R12)
          CFI CFA SP+6
        PUSH.W  R14
          CFI CFA SP+8
        MOV.W   &ZDAppNwkAddr, R15
        MOV.B   #0x0, R14
        MOV.W   R12, R13
        ADD.W   #0x2, R13
        MOV.B   0x11(R12), R12
        CALLA   #ZDP_ServerDiscRsp
        ADD.W   #0x4, SP
          CFI CFA SP+4
??ZDO_ProcessServerDiscReq_0:
        RETA
          CFI EndBlock cfiBlock180

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine11:
          CFI Block cfiCond181 Using cfiCommon0
          CFI Function ZDO_ParseSimpleDescBuf
          CFI Conditional ??CrossCallReturnLabel_20
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond182 Using cfiCommon0
          CFI (cfiCond182) Function ZDO_ParseSimpleDescBuf
          CFI (cfiCond182) Conditional ??CrossCallReturnLabel_21
          CFI (cfiCond182) R8L Frame(CFA, -12)
          CFI (cfiCond182) R9L Frame(CFA, -10)
          CFI (cfiCond182) R10L Frame(CFA, -8)
          CFI (cfiCond182) R11L Frame(CFA, -6)
          CFI (cfiCond182) CFA SP+16
          CFI Block cfiCond183 Using cfiCommon0
          CFI (cfiCond183) Function ZDO_ParseAddrRsp
          CFI (cfiCond183) Conditional ??CrossCallReturnLabel_22
          CFI (cfiCond183) R8L Frame(CFA, -12)
          CFI (cfiCond183) R9L Frame(CFA, -10)
          CFI (cfiCond183) R10L Frame(CFA, -8)
          CFI (cfiCond183) R11L Frame(CFA, -6)
          CFI (cfiCond183) CFA SP+16
          CFI Block cfiCond184 Using cfiCommon0
          CFI (cfiCond184) Function ZDO_ParseAddrRsp
          CFI (cfiCond184) Conditional ??CrossCallReturnLabel_23
          CFI (cfiCond184) R8L Frame(CFA, -12)
          CFI (cfiCond184) R9L Frame(CFA, -10)
          CFI (cfiCond184) R10L Frame(CFA, -8)
          CFI (cfiCond184) R11L Frame(CFA, -6)
          CFI (cfiCond184) CFA SP+16
          CFI Block cfiPicker185 Using cfiCommon1
          CFI (cfiPicker185) NoFunction
          CFI (cfiPicker185) Picker
        MOV.B   @R8, R14
        MOV.B   0x1(R8), R15
        BRA     #??Subroutine27_1
          CFI EndBlock cfiCond181
          CFI EndBlock cfiCond182
          CFI EndBlock cfiCond183
          CFI EndBlock cfiCond184
          CFI EndBlock cfiPicker185

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ProcessSimpleDescReq:
          CFI Block cfiBlock186 Using cfiCommon0
          CFI Function ZDO_ProcessSimpleDescReq
        FUNCALL ZDO_ProcessSimpleDescReq, afFindSimpleDesc
        LOCFRAME CSTACK, 14, STACK
        FUNCALL ZDO_ProcessSimpleDescReq, ZDP_SimpleDescMsg
        LOCFRAME CSTACK, 14, STACK
        FUNCALL ZDO_ProcessSimpleDescReq, osal_mem_free
        LOCFRAME CSTACK, 14, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0x2, SP
          CFI CFA SP+14
        MOV.W   R12, R10
        MOV.W   #0x0, 0(SP)
        MOV.W   0x16(R12), R13
        MOV.B   @R13, R14
        MOV.B   0x1(R13), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_52:
        MOV.B   0x2(R13), R13
        MOV.B   #0x0, R11
        MOV.B   #0x0, R8
        CMP.B   #0x0, R13
        JEQ     ??ZDO_ProcessSimpleDescReq_0
        CMP.B   #0xf1, R13
        JNC     ??ZDO_ProcessSimpleDescReq_1
??ZDO_ProcessSimpleDescReq_0:
        MOV.B   #0x82, R8
        JMP     ??ZDO_ProcessSimpleDescReq_2
??ZDO_ProcessSimpleDescReq_1:
        CMP.W   &ZDAppNwkAddr, R14
        JNE     ??ZDO_ProcessSimpleDescReq_3
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #afFindSimpleDesc
        MOV.B   R12, R11
        CMP.W   #0x0, 0(SP)
        JNE     ??ZDO_ProcessSimpleDescReq_2
        MOV.B   #0x83, R8
        JMP     ??ZDO_ProcessSimpleDescReq_2
??ZDO_ProcessSimpleDescReq_3:
        MOV.B   #0x81, R8
??ZDO_ProcessSimpleDescReq_2:
        MOV.W   @SP, R14
        MOV.B   R8, R13
        MOV.W   R10, R12
        CALLA   #ZDP_SimpleDescMsg
        CMP.B   #0x0, R11
        JEQ     ??ZDO_ProcessSimpleDescReq_4
        CMP.W   #0x0, 0(SP)
        JEQ     ??ZDO_ProcessSimpleDescReq_4
        MOV.W   @SP, R12
        CALLA   #osal_mem_free
??ZDO_ProcessSimpleDescReq_4:
        ADD.W   #0x2, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock186

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ProcessActiveEPReq:
          CFI Block cfiBlock187 Using cfiCommon0
          CFI Function ZDO_ProcessActiveEPReq
        FUNCALL ZDO_ProcessActiveEPReq, NLME_GetShortAddr
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ProcessActiveEPReq, afNumEndPoints
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ProcessActiveEPReq, afEndPoints
        LOCFRAME CSTACK, 12, STACK
        FUNCALL ZDO_ProcessActiveEPReq, ZDP_EPRsp
        LOCFRAME CSTACK, 20, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.W   R12, R8
        MOV.B   #0x0, R11
        MOV.B   #0x0, R10
        MOV.W   0x16(R12), R15
        MOV.B   @R15, R9
        CALLA   #?Subroutine28
??CrossCallReturnLabel_42:
        ADD.W   R15, R9
        CALLA   #NLME_GetShortAddr
        CMP.W   R12, R9
        JNE     ??ZDO_ProcessActiveEPReq_0
        CALLA   #afNumEndPoints
        MOV.B   R12, R11
        ADD.B   #0xff, R11
        MOV.B   #0x1, R13
        MOV.W   #ZDOBuildBuf, R12
        CALLA   #afEndPoints
        JMP     ??ZDO_ProcessActiveEPReq_1
??ZDO_ProcessActiveEPReq_0:
        MOV.B   #0x80, R10
??ZDO_ProcessActiveEPReq_1:
        PUSH.B  0x10(R8)
          CFI CFA SP+14
        PUSH.W  #ZDOBuildBuf
          CFI CFA SP+16
        PUSH.B  R11
          CFI CFA SP+18
        PUSH.W  R9
          CFI CFA SP+20
        MOV.B   R10, R15
        MOV.W   R8, R14
        ADD.W   #0x2, R14
        MOV.B   0x11(R8), R13
        MOV.W   #0x8005, R12
        CALLA   #ZDP_EPRsp
        ADD.W   #0x8, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock187

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ConvertOTAClusters:
          CFI Block cfiBlock188 Using cfiCommon0
          CFI Function ZDO_ConvertOTAClusters
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.B   #0x0, R15
        JMP     ??ZDO_ConvertOTAClusters_1
??ZDO_ConvertOTAClusters_0:
        MOV.B   @R13, R11
        MOV.B   0x1(R13), R10
        RPT     #0x8
        RLAX.W  R10
        ADD.W   R10, R11
        MOV.B   R15, R8
        RLA.W   R8
        MOV.W   R14, R10
        ADD.W   R8, R10
        MOV.W   R11, 0(R10)
        ADD.W   #0x2, R13
        ADD.B   #0x1, R15
??ZDO_ConvertOTAClusters_1:
        CMP.B   R12, R15
        JNC     ??ZDO_ConvertOTAClusters_0
        MOV.W   R13, R12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock188

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ProcessMatchDescReq:
          CFI Block cfiBlock189 Using cfiCommon0
          CFI Function ZDO_ProcessMatchDescReq
        FUNCALL ZDO_ProcessMatchDescReq, NLME_IsAddressBroadcast
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, NLME_IsAddressBroadcast
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME CSTACK, 34, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_alloc
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_ConvertOTAClusters
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_alloc
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_ConvertOTAClusters
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_msg_send
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_AnyClusterMatches
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDO_AnyClusterMatches
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_msg_allocate
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_memcpy
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_memcpy
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME CSTACK, 34, STACK
        FUNCALL ZDO_ProcessMatchDescReq, HalLcdWriteScreen
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, NLME_IsAddressBroadcast
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, ZDP_EPRsp
        LOCFRAME CSTACK, 34, STACK
        FUNCALL ZDO_ProcessMatchDescReq, HalLcdWriteScreen
        LOCFRAME CSTACK, 34, STACK
        FUNCALL ZDO_ProcessMatchDescReq, HalLcdWriteScreen
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessMatchDescReq, osal_mem_free
        LOCFRAME CSTACK, 26, STACK
        PUSHM.W #0x8, R11
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+20
        SUB.W   #0x6, SP
          CFI CFA SP+26
        MOV.W   R12, R11
        MOV.B   #0x0, 0(SP)
        MOV.W   #0x0, R8
        MOV.W   #0x0, R9
        MOV.W   0x16(R12), R7
        MOV.B   @R7, R14
        MOV.B   0x1(R7), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_50:
        MOV.W   R14, 0x2(SP)
        MOV.B   0x2(R7), R14
        MOV.B   0x3(R7), R15
        CALLA   #??Subroutine27_1
??CrossCallReturnLabel_51:
        MOV.W   R14, 0x4(SP)
        ADD.W   #0x4, R7
        CALLA   #?Subroutine25
??CrossCallReturnLabel_40:
        CMP.B   #0x1, R12
        JEQ     ??ZDO_ProcessMatchDescReq_6
        CALLA   #?Subroutine25
??CrossCallReturnLabel_39:
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessMatchDescReq_7
        CMP.W   &ZDAppNwkAddr, 0x2(SP)
        JEQ     ??ZDO_ProcessMatchDescReq_7
??ZDO_ProcessMatchDescReq_6:
        PUSH.B  0x10(R11)
          CFI CFA SP+28
        PUSH.W  #0x0
          CFI CFA SP+30
        PUSH.B  #0x0
          CFI CFA SP+32
        PUSH.W  &ZDAppNwkAddr
          CFI CFA SP+34
        MOV.B   #0x80, R15
        CALLA   #??Subroutine33_0
??CrossCallReturnLabel_80:
        ADD.W   #0x8, SP
          CFI CFA SP+26
        JMP     ??ZDO_ProcessMatchDescReq_5
??ZDO_ProcessMatchDescReq_7:
        MOV.B   @R7+, R4
        CMP.B   #0x0, R4
        JEQ     ??ZDO_ProcessMatchDescReq_8
        MOV.B   R4, R12
        CALLA   #??Subroutine13_0
??CrossCallReturnLabel_62:
        MOV.W   R12, R8
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMatchDescReq_8
        MOV.W   R12, R14
        MOV.W   R7, R13
        MOV.B   R4, R12
        CALLA   #ZDO_ConvertOTAClusters
        MOV.W   R12, R7
        JMP     ??ZDO_ProcessMatchDescReq_9
??ZDO_ProcessMatchDescReq_8:
        MOV.B   #0x0, R4
??ZDO_ProcessMatchDescReq_9:
        MOV.B   @R7+, R10
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ProcessMatchDescReq_10
        CALLA   #?Subroutine13
??CrossCallReturnLabel_69:
        MOV.W   R12, R9
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMatchDescReq_10
        MOV.W   R12, R14
        MOV.W   R7, R13
        MOV.B   R10, R12
        CALLA   #ZDO_ConvertOTAClusters
        JMP     ??ZDO_ProcessMatchDescReq_11
??ZDO_ProcessMatchDescReq_10:
        MOV.B   #0x0, R10
??ZDO_ProcessMatchDescReq_11:
        MOV.W   &epList, R6
        JMP     ??ZDO_ProcessMatchDescReq_12
??ZDO_ProcessMatchDescReq_3:
        MOV.W   #0x0, 0xa(R5)
??ZDO_ProcessMatchDescReq_4:
        MOV.W   R5, R13
        MOV.W   0x2(R6), R15
        MOV.W   0x2(R15), R15
        MOV.B   @R15, R12
        CALLA   #osal_msg_send
??ZDO_ProcessMatchDescReq_2:
        MOV.B   @SP, R15
        MOV.B   @R7, ZDOBuildBuf(R15)
        MOV.B   @SP, R14
        ADD.B   #0x1, R14
        MOV.B   R14, 0(SP)
??ZDO_ProcessMatchDescReq_1:
        BIT.B   #0x1, 0x1(SP)
        JNC     ??ZDO_ProcessMatchDescReq_0
        MOV.W   R7, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMatchDescReq_0:
        MOV.W   @R6, R6
??ZDO_ProcessMatchDescReq_12:
        CMP.W   #0x0, R6
        JEQ     ??ZDO_ProcessMatchDescReq_13
        MOV.W   0x2(R6), R7
        CMP.B   #0x0, 0(R7)
        JEQ     ??ZDO_ProcessMatchDescReq_0
        BIT.B   #0x1, 0xa(R6)
        JNC     ??ZDO_ProcessMatchDescReq_0
        MOV.W   0x4(R6), R14
        MOV.W   0x6(R6), R15
        MOV.W   R14, R13
        BIS.W   R15, R13
        CMP.W   #0x0, R13
        JEQ     ??ZDO_ProcessMatchDescReq_14
        MOV.B   @R7, R13
        MOV.B   #0x1, R12
        CALLA   #?IndCallR15
        MOV.W   R12, R7
        MOV.B   #0x1, 0x1(SP)
        JMP     ??ZDO_ProcessMatchDescReq_15
??ZDO_ProcessMatchDescReq_14:
        MOV.W   0x4(R7), R7
        MOV.B   #0x0, 0x1(SP)
??ZDO_ProcessMatchDescReq_15:
        CMP.W   #0x0, R7
        JEQ     ??ZDO_ProcessMatchDescReq_1
        CMP.W   0x4(SP), 0x2(R7)
        JNE     ??ZDO_ProcessMatchDescReq_1
        MOV.W   0x8(R7), R15
        MOV.B   0x7(R7), R14
        MOV.W   R8, R13
        MOV.B   R4, R12
        CALLA   #ZDO_AnyClusterMatches
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessMatchDescReq_16
        MOV.W   0xc(R7), R15
        MOV.B   0xa(R7), R14
        MOV.W   R9, R13
        MOV.B   R10, R12
        CALLA   #ZDO_AnyClusterMatches
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessMatchDescReq_1
??ZDO_ProcessMatchDescReq_16:
        MOV.B   R10, R12
        ADD.B   R4, R12
        RLA.B   R12
        ADD.B   #0xc, R12
        CALLA   #osal_msg_allocate
        MOV.W   R12, R5
        CMP.W   #0x0, R12
        JEQ     ??ZDO_ProcessMatchDescReq_2
        MOV.B   #0xd2, 0(R12)
        MOV.W   0x2(R11), 0x2(R12)
        MOV.B   R4, 0x4(R12)
        MOV.B   R10, 0x8(R12)
        CMP.B   #0x0, R4
        JEQ     ??ZDO_ProcessMatchDescReq_17
        MOV.W   R12, R15
        ADD.W   #0xc, R15
        MOV.W   R15, 0x6(R12)
        MOV.B   R4, R14
        RLA.W   R14
        MOV.W   R8, R13
        MOV.W   R15, R12
        CALLA   #osal_memcpy
        JMP     ??ZDO_ProcessMatchDescReq_18
??ZDO_ProcessMatchDescReq_17:
        MOV.W   #0x0, 0x6(R12)
??ZDO_ProcessMatchDescReq_18:
        CMP.B   #0x0, R10
        JEQ     ??ZDO_ProcessMatchDescReq_3
        MOV.B   R4, R15
        RLA.W   R15
        MOV.W   R5, R12
        ADD.W   R15, R12
        ADD.W   #0xc, R12
        MOV.W   R12, 0xa(R5)
        MOV.B   R10, R14
        RLA.W   R14
        MOV.W   R9, R13
        CALLA   #osal_memcpy
        JMP     ??ZDO_ProcessMatchDescReq_4
??ZDO_ProcessMatchDescReq_13:
        CMP.B   #0x0, 0(SP)
        JEQ     ??ZDO_ProcessMatchDescReq_19
        PUSH.B  0x10(R11)
          CFI CFA SP+28
        PUSH.W  #ZDOBuildBuf
          CFI CFA SP+30
        PUSH.B  0x6(SP)
          CFI CFA SP+32
        PUSH.W  &ZDAppNwkAddr
          CFI CFA SP+34
        CALLA   #?Subroutine17
??CrossCallReturnLabel_82:
        ADD.W   #0x8, SP
          CFI CFA SP+26
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessMatchDescReq_20
        MOV.W   #`?<Constant "Rsp Sent">`, R13
        JMP     ??ZDO_ProcessMatchDescReq_21
??ZDO_ProcessMatchDescReq_19:
        CALLA   #?Subroutine25
??CrossCallReturnLabel_38:
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessMatchDescReq_22
        PUSH.B  0x10(R11)
          CFI CFA SP+28
        PUSH.W  #ZDOBuildBuf
          CFI CFA SP+30
        PUSH.B  #0x0
          CFI CFA SP+32
        PUSH.W  &ZDAppNwkAddr
          CFI CFA SP+34
        CALLA   #?Subroutine17
??CrossCallReturnLabel_81:
        MOV.W   #`?<Constant "Rsp Non Matched">`, R13
        MOV.W   #`?<Constant "Match Desc Req">`, R12
        CALLA   #HalLcdWriteScreen
        ADD.W   #0x8, SP
          CFI CFA SP+26
        JMP     ??ZDO_ProcessMatchDescReq_20
??ZDO_ProcessMatchDescReq_22:
        MOV.W   #`?<Constant "Non Matched">`, R13
??ZDO_ProcessMatchDescReq_21:
        MOV.W   #`?<Constant "Match Desc Req">`, R12
        CALLA   #HalLcdWriteScreen
??ZDO_ProcessMatchDescReq_20:
        CMP.W   #0x0, R8
        JEQ     ??ZDO_ProcessMatchDescReq_23
        MOV.W   R8, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMatchDescReq_23:
        CMP.W   #0x0, R9
        JEQ     ??ZDO_ProcessMatchDescReq_5
        MOV.W   R9, R12
        CALLA   #osal_mem_free
??ZDO_ProcessMatchDescReq_5:
        ADD.W   #0x6, SP
          CFI CFA SP+20
        POPM.W  #0x8, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R4L SameValue
          CFI R5L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock189

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine25:
          CFI Block cfiCond190 Using cfiCommon0
          CFI Function ZDO_ProcessMatchDescReq
          CFI Conditional ??CrossCallReturnLabel_40
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+30
          CFI Block cfiCond191 Using cfiCommon0
          CFI (cfiCond191) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond191) Conditional ??CrossCallReturnLabel_39
          CFI (cfiCond191) R4L Frame(CFA, -20)
          CFI (cfiCond191) R5L Frame(CFA, -18)
          CFI (cfiCond191) R6L Frame(CFA, -16)
          CFI (cfiCond191) R7L Frame(CFA, -14)
          CFI (cfiCond191) R8L Frame(CFA, -12)
          CFI (cfiCond191) R9L Frame(CFA, -10)
          CFI (cfiCond191) R10L Frame(CFA, -8)
          CFI (cfiCond191) R11L Frame(CFA, -6)
          CFI (cfiCond191) CFA SP+30
          CFI Block cfiCond192 Using cfiCommon0
          CFI (cfiCond192) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond192) Conditional ??CrossCallReturnLabel_38
          CFI (cfiCond192) R4L Frame(CFA, -20)
          CFI (cfiCond192) R5L Frame(CFA, -18)
          CFI (cfiCond192) R6L Frame(CFA, -16)
          CFI (cfiCond192) R7L Frame(CFA, -14)
          CFI (cfiCond192) R8L Frame(CFA, -12)
          CFI (cfiCond192) R9L Frame(CFA, -10)
          CFI (cfiCond192) R10L Frame(CFA, -8)
          CFI (cfiCond192) R11L Frame(CFA, -6)
          CFI (cfiCond192) CFA SP+30
          CFI Block cfiPicker193 Using cfiCommon1
          CFI (cfiPicker193) NoFunction
          CFI (cfiPicker193) Picker
        MOV.W   0x6(SP), R12
        BRA     #NLME_IsAddressBroadcast
          CFI EndBlock cfiCond190
          CFI EndBlock cfiCond191
          CFI EndBlock cfiCond192
          CFI EndBlock cfiPicker193

        RSEG CODE:CODE:NOROOT(1)
?Subroutine17:
          CFI Block cfiCond194 Using cfiCommon0
          CFI Function ZDO_ProcessMatchDescReq
          CFI Conditional ??CrossCallReturnLabel_82
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+38
          CFI Block cfiCond195 Using cfiCommon0
          CFI (cfiCond195) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond195) Conditional ??CrossCallReturnLabel_81
          CFI (cfiCond195) R4L Frame(CFA, -20)
          CFI (cfiCond195) R5L Frame(CFA, -18)
          CFI (cfiCond195) R6L Frame(CFA, -16)
          CFI (cfiCond195) R7L Frame(CFA, -14)
          CFI (cfiCond195) R8L Frame(CFA, -12)
          CFI (cfiCond195) R9L Frame(CFA, -10)
          CFI (cfiCond195) R10L Frame(CFA, -8)
          CFI (cfiCond195) R11L Frame(CFA, -6)
          CFI (cfiCond195) CFA SP+38
          CFI Block cfiPicker196 Using cfiCommon1
          CFI (cfiPicker196) NoFunction
          CFI (cfiPicker196) Picker
        MOV.B   #0x0, R15
          CFI EndBlock cfiCond194
          CFI EndBlock cfiCond195
          CFI EndBlock cfiPicker196
        REQUIRE ??Subroutine33_0
        // Fall through to label ??Subroutine33_0

        RSEG CODE:CODE:REORDER:NOROOT(1)
??Subroutine33_0:
          CFI Block cfiCond197 Using cfiCommon0
          CFI Function ZDO_ProcessMatchDescReq
          CFI Conditional ??CrossCallReturnLabel_80
          CFI R4L Frame(CFA, -20)
          CFI R5L Frame(CFA, -18)
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+38
          CFI Block cfiCond198 Using cfiCommon0
          CFI (cfiCond198) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond198) Conditional ??CrossCallReturnLabel_82
          CFI (cfiCond198) R4L Frame(CFA, -20)
          CFI (cfiCond198) R5L Frame(CFA, -18)
          CFI (cfiCond198) R6L Frame(CFA, -16)
          CFI (cfiCond198) R7L Frame(CFA, -14)
          CFI (cfiCond198) R8L Frame(CFA, -12)
          CFI (cfiCond198) R9L Frame(CFA, -10)
          CFI (cfiCond198) R10L Frame(CFA, -8)
          CFI (cfiCond198) R11L Frame(CFA, -6)
          CFI (cfiCond198) CFA SP+38
          CFI Block cfiCond199 Using cfiCommon0
          CFI (cfiCond199) Function ZDO_ProcessMatchDescReq
          CFI (cfiCond199) Conditional ??CrossCallReturnLabel_81
          CFI (cfiCond199) R4L Frame(CFA, -20)
          CFI (cfiCond199) R5L Frame(CFA, -18)
          CFI (cfiCond199) R6L Frame(CFA, -16)
          CFI (cfiCond199) R7L Frame(CFA, -14)
          CFI (cfiCond199) R8L Frame(CFA, -12)
          CFI (cfiCond199) R9L Frame(CFA, -10)
          CFI (cfiCond199) R10L Frame(CFA, -8)
          CFI (cfiCond199) R11L Frame(CFA, -6)
          CFI (cfiCond199) CFA SP+38
          CFI Block cfiPicker200 Using cfiCommon1
          CFI (cfiPicker200) NoFunction
          CFI (cfiPicker200) Picker
        MOV.W   R11, R14
        ADD.W   #0x2, R14
        MOV.B   0x11(R11), R13
        MOV.W   #0x8006, R12
        BRA     #ZDP_EPRsp
          CFI EndBlock cfiCond197
          CFI EndBlock cfiCond198
          CFI EndBlock cfiCond199
          CFI EndBlock cfiPicker200

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_ProcessBindUnbindReq:
          CFI Block cfiBlock201 Using cfiCommon0
          CFI Function ZDO_ProcessBindUnbindReq
        FUNCALL ZDO_ProcessBindUnbindReq, sAddrExtCpy
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, NLME_GetExtAddr
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, sAddrExtCmp
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_BindRequest
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, ZDApp_NVUpdate
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_LookupNwkAddr
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, ZDP_NwkAddrReq
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, APSME_UnBindRequest
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, ZDApp_NVUpdate
        LOCFRAME CSTACK, 26, STACK
        FUNCALL ZDO_ProcessBindUnbindReq, ZDP_SendData
        LOCFRAME CSTACK, 30, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0xe, SP
          CFI CFA SP+26
        MOV.W   R12, R10
        MOV.W   R13, R11
        MOV.B   #0x3, R8
        MOV.B   R8, 0xc(SP)
        MOV.W   SP, R12
        ADD.W   #0x4, R12
        CALLA   #sAddrExtCpy
        CALLA   #NLME_GetExtAddr
        MOV.W   R12, R13
        MOV.W   SP, R12
        ADD.W   #0x4, R12
        CALLA   #sAddrExtCmp
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessBindUnbindReq_0
        MOV.B   0x14(R11), R14
        CMP.B   R8, R14
        JEQ     ??ZDO_ProcessBindUnbindReq_1
        CMP.B   #0x1, R14
        JEQ     ??ZDO_ProcessBindUnbindReq_1
??ZDO_ProcessBindUnbindReq_0:
        MOV.B   #0x84, 0(SP)
        JMP     ??ZDO_ProcessBindUnbindReq_2
??ZDO_ProcessBindUnbindReq_1:
        MOV.B   0x8(R11), R12
        CMP.B   #0x0, R12
        JEQ     ??ZDO_ProcessBindUnbindReq_3
        CMP.B   #0xf1, R12
        JC      ??ZDO_ProcessBindUnbindReq_3
        CMP.B   R8, R14
        JNE     ??ZDO_ProcessBindUnbindReq_4
        MOV.B   0x16(R11), R14
        CMP.B   #0x0, R14
        JEQ     ??ZDO_ProcessBindUnbindReq_3
        CMP.B   #0xf1, R14
        JNC     ??ZDO_ProcessBindUnbindReq_4
??ZDO_ProcessBindUnbindReq_3:
        MOV.B   #0x82, 0(SP)
        JMP     ??ZDO_ProcessBindUnbindReq_2
??ZDO_ProcessBindUnbindReq_4:
        MOV.W   R11, R9
        ADD.W   #0xc, R9
        CMP.W   #0x21, 0xe(R10)
        JNE     ??ZDO_ProcessBindUnbindReq_5
        MOV.B   #0x8c, 0(SP)
        MOV.B   0x16(R11), R15
        MOV.W   R9, R14
        MOV.W   0xa(R11), R13
        MOV.B   0x8(R11), R12
        CALLA   #APSME_BindRequest
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessBindUnbindReq_2
        MOV.B   #0x0, 0(SP)
        CALLA   #ZDApp_NVUpdate
        CMP.B   R8, 0x14(R11)
        JNE     ??ZDO_ProcessBindUnbindReq_2
        MOV.W   SP, R13
        ADD.W   #0x2, R13
        MOV.W   R9, R12
        CALLA   #APSME_LookupNwkAddr
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessBindUnbindReq_2
        MOV.B   #0x0, R15
        MOV.B   #0x0, R14
        MOV.B   #0x0, R13
        MOV.W   R9, R12
        CALLA   #ZDP_NwkAddrReq
        JMP     ??ZDO_ProcessBindUnbindReq_2
??ZDO_ProcessBindUnbindReq_5:
        MOV.B   0x16(R11), R15
        MOV.W   R9, R14
        MOV.W   0xa(R11), R13
        CALLA   #APSME_UnBindRequest
        CMP.B   #0x0, R12
        JNE     ??ZDO_ProcessBindUnbindReq_6
        MOV.B   #0x0, 0(SP)
        CALLA   #ZDApp_NVUpdate
        JMP     ??ZDO_ProcessBindUnbindReq_2
??ZDO_ProcessBindUnbindReq_6:
        MOV.B   #0x88, 0(SP)
??ZDO_ProcessBindUnbindReq_2:
        PUSH.B  0x10(R10)
          CFI CFA SP+28
        MOV.W   SP, R15
        ADD.W   #0x2, R15
        PUSH.W  R15
          CFI CFA SP+30
        MOV.B   #0x1, R15
        MOV.W   0xe(R10), R14
        BIS.W   #0x8000, R14
        CALLA   #?Subroutine15
??CrossCallReturnLabel_73:
        ADD.W   #0x12, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock201

        RSEG CODE:CODE:REORDER:NOROOT(1)
ZDO_UpdateAddrManager:
          CFI Block cfiBlock202 Using cfiCommon0
          CFI Function ZDO_UpdateAddrManager
        FUNCALL ZDO_UpdateAddrManager, AddrMgrExtAddrSet
        LOCFRAME CSTACK, 18, STACK
        FUNCALL ZDO_UpdateAddrManager, AddrMgrEntryUpdate
        LOCFRAME CSTACK, 18, STACK
        SUB.W   #0xe, SP
          CFI CFA SP+18
        MOV.B   #0x0, 0(SP)
        MOV.W   R12, 0x2(SP)
        MOV.W   SP, R12
        ADD.W   #0x4, R12
        CALLA   #AddrMgrExtAddrSet
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #AddrMgrEntryUpdate
        ADD.W   #0xe, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock202
// 2805 }
// 2806 
// 2807 /*********************************************************************
// 2808  * @fn          ZDO_ParseMgmNwkDiscRsp
// 2809  *
// 2810  * @brief       This function parses the incoming Management
// 2811  *              Network Discover response.
// 2812  *
// 2813  * @param       inMsg - incoming message
// 2814  *
// 2815  * @return      pointer to parsed response.  This structure was
// 2816  *          allocated using osal_mem_alloc, so it must be freed
// 2817  *          by the calling function [osal_mem_free()].
// 2818  */
// 2819 ZDO_MgmNwkDiscRsp_t *ZDO_ParseMgmNwkDiscRsp( zdoIncomingMsg_t *inMsg )
// 2820 {
// 2821   ZDO_MgmNwkDiscRsp_t *pRsp;
// 2822   uint8 status;
// 2823   uint8 networkCount = 0;
// 2824   uint8 startIndex = 0;
// 2825   uint8 networkListCount = 0;
// 2826   uint8 *msg;
// 2827 
// 2828   msg = inMsg->asdu;
// 2829   status = *msg++;
// 2830 
// 2831   if ( status == ZSuccess )
// 2832   {
// 2833     networkCount = *msg++;
// 2834     startIndex = *msg++;
// 2835     networkListCount = *msg++;
// 2836   }
// 2837 
// 2838   // Allocate a buffer big enough to handle the list.
// 2839   pRsp = (ZDO_MgmNwkDiscRsp_t *)osal_mem_alloc( sizeof( ZDO_MgmNwkDiscRsp_t )
// 2840                                   + (networkListCount * sizeof( mgmtNwkDiscItem_t )) );
// 2841   if ( pRsp )
// 2842   {
// 2843     uint8 x;
// 2844     mgmtNwkDiscItem_t *pList;
// 2845 
// 2846     pRsp->status = status;
// 2847     pRsp->networkCount = networkCount;
// 2848     pRsp->startIndex = startIndex;
// 2849     pRsp->networkListCount = networkListCount;
// 2850     pList = pRsp->list;
// 2851 
// 2852     for ( x = 0; x < networkListCount; x++ )
// 2853     {
// 2854       osal_cpyExtAddr(pList->extendedPANID, msg);   //Copy extended PAN ID
// 2855       pList->PANId = BUILD_UINT16( msg[0], msg[1] );
// 2856       msg += Z_EXTADDR_LEN;
// 2857 
// 2858       pList->logicalChannel = *msg++;
// 2859       pList->stackProfile = (*msg) & 0x0F;
// 2860       pList->version = (*msg++ >> 4) & 0x0F;
// 2861       pList->beaconOrder = (*msg) & 0x0F;
// 2862       pList->superFrameOrder = (*msg++ >> 4) & 0x0F;
// 2863       pList->permitJoining = *msg++;
// 2864       pList++;
// 2865     }
// 2866   }
// 2867 
// 2868   return ( pRsp );
// 2869 }
// 2870 
// 2871 /*********************************************************************
// 2872  * @fn          ZDO_ParseMgmtRtgRsp
// 2873  *
// 2874  * @brief       This function parses the incoming Management
// 2875  *              Routing response.
// 2876  *
// 2877  * @param       inMsg - incoming message
// 2878  *
// 2879  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2880  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2881  *          by the calling function [osal_mem_free()].
// 2882  */
// 2883 ZDO_MgmtRtgRsp_t *ZDO_ParseMgmtRtgRsp( zdoIncomingMsg_t *inMsg )
// 2884 {
// 2885   ZDO_MgmtRtgRsp_t *pRsp;
// 2886   uint8 status;
// 2887   uint8 rtgCount = 0;
// 2888   uint8 startIndex = 0;
// 2889   uint8 rtgListCount = 0;
// 2890   uint8 *msg;
// 2891 
// 2892   msg = inMsg->asdu;
// 2893 
// 2894   status = *msg++;
// 2895   if ( status == ZSuccess )
// 2896   {
// 2897     rtgCount = *msg++;
// 2898     startIndex = *msg++;
// 2899     rtgListCount = *msg++;
// 2900   }
// 2901 
// 2902   // Allocate a buffer big enough to handle the list
// 2903   pRsp = (ZDO_MgmtRtgRsp_t *)osal_mem_alloc(
// 2904           sizeof( ZDO_MgmtRtgRsp_t ) + (rtgListCount * sizeof( rtgItem_t )) );
// 2905   if ( pRsp )
// 2906   {
// 2907     uint8 x;
// 2908     rtgItem_t *pList = pRsp->list;
// 2909     pRsp->status = status;
// 2910     pRsp->rtgCount = rtgCount;
// 2911     pRsp->startIndex = startIndex;
// 2912     pRsp->rtgListCount = rtgListCount;
// 2913 
// 2914     for ( x = 0; x < rtgListCount; x++ )
// 2915     {
// 2916       pList->dstAddress = BUILD_UINT16( msg[0], msg[1] );
// 2917       msg += 2;
// 2918       pList->status = *msg++;
// 2919       pList->nextHopAddress = BUILD_UINT16( msg[0], msg[1] );
// 2920       msg += 2;
// 2921       pList++;
// 2922     }
// 2923   }
// 2924 
// 2925   return ( pRsp );
// 2926 }
// 2927 
// 2928 /*********************************************************************
// 2929  * @fn          ZDO_ParseMgmtBindRsp
// 2930  *
// 2931  * @brief       This function parses the incoming Management
// 2932  *              Binding response.
// 2933  *
// 2934  * @param       inMsg - pointer to message to parse
// 2935  *
// 2936  * @return      a pointer to parsed response structure (NULL if not allocated).
// 2937  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 2938  *          by the calling function [osal_mem_free()].
// 2939  */
// 2940 ZDO_MgmtBindRsp_t *ZDO_ParseMgmtBindRsp( zdoIncomingMsg_t *inMsg )
// 2941 {
// 2942   ZDO_MgmtBindRsp_t *pRsp;
// 2943   uint8 status;
// 2944   uint8 bindingCount = 0;
// 2945   uint8 startIndex = 0;
// 2946   uint8 bindingListCount = 0;
// 2947   uint8 *msg;
// 2948 
// 2949   msg = inMsg->asdu;
// 2950 
// 2951   status = *msg++;
// 2952   if ( status == ZSuccess )
// 2953   {
// 2954     bindingCount = *msg++;
// 2955     startIndex = *msg++;
// 2956     bindingListCount = *msg++;
// 2957   }
// 2958 
// 2959   // Allocate a buffer big enough to handle the list
// 2960   pRsp = (ZDO_MgmtBindRsp_t *)osal_mem_alloc(
// 2961           (sizeof ( ZDO_MgmtBindRsp_t ) + (bindingListCount * sizeof( apsBindingItem_t ))) );
// 2962   if ( pRsp )
// 2963   {
// 2964     uint8 x;
// 2965     apsBindingItem_t *pList = pRsp->list;
// 2966     pRsp->status = status;
// 2967     pRsp->bindingCount = bindingCount;
// 2968     pRsp->startIndex = startIndex;
// 2969     pRsp->bindingListCount = bindingListCount;
// 2970 
// 2971     for ( x = 0; x < bindingListCount; x++ )
// 2972     {
// 2973       osal_cpyExtAddr( pList->srcAddr, msg );
// 2974       msg += Z_EXTADDR_LEN;
// 2975       pList->srcEP = *msg++;
// 2976 
// 2977       // Get the Cluster ID
// 2978 
// 2979       pList->clusterID = BUILD_UINT16( msg[0], msg[1] );
// 2980       msg += 2;
// 2981       pList->dstAddr.addrMode = *msg++;
// 2982       if ( pList->dstAddr.addrMode == Addr64Bit )
// 2983       {
// 2984         osal_cpyExtAddr( pList->dstAddr.addr.extAddr, msg );
// 2985         msg += Z_EXTADDR_LEN;
// 2986         pList->dstEP = *msg++;
// 2987       }
// 2988       else
// 2989       {
// 2990         pList->dstAddr.addr.shortAddr = BUILD_UINT16( msg[0], msg[1] );
// 2991         msg += 2;
// 2992       }
// 2993 
// 2994       pList++;
// 2995     }
// 2996   }
// 2997 
// 2998   return ( pRsp );
// 2999 }
// 3000 
// 3001 /*********************************************************************
// 3002  * @fn          ZDO_ParseUserDescRsp
// 3003  *
// 3004  * @brief       This function parses the incoming User
// 3005  *              Descriptor Response.
// 3006  *
// 3007  * @param       inMsg - incoming response message
// 3008  *
// 3009  * @return      a pointer to parsed response structure (NULL if not allocated).
// 3010  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 3011  *          by the calling function [osal_mem_free()].
// 3012  */
// 3013 ZDO_UserDescRsp_t *ZDO_ParseUserDescRsp( zdoIncomingMsg_t *inMsg )
// 3014 {
// 3015   ZDO_UserDescRsp_t *pRsp;
// 3016   uint8 *msg;
// 3017   uint8 descLen = 0;
// 3018 
// 3019   msg = inMsg->asdu;
// 3020 
// 3021   if ( msg[0] == ZSuccess )
// 3022   {
// 3023     descLen = msg[3];
// 3024   }
// 3025 
// 3026   pRsp = (ZDO_UserDescRsp_t *)osal_mem_alloc( sizeof ( ZDO_UserDescRsp_t ) + descLen );
// 3027   if ( pRsp )
// 3028   {
// 3029     pRsp->status = msg[0];
// 3030     pRsp->nwkAddr = BUILD_UINT16( msg[1], msg[2] );
// 3031     pRsp->length = descLen;
// 3032     if ( descLen )
// 3033     {
// 3034       osal_memcpy( pRsp->desc, &msg[4], descLen );
// 3035     }
// 3036   }
// 3037 
// 3038   return ( pRsp );
// 3039 }
// 3040 
// 3041 /*********************************************************************
// 3042  * @fn          ZDO_ParseSimpleDescBuf
// 3043  *
// 3044  * @brief       Parse a byte sequence representation of a Simple Descriptor.
// 3045  *
// 3046  * @param       buf  - pointer to a byte array representing a Simple Desc.
// 3047  * @param       desc - SimpleDescriptionFormat_t *
// 3048  *
// 3049  *              This routine allocates storage for the cluster IDs because
// 3050  *              they are 16-bit and need to be aligned to be properly processed.
// 3051  *              This routine returns non-zero if an allocation fails.
// 3052  *
// 3053  *              NOTE: This means that the caller or user of the input structure
// 3054  *                    is responsible for freeing the memory
// 3055  *
// 3056  * @return      0: success
// 3057  *              1: failure due to malloc failure.
// 3058  */
// 3059 uint8 ZDO_ParseSimpleDescBuf( uint8 *buf, SimpleDescriptionFormat_t *desc )
// 3060 {
// 3061   uint8 num, i;
// 3062 
// 3063   desc->EndPoint = *buf++;
// 3064   desc->AppProfId = BUILD_UINT16( buf[0], buf[1] );
// 3065   buf += 2;
// 3066   desc->AppDeviceId = BUILD_UINT16( buf[0], buf[1] );
// 3067   buf += 2;
// 3068   desc->AppDevVer = *buf >> 4;
// 3069 
// 3070   desc->Reserved = 0;
// 3071   buf++;
// 3072 
// 3073   // move in input cluster list (if any). allocate aligned memory.
// 3074   num = desc->AppNumInClusters = *buf++;
// 3075   if ( num )
// 3076   {
// 3077     if (!(desc->pAppInClusterList = (uint16 *)osal_mem_alloc(num*sizeof(uint16))))
// 3078     {
// 3079       // malloc failed. we're done.
// 3080       return 1;
// 3081     }
// 3082     for (i=0; i<num; ++i)
// 3083     {
// 3084       desc->pAppInClusterList[i] = BUILD_UINT16( buf[0], buf[1] );
// 3085       buf += 2;
// 3086     }
// 3087   }
// 3088 
// 3089   // move in output cluster list (if any). allocate aligned memory.
// 3090   num = desc->AppNumOutClusters = *buf++;
// 3091   if (num)
// 3092   {
// 3093     if (!(desc->pAppOutClusterList = (uint16 *)osal_mem_alloc(num*sizeof(uint16))))
// 3094     {
// 3095       // malloc failed. free input cluster list memory if there is any
// 3096       if ( desc->pAppInClusterList != NULL )
// 3097       {
// 3098         osal_mem_free(desc->pAppInClusterList);
// 3099 
// 3100         desc->pAppInClusterList = NULL;
// 3101       }
// 3102       return 1;
// 3103     }
// 3104     for (i=0; i<num; ++i)
// 3105     {
// 3106       desc->pAppOutClusterList[i] = BUILD_UINT16( buf[0], buf[1] );
// 3107       buf += 2;
// 3108     }
// 3109   }
// 3110   return 0;
// 3111 }
// 3112 
// 3113 /*********************************************************************
// 3114  * @fn          ZDO_ParseDeviceAnnce
// 3115  *
// 3116  * @brief       Parse a Device Announce message.
// 3117  *
// 3118  * @param       inMsg - Incoming message
// 3119  * @param       pAnnce - place to put the parsed information
// 3120  *
// 3121  * @return      none
// 3122  */
// 3123 void ZDO_ParseDeviceAnnce( zdoIncomingMsg_t *inMsg, ZDO_DeviceAnnce_t *pAnnce )
// 3124 {
// 3125   uint8 *msg;
// 3126 
// 3127   // Parse incoming message
// 3128   msg = inMsg->asdu;
// 3129   pAnnce->nwkAddr = BUILD_UINT16( msg[0], msg[1] );
// 3130   msg += 2;
// 3131   osal_cpyExtAddr( pAnnce->extAddr, msg );
// 3132   msg += Z_EXTADDR_LEN;
// 3133   pAnnce->capabilities = *msg;
// 3134 }
// 3135 
// 3136 /*********************************************************************
// 3137  * @fn          ZDO_ParseMgmtNwkUpdateNotify
// 3138  *
// 3139  * @brief       This function handles parsing of the incoming Management
// 3140  *              Network Update notify.
// 3141  *
// 3142  * @param       inMsg - incoming message (request)
// 3143  *
// 3144  * @return      a pointer to parsed response structure (NULL if not allocated).
// 3145  *          This structure was allocated using osal_mem_alloc, so it must be freed
// 3146  *          by the calling function [osal_mem_free()].
// 3147  */
// 3148 ZDO_MgmtNwkUpdateNotify_t *ZDO_ParseMgmtNwkUpdateNotify( zdoIncomingMsg_t *inMsg )
// 3149 {
// 3150   uint8 status;
// 3151   uint32 scannedChannels = 0;
// 3152   uint16 totalTransmissions = 0;
// 3153   uint16 transmissionFailures = 0;
// 3154   uint8 listCount = 0;
// 3155   uint8 *msg = inMsg->asdu;
// 3156   ZDO_MgmtNwkUpdateNotify_t *pRsp;
// 3157 
// 3158   status = *msg++;
// 3159   if ( status == ZSuccess )
// 3160   {
// 3161     scannedChannels = osal_build_uint32( msg, 4 );
// 3162     msg += 4;
// 3163     totalTransmissions = BUILD_UINT16( msg[0], msg[1] );
// 3164     msg += 2;
// 3165     transmissionFailures = BUILD_UINT16( msg[0], msg[1] );
// 3166     msg += 2;
// 3167     listCount = *msg++;
// 3168   }
// 3169 
// 3170   pRsp = (ZDO_MgmtNwkUpdateNotify_t *)osal_mem_alloc( sizeof ( ZDO_MgmtNwkUpdateNotify_t ) + listCount );
// 3171 
// 3172   if ( pRsp )
// 3173   {
// 3174     pRsp->status = status;
// 3175     pRsp->scannedChannels = scannedChannels;
// 3176     pRsp->totalTransmissions = totalTransmissions;
// 3177     pRsp->transmissionFailures = transmissionFailures;
// 3178     pRsp->listCount = listCount;
// 3179 
// 3180     // Allocate a buffer big enough to handle the list.
// 3181     if ( listCount > 0 )
// 3182     {
// 3183       osal_memcpy( pRsp->energyValues, msg, listCount );
// 3184     }
// 3185   }
// 3186 
// 3187   return ( pRsp );
// 3188 }
// 3189 
// 3190 /*********************************************************************
// 3191  * @fn          ZDO_ParseMgmtNwkUpdateReq
// 3192  *
// 3193  * @brief       This function handles parsing the incoming Management
// 3194  *              Network Update request and starts the request (if needed).
// 3195  *
// 3196  * @param       inMsg - incoming message (request)
// 3197  * @param       pReq - pointer to place to parse message to
// 3198  *
// 3199  * @return      none
// 3200  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
// 3201 void ZDO_ParseMgmtNwkUpdateReq( zdoIncomingMsg_t *inMsg, ZDO_MgmtNwkUpdateReq_t *pReq )
ZDO_ParseMgmtNwkUpdateReq:
          CFI Block cfiBlock203 Using cfiCommon0
          CFI Function ZDO_ParseMgmtNwkUpdateReq
// 3202 {
        FUNCALL ZDO_ParseMgmtNwkUpdateReq, osal_build_uint32
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.W   R13, R10
// 3203   uint8 *msg = inMsg->asdu;
        CALLA   #?Subroutine4
// 3204 
// 3205   pReq->channelMask = osal_build_uint32( msg, 4 );
??CrossCallReturnLabel_3:
        MOV.W   R12, 0(R10)
        MOV.W   R13, 0x2(R10)
// 3206   msg += 4;
        ADD.W   #0x4, R11
// 3207   pReq->scanDuration = *msg++;
        MOV.B   @R11+, 0x4(R10)
// 3208 
// 3209   if ( pReq->scanDuration <= 0x05 )
        MOV.B   0x4(R10), R14
        CMP.B   #0x6, R14
        JC      ??ZDO_ParseMgmtNwkUpdateReq_0
// 3210   {
// 3211     // Request is to scan over channelMask
// 3212     pReq->scanCount = *msg;
        MOV.B   @R11, 0x5(R10)
        JMP     ??ZDO_ParseMgmtNwkUpdateReq_1
// 3213   }
// 3214   else if ( ( pReq->scanDuration == 0xFE ) || ( pReq->scanDuration == 0xFF ) )
??ZDO_ParseMgmtNwkUpdateReq_0:
        CMP.B   #0xfe, R14
        JEQ     ??ZDO_ParseMgmtNwkUpdateReq_2
        CMP.B   #0xff, R14
        JNE     ??ZDO_ParseMgmtNwkUpdateReq_1
// 3215   {
// 3216     // Request is to change Channel (0xFE) or apsChannelMask and NwkManagerAddr (0xFF)
// 3217     pReq->nwkUpdateId = *msg++;
??ZDO_ParseMgmtNwkUpdateReq_2:
        MOV.B   @R11+, 0x6(R10)
// 3218 
// 3219     if ( pReq->scanDuration == 0xFF )
        CMP.B   #0xff, 0x4(R10)
        JNE     ??ZDO_ParseMgmtNwkUpdateReq_1
// 3220     {
// 3221       pReq->nwkManagerAddr = BUILD_UINT16( msg[0], msg[1] );
        CALLA   #?Subroutine27
// 3222     }
// 3223   }
??CrossCallReturnLabel_55:
        MOV.W   R14, 0x8(R10)
// 3224 }
??ZDO_ParseMgmtNwkUpdateReq_1:
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock203

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r4:
        REQUIRE ?setjmp_r4
        REQUIRE ?longjmp_r4

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r5:
        REQUIRE ?setjmp_r5
        REQUIRE ?longjmp_r5

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "StartDevice ERR">`:
        DC8 "StartDevice ERR"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "MODE unknown">`:
        DC8 "MODE unknown"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "End Device Bind">`:
        DC8 "End Device Bind"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Success Sent">`:
        DC8 "Success Sent"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Timeout">`:
        DC8 "Timeout"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Match Desc Req">`:
        DC8 "Match Desc Req"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Rsp Sent">`:
        DC8 "Rsp Sent"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Rsp Non Matched">`:
        DC8 "Rsp Non Matched"

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant "Non Matched">`:
        DC8 "Non Matched"

        END
// 3225 
// 3226 /*********************************************************************
// 3227 *********************************************************************/
// 
// 6 550 bytes in segment CODE
//   118 bytes in segment DATA16_C
//    62 bytes in segment DATA16_Z
// 
// 6 550 bytes of CODE  memory
//   118 bytes of CONST memory
//    62 bytes of DATA  memory
//
//Errors: none
//Warnings: none
