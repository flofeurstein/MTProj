///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V5.52.1.50724/W32 for MSP430      10/Jun/2013  16:24:26 /
// Copyright 1996-2013 IAR Systems AB.                                        /
//                                                                            /
//    __rt_version  =  3                                                      /
//    __double_size =  32                                                     /
//    __reg_r4      =  free                                                   /
//    __reg_r5      =  free                                                   /
//    __pic         =  no                                                     /
//    __core        =  430X                                                   /
//    __data_model  =  small                                                  /
//    Source file   =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\m /
//                     t\MT_ZDO.c                                             /
//    Command line  =  -f "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects /
//                     \zstack\HomeAutomation\SampleLight\CC2520DB\..\..\..\T /
//                     ools\MSP2618\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0    /
//                     -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                      /
//                     -DDEFAULT_CHANLIST=0x00000800                          /
//                     -DZDAPP_CONFIG_PAN_ID=0xFFFF -DNWK_START_DELAY=100     /
//                     -DEXTENDED_JOINING_RANDOM_MASK=0x007F                  /
//                     -DBEACON_REQUEST_DELAY=100                             /
//                     -DBEACON_REQ_DELAY_MASK=0x00FF                         /
//                     -DLINK_STATUS_JITTER_MASK=0x007F                       /
//                     -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_POLLED /
//                     =3000 -DNWK_INDIRECT_MSG_TIMEOUT=7                     /
//                     -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3        /
//                     -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2  /
//                     -DMAX_BCAST=9 -DAPS_MAX_GROUPS=16                      /
//                     -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4       /
//                     -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,      /
//                     0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02,  /
//                     0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"                   /
//                     -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS= /
//                     20 -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000         /
//                     -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100        /
//                     -DREJOIN_POLL_RATE=440) -f "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\Tools\MSP2618\ /
//                     f8wCoord.cfg" (-DCPU6MHZ -DMAC_CFG_APP_PENDING_QUEUE=T /
//                     RUE -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         /
//                     -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK) -f     /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleLight\CC2520DB\..\..\..\Tool /
//                     s\MSP2618\f8wZCL.cfg" (-DZCL_READ -DZCL_WRITE          /
//                     -DZCL_BASIC -DZCL_IDENTIFY -DZCL_ON_OFF                /
//                     -DZCL_KEY_ESTABLISH -DZCL_KEY_ESTABLISHMENT_KEY_GENERA /
//                     TE_TIMEOUT=4 -DZCL_KEY_ESTABLISHMENT_MAC_GENERATE_TIME /
//                     OUT=10 -DZCL_KEY_ESTABLISHMENT_EKEY_GENERATE_TIMEOUT=1 /
//                     0 -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING             /
//                     -DZCL_PRICING -DZCL_MESSAGE -DZCL_TUNNELING            /
//                     -DZCL_TOU) -DZCL_DEVICE_MGMT "C:\Texas                 /
//                     Instruments\ZStack-MSP2618-2.5.1\Components\mt\MT_ZDO. /
//                     c" -D MSP430F2618 -D ZTOOL_P1 -D MT_TASK -D            /
//                     MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED -lC        /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleLight\CC2520DB\Coordinator\L /
//                     ist\" -lA "C:\Texas Instruments\ZStack-MSP2618-2.5.1\P /
//                     rojects\zstack\HomeAutomation\SampleLight\CC2520DB\Coo /
//                     rdinator\List\" --remarks --diag_suppress              /
//                     Pe001,Pe193,Pe236,Pe826 -o "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\Coordinator\Obj\"       /
//                     --debug -D__MSP430F2618__ -e --double=32 --clib -I     /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleLight\CC2520DB\" -I          /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleLight\CC2520DB\..\Source\"   /
//                     -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects /
//                     \zstack\HomeAutomation\SampleLight\CC2520DB\..\..\Sour /
//                     ce\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Pro /
//                     jects\zstack\HomeAutomation\SampleLight\CC2520DB\..\.. /
//                     \..\ZMain\MSP2618\" -I "C:\Texas                       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\hal\include\" -I "C:\Texas                          /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\hal\target\MSP2618CC2520\" -I "C:\Texas             /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\mac\include\" -I "C:\Texas                          /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\mac\high_level\" -I "C:\Texas                       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\mac\low_level\srf04\" -I "C:\Texas                  /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\mac\low_level\srf04\dual_chip\" -I "C:\Texas        /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\mt\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1\ /
//                     Projects\zstack\HomeAutomation\SampleLight\CC2520DB\.. /
//                     \..\..\..\..\Components\osal\include\" -I "C:\Texas    /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\osal\mcu\msp430\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\services\saddr\" -I "C:\Texas                       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\services\sdata\" -I "C:\Texas                       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\af\" -I "C:\Texas                             /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\nwk\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\sec\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\sapi\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\sys\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\zcl\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\stack\zdo\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleLight\CC2520DB\..\..\..\..\..\Componen /
//                     ts\zmac\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5. /
//                     1\Projects\zstack\HomeAutomation\SampleLight\CC2520DB\ /
//                     ..\..\..\..\..\Components\zmac\f8w\" --core=430X       /
//                     --data_model=small -Ohz --multiplier=16s               /
//                     --require_prototypes                                   /
//    List file     =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zst /
//                     ack\HomeAutomation\SampleLight\CC2520DB\Coordinator\Li /
//                     st\MT_ZDO.s43                                          /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME MT_ZDO

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__core", "430X"
        RTMODEL "__data_model", "small"
        RTMODEL "__double_size", "32"
        RTMODEL "__pic", "no"
        RTMODEL "__reg_r4", "free"
        RTMODEL "__reg_r5", "free"
        RTMODEL "__rt_version", "3"

        RSEG CSTACK:DATA:SORT:NOROOT(0)

        EXTERN ?cstart_init_zero
        EXTERN ?longjmp_r4
        EXTERN ?longjmp_r5
        EXTERN ?setjmp_r4
        EXTERN ?setjmp_r5

        PUBWEAK ?setjmp_save_r4
        PUBWEAK ?setjmp_save_r5
        PUBLIC MT_ZdoActiveEpRequest
        FUNCTION MT_ZdoActiveEpRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoBeaconIndCB
        FUNCTION MT_ZdoBeaconIndCB,021603H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_ZdoBindRequest
        FUNCTION MT_ZdoBindRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 46, STACK
        PUBLIC MT_ZdoCommandProcessing
        FUNCTION MT_ZdoCommandProcessing,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_ZdoComplexDescRequest
        FUNCTION MT_ZdoComplexDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoEndDevAnnce
        FUNCTION MT_ZdoEndDevAnnce,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_ZdoEndDevBindRequest
        FUNCTION MT_ZdoEndDevBindRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 98, STACK
        PUBLIC MT_ZdoIEEEAddrRequest
        FUNCTION MT_ZdoIEEEAddrRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_ZdoInit
        FUNCTION MT_ZdoInit,0203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC MT_ZdoJoinCnfCB
        FUNCTION MT_ZdoJoinCnfCB,021603H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC MT_ZdoJoinReq
        FUNCTION MT_ZdoJoinReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 14, STACK
        PUBLIC MT_ZdoMatchDescRequest
        FUNCTION MT_ZdoMatchDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 100, STACK
        PUBLIC MT_ZdoNWKAddressRequest
        FUNCTION MT_ZdoNWKAddressRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_ZdoNetworkDiscoveryReq
        FUNCTION MT_ZdoNetworkDiscoveryReq,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_ZdoNodeDescRequest
        FUNCTION MT_ZdoNodeDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoNwkDiscoveryCnfCB
        FUNCTION MT_ZdoNwkDiscoveryCnfCB,021603H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_ZdoPowerDescRequest
        FUNCTION MT_ZdoPowerDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoRegisterForZDOMsg
        FUNCTION MT_ZdoRegisterForZDOMsg,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_ZdoRemoveRegisteredCB
        FUNCTION MT_ZdoRemoveRegisteredCB,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_ZdoSendMsgCB
        FUNCTION MT_ZdoSendMsgCB,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC MT_ZdoServiceDiscRequest
        FUNCTION MT_ZdoServiceDiscRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_ZdoSimpleDescRequest
        FUNCTION MT_ZdoSimpleDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoStartupFromApp
        FUNCTION MT_ZdoStartupFromApp,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_ZdoUnbindRequest
        FUNCTION MT_ZdoUnbindRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 46, STACK
        PUBLIC MT_ZdoUserDescRequest
        FUNCTION MT_ZdoUserDescRequest,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_ZdoUserDescSet
        FUNCTION MT_ZdoUserDescSet,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 36, STACK
        PUBLIC _zdoCallbackSub
        PUBLIC pBeaconIndBuf
        
          CFI Names cfiNames0
          CFI StackFrame CFA SP DATA
          CFI Resource PC:20, SP:20, SR:16, R4L:16, R4H:4, R4:20, R5L:16, R5H:4
          CFI Resource R5:20, R6L:16, R6H:4, R6:20, R7L:16, R7H:4, R7:20, R8L:16
          CFI Resource R8H:4, R8:20, R9L:16, R9H:4, R9:20, R10L:16, R10H:4
          CFI Resource R10:20, R11L:16, R11H:4, R11:20, R12L:16, R12H:4, R12:20
          CFI Resource R13L:16, R13H:4, R13:20, R14L:16, R14H:4, R14:20, R15L:16
          CFI Resource R15H:4, R15:20
          CFI ResourceParts R4 R4H, R4L
          CFI ResourceParts R5 R5H, R5L
          CFI ResourceParts R6 R6H, R6L
          CFI ResourceParts R7 R7H, R7L
          CFI ResourceParts R8 R8H, R8L
          CFI ResourceParts R9 R9H, R9L
          CFI ResourceParts R10 R10H, R10L
          CFI ResourceParts R11 R11H, R11L
          CFI ResourceParts R12 R12H, R12L
          CFI ResourceParts R13 R13H, R13L
          CFI ResourceParts R14 R14H, R14L
          CFI ResourceParts R15 R15H, R15L
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L Undefined
          CFI R12H Undefined
          CFI R12 Undefined
          CFI R13L Undefined
          CFI R13H Undefined
          CFI R13 Undefined
          CFI R14L Undefined
          CFI R14H Undefined
          CFI R14 Undefined
          CFI R15L Undefined
          CFI R15H Undefined
          CFI R15 Undefined
          CFI EndCommon cfiCommon0
        
        
          CFI Common cfiCommon1 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L SameValue
          CFI R12H 0
          CFI R12 Concat
          CFI R13L SameValue
          CFI R13H 0
          CFI R13 Concat
          CFI R14L SameValue
          CFI R14H 0
          CFI R14 Concat
          CFI R15L SameValue
          CFI R15H 0
          CFI R15 Concat
          CFI EndCommon cfiCommon1
        
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        EXTERN MT_BuildAndSendZToolResponse
        FUNCTION MT_BuildAndSendZToolResponse,0202H
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        EXTERN MT_TaskID
        EXTERN ZDO_RemoveRegisteredCB
        FUNCTION ZDO_RemoveRegisteredCB,0202H
        EXTERN ZDO_RegisterForZDOMsg
        FUNCTION ZDO_RegisterForZDOMsg,0202H
        EXTERN ZDO_DeregisterForZdoCB
        FUNCTION ZDO_DeregisterForZdoCB,0202H
        EXTERN ZDApp_JoinReq
        FUNCTION ZDApp_JoinReq,0202H
        EXTERN ZDO_RegisterForZdoCB
        FUNCTION ZDO_RegisterForZdoCB,0202H
        EXTERN osal_build_uint32
        FUNCTION osal_build_uint32,0202H
        EXTERN ZDApp_NetworkDiscoveryReq
        FUNCTION ZDApp_NetworkDiscoveryReq,0202H
        EXTERN ZDOInitDevice
        FUNCTION ZDOInitDevice,0202H
        EXTERN sAddrExtCpy
        FUNCTION sAddrExtCpy,0202H
        EXTERN ZDP_BindUnbindReq
        FUNCTION ZDP_BindUnbindReq,0202H
        EXTERN ZDP_EndDeviceBindReq
        FUNCTION ZDP_EndDeviceBindReq,0202H
        EXTERN ZDP_ServerDiscReq
        FUNCTION ZDP_ServerDiscReq,0202H
        EXTERN ZDP_UserDescSet
        FUNCTION ZDP_UserDescSet,0202H
        EXTERN ZDP_DeviceAnnce
        FUNCTION ZDP_DeviceAnnce,0202H
        EXTERN ZDP_NWKAddrOfInterestReq
        FUNCTION ZDP_NWKAddrOfInterestReq,0202H
        EXTERN ZDP_MatchDescReq
        FUNCTION ZDP_MatchDescReq,0202H
        EXTERN ZDP_SimpleDescReq
        FUNCTION ZDP_SimpleDescReq,0202H
        EXTERN ZDP_IEEEAddrReq
        FUNCTION ZDP_IEEEAddrReq,0202H
        EXTERN ZDP_NwkAddrReq
        FUNCTION ZDP_NwkAddrReq,0202H

// C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\mt\MT_ZDO.c
//    1 /**************************************************************************************************
//    2   Filename:       MT_ZDO.c
//    3   Revised:        $Date: 2012-02-16 16:04:32 -0800 (Thu, 16 Feb 2012) $
//    4   Revision:       $Revision: 29348 $
//    5 
//    6   Description:    MonitorTest functions for the ZDO layer.
//    7 
//    8 
//    9   Copyright 2004-2012 Texas Instruments Incorporated. All rights reserved.
//   10 
//   11   IMPORTANT: Your use of this Software is limited to those specific rights
//   12   granted under the terms of a software license agreement between the user
//   13   who downloaded the software, his/her employer (which must be your employer)
//   14   and Texas Instruments Incorporated (the "License"). You may not use this
//   15   Software unless you agree to abide by the terms of the License. The License
//   16   limits your use, and you acknowledge, that the Software may not be modified,
//   17   copied or distributed unless embedded on a Texas Instruments microcontroller
//   18   or used solely and exclusively in conjunction with a Texas Instruments radio
//   19   frequency transceiver, which is integrated into your product. Other than for
//   20   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   21   works of, modify, distribute, perform, display or sell this Software and/or
//   22   its documentation for any purpose.
//   23 
//   24   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   25   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   26   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   27   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   28   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   29   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   30   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   31   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   32   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   33   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   34   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   35 
//   36   Should you have any questions regarding your right to use this Software,
//   37   contact Texas Instruments Incorporated at www.TI.com.
//   38 **************************************************************************************************/
//   39 
//   40 #ifdef MT_ZDO_FUNC
//   41 
//   42 /**************************************************************************************************
//   43  * INCLUDES
//   44  **************************************************************************************************/
//   45 #include "ZComDef.h"
//   46 #include "OSAL.h"
//   47 #include "OSAL_Nv.h"
//   48 #include "MT.h"
//   49 #include "MT_ZDO.h"
//   50 #include "APSMEDE.h"
//   51 #include "ZDConfig.h"
//   52 #include "ZDProfile.h"
//   53 #include "ZDObject.h"
//   54 #include "ZDApp.h"
//   55 
//   56 #if !defined( WIN32 )
//   57   #include "OnBoard.h"
//   58 #endif
//   59 
//   60 #if defined ( MT_SYS_KEY_MANAGEMENT )
//   61   #include "ZDSecMgr.h"
//   62 #endif
//   63 
//   64 #include "nwk_util.h"
//   65 
//   66 /**************************************************************************************************
//   67  * CONSTANTS
//   68  **************************************************************************************************/
//   69 #define MT_ZDO_END_DEVICE_ANNCE_IND_LEN   0x0D
//   70 #define MT_ZDO_ADDR_RSP_LEN               0x0D
//   71 #define MT_ZDO_BIND_UNBIND_RSP_LEN        0x03
//   72 #define MT_ZDO_BEACON_IND_LEN             21
//   73 #define MT_ZDO_BEACON_IND_PACK_LEN        (MT_UART_TX_BUFF_MAX - SPI_0DATA_MSG_LEN)
//   74 #define MT_ZDO_JOIN_CNF_LEN               5
//   75 
//   76 // Message must pack nwk addr, entire (not just pointer to) ieee addr, and packet cost, so the
//   77 // sizeof(zdoConcentratorInd_t) is not usable.
//   78 #define MT_ZDO_CONCENTRATOR_IND_LEN      (2 + Z_EXTADDR_LEN + 1)
//   79 
//   80 #define MTZDO_RESPONSE_BUFFER_LEN   100
//   81 
//   82 #define MTZDO_MAX_MATCH_CLUSTERS    16
//   83 #define MTZDO_MAX_ED_BIND_CLUSTERS  15
//   84 
//   85 // Conversion from ZDO Cluster Id to the RPC AREQ Id is direct as follows:
//   86 #define MT_ZDO_CID_TO_AREQ_ID(CId)  ((uint8)(CId) | 0x80)
//   87 
//   88 #define MT_ZDO_STATUS_LEN   1
//   89 
//   90 /**************************************************************************************************
//   91  * GLOBAL VARIABLES
//   92  **************************************************************************************************/

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//   93 uint32 _zdoCallbackSub;
_zdoCallbackSub:
        DS8 4

        RSEG DATA16_Z:DATA:SORT:NOROOT(1)
        REQUIRE ?cstart_init_zero
//   94 uint8 *pBeaconIndBuf = NULL;
pBeaconIndBuf:
        DS8 2
//   95 
//   96 /**************************************************************************************************
//   97  * LOCAL VARIABLES
//   98  **************************************************************************************************/
//   99 
//  100 /**************************************************************************************************
//  101  * LOCAL FUNCTIONS
//  102  **************************************************************************************************/
//  103 #if defined (MT_ZDO_FUNC)
//  104 void MT_ZdoNWKAddressRequest(uint8 *pBuf);
//  105 void MT_ZdoIEEEAddrRequest(uint8 *pBuf);
//  106 void MT_ZdoNodeDescRequest(uint8 *pBuf);
//  107 void MT_ZdoPowerDescRequest(uint8 *pBuf);
//  108 void MT_ZdoSimpleDescRequest(uint8 *pBuf);
//  109 void MT_ZdoActiveEpRequest(uint8 *pBuf);
//  110 void MT_ZdoMatchDescRequest(uint8 *pBuf);
//  111 void MT_ZdoComplexDescRequest(uint8 *pBuf);
//  112 void MT_ZdoUserDescRequest(uint8 *pBuf);
//  113 void MT_ZdoEndDevAnnce(uint8 *pBuf);
//  114 void MT_ZdoUserDescSet(uint8 *pBuf);
//  115 void MT_ZdoServiceDiscRequest(uint8 *pBuf);
//  116 void MT_ZdoEndDevBindRequest(uint8 *pBuf);
//  117 void MT_ZdoBindRequest(uint8 *pBuf);
//  118 void MT_ZdoUnbindRequest(uint8 *pBuf);
//  119 void MT_ZdoMgmtNwkDiscRequest(uint8 *pBuf);
//  120 #if defined ( MT_SYS_KEY_MANAGEMENT )
//  121 void MT_ZdoSetLinkKey(uint8 *pBuf);
//  122 void MT_ZdoRemoveLinkKey(uint8 *pBuf);
//  123 void MT_ZdoGetLinkKey(uint8 *pBuf);
//  124 #endif /* MT_SYS_KEY_MANAGEMENT */
//  125 void MT_ZdoNetworkDiscoveryReq(uint8 *pBuf);
//  126 void MT_ZdoJoinReq(uint8 *pBuf);
//  127 /* Call back function */
//  128 void *MT_ZdoNwkDiscoveryCnfCB ( void *pStr );
//  129 void *MT_ZdoBeaconIndCB ( void *pStr );
//  130 void *MT_ZdoJoinCnfCB ( void *pStr );
//  131 #if defined (MT_ZDO_MGMT)
//  132 void MT_ZdoMgmtLqiRequest(uint8 *pBuf);
//  133 void MT_ZdoMgmtRtgRequest(uint8 *pBuf);
//  134 void MT_ZdoMgmtBindRequest(uint8 *pBuf);
//  135 void MT_ZdoMgmtLeaveRequest(uint8 *pBuf);
//  136 void MT_ZdoMgmtDirectJoinRequest(uint8 *pBuf);
//  137 void MT_ZdoMgmtPermitJoinRequest(uint8 *pBuf);
//  138 void MT_ZdoMgmtNwkUpdateRequest(uint8 *pBuf);
//  139 #endif /* MT_ZDO_MGMT */
//  140 void MT_ZdoStartupFromApp(uint8 *pBuf);
//  141 void MT_ZdoRegisterForZDOMsg(uint8 *pBuf);
//  142 void MT_ZdoRemoveRegisteredCB(uint8 *pBuf);
//  143 #endif /* MT_ZDO_FUNC */
//  144 
//  145 #if defined (MT_ZDO_CB_FUNC)
//  146 uint8 MT_ZdoHandleExceptions( afIncomingMSGPacket_t *pData, zdoIncomingMsg_t *inMsg );
//  147 void MT_ZdoAddrRspCB( ZDO_NwkIEEEAddrResp_t *pMsg, uint16 clusterID );
//  148 void MT_ZdoEndDevAnnceCB( ZDO_DeviceAnnce_t *pMsg, uint16 srcAddr );
//  149 void MT_ZdoBindUnbindRspCB( uint16 clusterID, uint16 srcAddr, uint8 status );
//  150 void* MT_ZdoSrcRtgCB( void *pStr );
//  151 static void *MT_ZdoConcentratorIndCB(void *pStr);
//  152 static void *MT_ZdoLeaveInd(void *vPtr);
//  153 #endif /* MT_ZDO_CB_FUNC */
//  154 
//  155 #if defined (MT_ZDO_FUNC)
//  156 /***************************************************************************************************
//  157  * @fn      MT_ZdoInit
//  158  *
//  159  * @brief   MT ZDO initialization
//  160  *
//  161  * @param   none
//  162  *
//  163  * @return  none
//  164  ***************************************************************************************************/

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  165 void MT_ZdoInit(void)
MT_ZdoInit:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function MT_ZdoInit
//  166 {
//  167 #ifdef MT_ZDO_CB_FUNC
//  168   /* Register with ZDO for indication callbacks */
//  169   ZDO_RegisterForZdoCB(ZDO_SRC_RTG_IND_CBID, &MT_ZdoSrcRtgCB);
//  170   ZDO_RegisterForZdoCB(ZDO_CONCENTRATOR_IND_CBID, &MT_ZdoConcentratorIndCB);
//  171   ZDO_RegisterForZdoCB(ZDO_LEAVE_IND_CBID, &MT_ZdoLeaveInd);
//  172 #endif
//  173 }
        RETA
          CFI EndBlock cfiBlock0
//  174 
//  175 /***************************************************************************************************
//  176  * @fn      MT_ZdoCommandProcessing
//  177  *
//  178  * @brief
//  179  *
//  180  *   Process all the ZDO commands that are issued by test tool
//  181  *
//  182  * @param   pBuf - pointer to the msg buffer
//  183  *
//  184  *          | LEN  | CMD0  | CMD1  |  DATA  |
//  185  *          |  1   |   1   |   1   |  0-255 |
//  186  *
//  187  * @return  status
//  188  ***************************************************************************************************/

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  189 uint8 MT_ZdoCommandProcessing(uint8* pBuf)
MT_ZdoCommandProcessing:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function MT_ZdoCommandProcessing
//  190 {
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoNWKAddressRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoIEEEAddrRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoNodeDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoPowerDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoSimpleDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoActiveEpRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoMatchDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoComplexDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUserDescRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoEndDevAnnce
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUserDescSet
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoServiceDiscRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoEndDevBindRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoBindRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoUnbindRequest
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoNetworkDiscoveryReq
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoJoinReq
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoStartupFromApp
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoRegisterForZDOMsg
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoCommandProcessing, MT_ZdoRemoveRegisteredCB
        LOCFRAME CSTACK, 6, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
//  191   uint8 status = MT_RPC_SUCCESS;
        MOV.B   #0x0, R10
//  192 
//  193   switch (pBuf[MT_RPC_POS_CMD1])
        MOV.B   0x2(R12), R14
        SUB.B   #0x0, R14
        JEQ     ??MT_ZdoCommandProcessing_0
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_1
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_2
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_3
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_4
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_5
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_6
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_7
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_8
        SUB.B   #0x2, R14
        JEQ     ??MT_ZdoCommandProcessing_9
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_10
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_11
        SUB.B   #0x14, R14
        JEQ     ??MT_ZdoCommandProcessing_12
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_13
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_14
        SUB.B   #0x4, R14
        JEQ     ??MT_ZdoCommandProcessing_15
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_16
        SUB.B   #0x17, R14
        JEQ     ??MT_ZdoCommandProcessing_17
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_18
        SUB.B   #0x1, R14
        JEQ     ??MT_ZdoCommandProcessing_19
        JMP     ??MT_ZdoCommandProcessing_20
//  194   {
//  195 #if defined ( ZDO_NWKADDR_REQUEST )
//  196     case MT_ZDO_NWK_ADDR_REQ:
//  197       MT_ZdoNWKAddressRequest(pBuf);
??MT_ZdoCommandProcessing_0:
        CALLA   #MT_ZdoNWKAddressRequest
//  198       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  199 #endif
//  200 
//  201 #if defined ( ZDO_IEEEADDR_REQUEST )
//  202     case MT_ZDO_IEEE_ADDR_REQ:
//  203       MT_ZdoIEEEAddrRequest(pBuf);
??MT_ZdoCommandProcessing_1:
        CALLA   #MT_ZdoIEEEAddrRequest
//  204       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  205 #endif
//  206 
//  207 #if defined ( ZDO_NODEDESC_REQUEST )
//  208     case MT_ZDO_NODE_DESC_REQ:
//  209       MT_ZdoNodeDescRequest(pBuf);
??MT_ZdoCommandProcessing_2:
        CALLA   #MT_ZdoNodeDescRequest
//  210       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  211 #endif
//  212 
//  213 #if defined ( ZDO_POWERDESC_REQUEST )
//  214     case MT_ZDO_POWER_DESC_REQ:
//  215       MT_ZdoPowerDescRequest(pBuf);
??MT_ZdoCommandProcessing_3:
        CALLA   #MT_ZdoPowerDescRequest
//  216       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  217 #endif
//  218 
//  219 #if defined ( ZDO_SIMPLEDESC_REQUEST )
//  220     case MT_ZDO_SIMPLE_DESC_REQ:
//  221       MT_ZdoSimpleDescRequest(pBuf);
??MT_ZdoCommandProcessing_4:
        CALLA   #MT_ZdoSimpleDescRequest
//  222       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  223 #endif
//  224 
//  225 #if defined ( ZDO_ACTIVEEP_REQUEST )
//  226     case MT_ZDO_ACTIVE_EP_REQ:
//  227       MT_ZdoActiveEpRequest(pBuf);
??MT_ZdoCommandProcessing_5:
        CALLA   #MT_ZdoActiveEpRequest
//  228       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  229 #endif
//  230 
//  231 #if defined ( ZDO_MATCH_REQUEST )
//  232     case MT_ZDO_MATCH_DESC_REQ:
//  233       MT_ZdoMatchDescRequest(pBuf);
??MT_ZdoCommandProcessing_6:
        CALLA   #MT_ZdoMatchDescRequest
//  234       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  235 #endif
//  236 
//  237 #if defined ( ZDO_COMPLEXDESC_REQUEST )
//  238     case MT_ZDO_COMPLEX_DESC_REQ:
//  239       MT_ZdoComplexDescRequest(pBuf);
??MT_ZdoCommandProcessing_7:
        CALLA   #MT_ZdoComplexDescRequest
//  240       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  241 #endif
//  242 
//  243 #if defined ( ZDO_USERDESC_REQUEST )
//  244     case MT_ZDO_USER_DESC_REQ:
//  245       MT_ZdoUserDescRequest(pBuf);
??MT_ZdoCommandProcessing_8:
        CALLA   #MT_ZdoUserDescRequest
//  246       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  247 #endif
//  248 
//  249 #if defined ( ZDO_ENDDEVICE_ANNCE )
//  250     case MT_ZDO_END_DEV_ANNCE:
//  251       MT_ZdoEndDevAnnce(pBuf);
??MT_ZdoCommandProcessing_9:
        CALLA   #MT_ZdoEndDevAnnce
//  252       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  253 #endif
//  254 
//  255 #if defined ( ZDO_USERDESCSET_REQUEST )
//  256     case MT_ZDO_USER_DESC_SET:
//  257       MT_ZdoUserDescSet(pBuf);
??MT_ZdoCommandProcessing_10:
        CALLA   #MT_ZdoUserDescSet
//  258       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  259 #endif
//  260 
//  261 #if defined ( ZDO_SERVERDISC_REQUEST )
//  262     case MT_ZDO_SERVICE_DISC_REQ:
//  263       MT_ZdoServiceDiscRequest(pBuf);
??MT_ZdoCommandProcessing_11:
        CALLA   #MT_ZdoServiceDiscRequest
//  264       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  265 #endif
//  266 
//  267 #if defined ( ZDO_ENDDEVICEBIND_REQUEST )
//  268     case MT_ZDO_END_DEV_BIND_REQ:
//  269       MT_ZdoEndDevBindRequest(pBuf);
??MT_ZdoCommandProcessing_12:
        CALLA   #MT_ZdoEndDevBindRequest
//  270       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  271 #endif
//  272 
//  273 #if defined ( ZDO_BIND_UNBIND_REQUEST )
//  274     case MT_ZDO_BIND_REQ:
//  275       MT_ZdoBindRequest(pBuf);
??MT_ZdoCommandProcessing_13:
        CALLA   #MT_ZdoBindRequest
//  276       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  277 #endif
//  278 
//  279 #if defined ( ZDO_BIND_UNBIND_REQUEST )
//  280     case MT_ZDO_UNBIND_REQ:
//  281       MT_ZdoUnbindRequest(pBuf);
??MT_ZdoCommandProcessing_14:
        CALLA   #MT_ZdoUnbindRequest
//  282       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  283 #endif
//  284 
//  285 #if defined ( MT_SYS_KEY_MANAGEMENT )
//  286     case MT_ZDO_SET_LINK_KEY:
//  287       MT_ZdoSetLinkKey(pBuf);
//  288       break;
//  289 
//  290     case MT_ZDO_REMOVE_LINK_KEY:
//  291       MT_ZdoRemoveLinkKey(pBuf);
//  292       break;
//  293 
//  294     case MT_ZDO_GET_LINK_KEY:
//  295       MT_ZdoGetLinkKey(pBuf);
//  296       break;
//  297 #endif // MT_SYS_KEY_MANAGEMENT
//  298 
//  299 #if defined ( ZDO_MANUAL_JOIN )
//  300     case MT_ZDO_NWK_DISCOVERY_REQ:
//  301       MT_ZdoNetworkDiscoveryReq(pBuf);
??MT_ZdoCommandProcessing_15:
        CALLA   #MT_ZdoNetworkDiscoveryReq
//  302       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  303 
//  304     case MT_ZDO_JOIN_REQ:
//  305       MT_ZdoJoinReq(pBuf);
??MT_ZdoCommandProcessing_16:
        CALLA   #MT_ZdoJoinReq
//  306       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  307 #endif
//  308 
//  309 #if defined ( ZDO_MGMT_NWKDISC_REQUEST )
//  310     case MT_ZDO_MGMT_NWKDISC_REQ:
//  311       MT_ZdoMgmtNwkDiscRequest(pBuf);
//  312       break;
//  313 #endif
//  314 
//  315 #if defined ( ZDO_MGMT_LQI_REQUEST )
//  316     case MT_ZDO_MGMT_LQI_REQ:
//  317       MT_ZdoMgmtLqiRequest(pBuf);
//  318       break;
//  319 #endif
//  320 
//  321 #if defined ( ZDO_MGMT_RTG_REQUEST )
//  322     case MT_ZDO_MGMT_RTG_REQ:
//  323       MT_ZdoMgmtRtgRequest(pBuf);
//  324       break;
//  325 #endif
//  326 
//  327 #if defined ( ZDO_MGMT_BIND_REQUEST )
//  328     case MT_ZDO_MGMT_BIND_REQ:
//  329       MT_ZdoMgmtBindRequest(pBuf);
//  330       break;
//  331 #endif
//  332 
//  333 #if defined ( ZDO_MGMT_LEAVE_REQUEST )
//  334     case MT_ZDO_MGMT_LEAVE_REQ:
//  335       MT_ZdoMgmtLeaveRequest(pBuf);
//  336       break;
//  337 #endif
//  338 
//  339 #if defined ( ZDO_MGMT_JOINDIRECT_REQUEST )
//  340     case MT_ZDO_MGMT_DIRECT_JOIN_REQ:
//  341       MT_ZdoMgmtDirectJoinRequest(pBuf);
//  342       break;
//  343 #endif
//  344 
//  345 #if defined ( ZDO_MGMT_PERMIT_JOIN_REQUEST )
//  346     case MT_ZDO_MGMT_PERMIT_JOIN_REQ:
//  347       MT_ZdoMgmtPermitJoinRequest(pBuf);
//  348       break;
//  349 #endif
//  350 
//  351 #if defined ( ZDO_MGMT_NWKUPDATE_REQUEST )
//  352     case MT_ZDO_MGMT_NWK_UPDATE_REQ:
//  353       MT_ZdoMgmtNwkUpdateRequest(pBuf);
//  354       break;
//  355 #endif
//  356 
//  357 #if defined ( ZDO_NETWORKSTART_REQUEST )
//  358     case MT_ZDO_STARTUP_FROM_APP:
//  359       MT_ZdoStartupFromApp(pBuf);
??MT_ZdoCommandProcessing_19:
        CALLA   #MT_ZdoStartupFromApp
//  360       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  361 #endif
//  362 
//  363     case MT_ZDO_MSG_CB_REGISTER:
//  364       MT_ZdoRegisterForZDOMsg(pBuf);
??MT_ZdoCommandProcessing_17:
        CALLA   #MT_ZdoRegisterForZDOMsg
//  365       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  366 
//  367     case MT_ZDO_MSG_CB_REMOVE:
//  368       MT_ZdoRemoveRegisteredCB(pBuf);
??MT_ZdoCommandProcessing_18:
        CALLA   #MT_ZdoRemoveRegisteredCB
//  369       break;
        JMP     ??MT_ZdoCommandProcessing_21
//  370 
//  371     default:
//  372       status = MT_RPC_ERR_COMMAND_ID;
??MT_ZdoCommandProcessing_20:
        MOV.B   #0x2, R10
//  373       break;
//  374   }
//  375 
//  376   return status;
??MT_ZdoCommandProcessing_21:
        MOV.B   R10, R12
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock1
//  377 }
//  378 
//  379 /***************************************************************************************************
//  380  * @fn      MT_ZdoNwkAddrReq
//  381  *
//  382  * @brief   Handle a nwk address request.
//  383  *
//  384  * @param   pData  - MT message data
//  385  *
//  386  * @return  void
//  387  ***************************************************************************************************/

        RSEG CODE:CODE:NOROOT(1)
?Subroutine7:
          CFI Block cfiCond2 Using cfiCommon0
          CFI Function MT_ZdoUserDescRequest
          CFI Conditional ??CrossCallReturnLabel_44
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+22
          CFI Block cfiCond3 Using cfiCommon0
          CFI (cfiCond3) Function MT_ZdoComplexDescRequest
          CFI (cfiCond3) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond3) R10L Frame(CFA, -6)
          CFI (cfiCond3) CFA SP+22
          CFI Block cfiCond4 Using cfiCommon0
          CFI (cfiCond4) Function MT_ZdoActiveEpRequest
          CFI (cfiCond4) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond4) R10L Frame(CFA, -6)
          CFI (cfiCond4) CFA SP+22
          CFI Block cfiCond5 Using cfiCommon0
          CFI (cfiCond5) Function MT_ZdoPowerDescRequest
          CFI (cfiCond5) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond5) R10L Frame(CFA, -6)
          CFI (cfiCond5) CFA SP+22
          CFI Block cfiCond6 Using cfiCommon0
          CFI (cfiCond6) Function MT_ZdoNodeDescRequest
          CFI (cfiCond6) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond6) R10L Frame(CFA, -6)
          CFI (cfiCond6) CFA SP+22
          CFI Block cfiCond7 Using cfiCommon0
          CFI (cfiCond7) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond7) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond7) R10L Frame(CFA, -6)
          CFI (cfiCond7) CFA SP+22
          CFI Block cfiCond8 Using cfiCommon0
          CFI (cfiCond8) Function MT_ZdoServiceDiscRequest
          CFI (cfiCond8) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond8) R10L Frame(CFA, -6)
          CFI (cfiCond8) CFA SP+12
          CFI Block cfiCond9 Using cfiCommon0
          CFI (cfiCond9) Function MT_ZdoEndDevAnnce
          CFI (cfiCond9) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond9) R10L Frame(CFA, -6)
          CFI (cfiCond9) CFA SP+12
          CFI Block cfiCond10 Using cfiCommon0
          CFI (cfiCond10) Function MT_ZdoIEEEAddrRequest
          CFI (cfiCond10) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond10) R10L Frame(CFA, -6)
          CFI (cfiCond10) CFA SP+12
          CFI Block cfiCond11 Using cfiCommon0
          CFI (cfiCond11) Function MT_ZdoNWKAddressRequest
          CFI (cfiCond11) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond11) R10L Frame(CFA, -6)
          CFI (cfiCond11) CFA SP+12
          CFI Block cfiPicker12 Using cfiCommon1
          CFI (cfiPicker12) NoFunction
          CFI (cfiPicker12) Picker
//  388 void MT_ZdoNWKAddressRequest(uint8 *pBuf)
//  389 {
//  390   uint8 cmdId;
//  391   uint8 retValue;
//  392   uint8 reqType;
//  393   uint8 startIndex;
//  394   uint8 *pExtAddr;
//  395 
//  396   /* parse header */
//  397   cmdId = pBuf[MT_RPC_POS_CMD1];
//  398   pBuf += MT_RPC_FRAME_HDR_SZ;
//  399 
//  400   /* parse parameters */
//  401   pExtAddr = pBuf;
//  402   pBuf += Z_EXTADDR_LEN;
//  403 
//  404   /* Request type */
//  405   reqType = *pBuf++;
//  406 
//  407   /* Start index */
//  408   startIndex = *pBuf;
//  409 
//  410   retValue = (uint8)ZDP_NwkAddrReq(pExtAddr, reqType, startIndex, 0);
//  411 
//  412   /* Build and send back the response */
//  413   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  414 }
//  415 
//  416 /***************************************************************************************************
//  417  * @fn      MT_ZdoIEEEAddrRequest
//  418  *
//  419  * @brief   Handle a IEEE address request.
//  420  *
//  421  * @param   pData  - MT message data
//  422  *
//  423  * @return  void
//  424  ***************************************************************************************************/
//  425 void MT_ZdoIEEEAddrRequest (uint8 *pBuf)
//  426 {
//  427   uint8 cmdId;
//  428   uint8 retValue;
//  429   uint16 shortAddr;
//  430   uint8 reqType;
//  431   uint8 startIndex;
//  432 
//  433   /* parse header */
//  434   cmdId = pBuf[MT_RPC_POS_CMD1];
//  435   pBuf += MT_RPC_FRAME_HDR_SZ;
//  436 
//  437   /* Dev address */
//  438   shortAddr = BUILD_UINT16(pBuf[0], pBuf[1]);
//  439   pBuf += 2;
//  440 
//  441   /* request type */
//  442   reqType = *pBuf++;
//  443 
//  444   /* start index */
//  445   startIndex = *pBuf;
//  446 
//  447   retValue = (uint8)ZDP_IEEEAddrReq(shortAddr, reqType, startIndex, 0);
//  448 
//  449   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  450 }
//  451 
//  452 /***************************************************************************************************
//  453  * @fn      MT_ZdoNodeDescRequest
//  454  *
//  455  * @brief   Handle a Node Descriptor request.
//  456  *
//  457  * @param   pData  - MT message data
//  458  *
//  459  * @return  void
//  460  ***************************************************************************************************/
//  461 void MT_ZdoNodeDescRequest (uint8 *pBuf)
//  462 {
//  463   uint8 cmdId;
//  464   uint8 retValue;
//  465   zAddrType_t destAddr;
//  466   uint16 shortAddr;
//  467 
//  468   /* parse header */
//  469   cmdId = pBuf[MT_RPC_POS_CMD1];
//  470   pBuf += MT_RPC_FRAME_HDR_SZ;
//  471 
//  472   /* Destination address */
//  473   destAddr.addrMode = Addr16Bit;
//  474   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  475   pBuf += 2;
//  476 
//  477   /* Network address of interest */
//  478   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  479   pBuf += 2;
//  480 
//  481   retValue = (uint8)ZDP_NodeDescReq( &destAddr, shortAddr, 0);
//  482 
//  483   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  484 }
//  485 
//  486 /***************************************************************************************************
//  487  * @fn      MT_ZdoPowerDescRequest
//  488  *
//  489  * @brief   Handle a Power Descriptor request.
//  490  *
//  491  * @param   pData  - MT message data
//  492  *
//  493  * @return  void
//  494  ***************************************************************************************************/
//  495 void MT_ZdoPowerDescRequest(uint8 *pBuf)
//  496 {
//  497   uint8 cmdId;
//  498   uint8 retValue;
//  499   zAddrType_t destAddr;
//  500   uint16 shortAddr;
//  501 
//  502   /* parse header */
//  503   cmdId = pBuf[MT_RPC_POS_CMD1];
//  504   pBuf += MT_RPC_FRAME_HDR_SZ;
//  505 
//  506   /* Dev address */
//  507   destAddr.addrMode = Addr16Bit;
//  508   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  509   pBuf += 2;
//  510 
//  511   /* Network address of interest */
//  512   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  513   pBuf += 2;
//  514 
//  515   retValue = (uint8)ZDP_PowerDescReq( &destAddr, shortAddr, 0);
//  516 
//  517   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  518 }
//  519 
//  520 /***************************************************************************************************
//  521  * @fn      MT_ZdoSimpleDescRequest
//  522  *
//  523  * @brief   Handle a Simple Descriptor request.
//  524  *
//  525  * @param   pBuf  - MT message data
//  526  *
//  527  * @return  void
//  528  ***************************************************************************************************/
//  529 void MT_ZdoSimpleDescRequest(uint8 *pBuf)
//  530 {
//  531   uint8 cmdId;
//  532   uint8 retValue;
//  533   uint8 epInt;
//  534   zAddrType_t destAddr;
//  535   uint16 shortAddr;
//  536 
//  537   /* parse header */
//  538   cmdId = pBuf[MT_RPC_POS_CMD1];
//  539   pBuf += MT_RPC_FRAME_HDR_SZ;
//  540 
//  541   /* Dev address */
//  542   destAddr.addrMode = Addr16Bit;
//  543   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  544   pBuf += 2;
//  545 
//  546   /* Network address of interest */
//  547   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  548   pBuf += 2;
//  549 
//  550   /* endpoint/interface */
//  551   epInt = *pBuf++;
//  552 
//  553   retValue = (uint8)ZDP_SimpleDescReq( &destAddr, shortAddr, epInt, 0);
//  554 
//  555   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  556 }
//  557 
//  558 /***************************************************************************************************
//  559  * @fn      MT_ZdoActiveEpRequest
//  560  *
//  561  * @brief   Handle a Active EP request.
//  562  *
//  563  * @param   pBuf  - MT message data
//  564  *
//  565  * @return  void
//  566  ***************************************************************************************************/
//  567 void MT_ZdoActiveEpRequest(uint8 *pBuf)
//  568 {
//  569   uint8 cmdId;
//  570   uint8 retValue;
//  571   zAddrType_t destAddr;
//  572   uint16 shortAddr;
//  573 
//  574   /* parse header */
//  575   cmdId = pBuf[MT_RPC_POS_CMD1];
//  576   pBuf += MT_RPC_FRAME_HDR_SZ;
//  577 
//  578   /* Dev address */
//  579   destAddr.addrMode = Addr16Bit;
//  580   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  581   pBuf += 2;
//  582 
//  583   /* Network address of interest */
//  584   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  585   pBuf += 2;
//  586 
//  587   retValue = (uint8)ZDP_ActiveEPReq( &destAddr, shortAddr, 0);
//  588 
//  589   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  590 }
//  591 
//  592 /***************************************************************************************************
//  593  * @fn      MT_ZdoMatchDescRequest
//  594  *
//  595  * @brief   Handle a Match Descriptor request.
//  596  *
//  597  * @param   pBuf  - MT message data
//  598  *
//  599  * @return  void
//  600  ***************************************************************************************************/
//  601 void MT_ZdoMatchDescRequest(uint8 *pBuf)
//  602 {
//  603   uint8 cmdId;
//  604   uint8 retValue = 0;
//  605   uint8 i, numInClusters, numOutClusters;
//  606   uint16 profileId;
//  607   zAddrType_t destAddr;
//  608   uint16 shortAddr;
//  609   uint16 inClusters[MTZDO_MAX_MATCH_CLUSTERS], outClusters[MTZDO_MAX_MATCH_CLUSTERS];
//  610 
//  611   /* parse header */
//  612   cmdId = pBuf[MT_RPC_POS_CMD1];
//  613   pBuf += MT_RPC_FRAME_HDR_SZ;
//  614 
//  615   /* Dev address */
//  616   destAddr.addrMode = Addr16Bit;
//  617   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  618   pBuf += 2;
//  619 
//  620   /* Network address of interest */
//  621   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  622   pBuf += 2;
//  623 
//  624   /* Profile ID */
//  625   profileId = BUILD_UINT16( pBuf[0], pBuf[1] );
//  626   pBuf += 2;
//  627 
//  628   /* NumInClusters */
//  629   numInClusters = *pBuf++;
//  630   if ( numInClusters <= MTZDO_MAX_MATCH_CLUSTERS )
//  631   {
//  632     /* IN clusters */
//  633     for ( i = 0; i < numInClusters; i++ )
//  634     {
//  635       inClusters[i] = BUILD_UINT16( pBuf[0], pBuf[1]);
//  636       pBuf += 2;
//  637     }
//  638   }
//  639   else
//  640   {
//  641     retValue = ZDP_INVALID_REQTYPE;
//  642   }
//  643 
//  644   /* NumOutClusters */
//  645   numOutClusters = *pBuf++;
//  646   if ( numOutClusters <= MTZDO_MAX_MATCH_CLUSTERS )
//  647   {
//  648     /* OUT Clusters */
//  649     for ( i = 0; i < numOutClusters; i++ )
//  650     {
//  651       outClusters[i] = BUILD_UINT16( pBuf[0], pBuf[1]);
//  652       pBuf += 2;
//  653     }
//  654   }
//  655   else
//  656   {
//  657     retValue = ZDP_INVALID_REQTYPE;
//  658   }
//  659 
//  660   if ( retValue == 0 )
//  661   {
//  662     retValue = (uint8)ZDP_MatchDescReq( &destAddr, shortAddr, profileId, numInClusters,
//  663                                        inClusters, numOutClusters, outClusters, 0);
//  664   }
//  665 
//  666   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  667 }
//  668 
//  669 /***************************************************************************************************
//  670  * @fn      MT_ZdoComplexDescRequest
//  671  *
//  672  * @brief   Handle a Complex Descriptor request.
//  673  *
//  674  * @param   pBuf  - MT message data
//  675  *
//  676  * @return  void
//  677  ***************************************************************************************************/
//  678 void MT_ZdoComplexDescRequest(uint8 *pBuf)
//  679 {
//  680   uint8 cmdId;
//  681   uint8 retValue;
//  682   zAddrType_t destAddr;
//  683   uint16 shortAddr;
//  684 
//  685   /* parse header */
//  686   cmdId = pBuf[MT_RPC_POS_CMD1];
//  687   pBuf += MT_RPC_FRAME_HDR_SZ;
//  688 
//  689   /* Dev address */
//  690   destAddr.addrMode = Addr16Bit;
//  691   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  692   pBuf += 2;
//  693 
//  694   /* Network address of interest */
//  695   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  696   pBuf += 2;
//  697 
//  698   retValue = (uint8)ZDP_ComplexDescReq( &destAddr, shortAddr, 0);
//  699 
//  700   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  701 }
//  702 
//  703 /***************************************************************************************************
//  704  * @fn      MT_ZdoUserDescRequest
//  705  *
//  706  * @brief   Handle a User Descriptor request.
//  707  *
//  708  * @param   pBuf  - MT message data
//  709  *
//  710  * @return  void
//  711  ***************************************************************************************************/
//  712 void MT_ZdoUserDescRequest(uint8 *pBuf)
//  713 {
//  714   uint8 cmdId;
//  715   uint8 retValue;
//  716   zAddrType_t destAddr;
//  717   uint16 shortAddr;
//  718 
//  719   /* parse header */
//  720   cmdId = pBuf[MT_RPC_POS_CMD1];
//  721   pBuf += MT_RPC_FRAME_HDR_SZ;
//  722 
//  723   /* Dev address */
//  724   destAddr.addrMode = Addr16Bit;
//  725   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
//  726   pBuf += 2;
//  727 
//  728   /* Network address of interest */
//  729   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
//  730   pBuf += 2;
//  731 
//  732   retValue = (uint8)ZDP_UserDescReq( &destAddr, shortAddr, 0);
//  733 
//  734   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  735 }
//  736 
//  737 /***************************************************************************************************
//  738  * @fn      MT_ZdoEndDevAnnce
//  739  *
//  740  * @brief   Handle a End Device Announce Descriptor request.
//  741  *
//  742  * @param   pBuf  - MT message data
//  743  *
//  744  * @return  void
//  745  ***************************************************************************************************/
//  746 void MT_ZdoEndDevAnnce(uint8 *pBuf)
//  747 {
//  748   uint8 cmdId;
//  749   uint8 retValue;
//  750   uint16 shortAddr;
//  751   uint8 *pIEEEAddr;
//  752 
//  753   /* parse header */
//  754   cmdId = pBuf[MT_RPC_POS_CMD1];
//  755   pBuf += MT_RPC_FRAME_HDR_SZ;
//  756 
//  757   /* network address */
//  758   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  759   pBuf += 2;
//  760 
//  761   /* extended address */
//  762   pIEEEAddr = pBuf;
//  763   pBuf += Z_EXTADDR_LEN;
//  764 
//  765   retValue = (uint8)ZDP_DeviceAnnce( shortAddr, pIEEEAddr, *pBuf, 0);
        MOV.B   R12, 0x4(SP)
          CFI EndBlock cfiCond2
          CFI EndBlock cfiCond3
          CFI EndBlock cfiCond4
          CFI EndBlock cfiCond5
          CFI EndBlock cfiCond6
          CFI EndBlock cfiCond7
          CFI EndBlock cfiCond8
          CFI EndBlock cfiCond9
          CFI EndBlock cfiCond10
          CFI EndBlock cfiCond11
          CFI EndBlock cfiPicker12
//  766 
//  767   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        REQUIRE ??Subroutine7_0
        // Fall through to label ??Subroutine7_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine7_0:
          CFI Block cfiCond13 Using cfiCommon0
          CFI Function MT_ZdoNetworkDiscoveryReq
          CFI Conditional ??CrossCallReturnLabel_42
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+14
          CFI Block cfiCond14 Using cfiCommon0
          CFI (cfiCond14) Function MT_ZdoRemoveRegisteredCB
          CFI (cfiCond14) Conditional ??Subroutine1_0
          CFI (cfiCond14) R10L Frame(CFA, -8)
          CFI (cfiCond14) R11L Frame(CFA, -6)
          CFI (cfiCond14) CFA SP+14
          CFI Block cfiCond15 Using cfiCommon0
          CFI (cfiCond15) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond15) Conditional ??Subroutine1_0
          CFI (cfiCond15) R10L Frame(CFA, -8)
          CFI (cfiCond15) R11L Frame(CFA, -6)
          CFI (cfiCond15) CFA SP+14
          CFI Block cfiCond16 Using cfiCommon0
          CFI (cfiCond16) Function MT_ZdoStartupFromApp
          CFI (cfiCond16) Conditional ??Subroutine1_0
          CFI (cfiCond16) R10L Frame(CFA, -8)
          CFI (cfiCond16) R11L Frame(CFA, -6)
          CFI (cfiCond16) CFA SP+14
          CFI Block cfiCond17 Using cfiCommon0
          CFI (cfiCond17) Function MT_ZdoEndDevBindRequest
          CFI (cfiCond17) Conditional ??CrossCallReturnLabel_41
          CFI (cfiCond17) R6L Frame(CFA, -16)
          CFI (cfiCond17) R7L Frame(CFA, -14)
          CFI (cfiCond17) R8L Frame(CFA, -12)
          CFI (cfiCond17) R9L Frame(CFA, -10)
          CFI (cfiCond17) R10L Frame(CFA, -8)
          CFI (cfiCond17) R11L Frame(CFA, -6)
          CFI (cfiCond17) CFA SP+92
          CFI Block cfiCond18 Using cfiCommon0
          CFI (cfiCond18) Function MT_ZdoMatchDescRequest
          CFI (cfiCond18) Conditional ??CrossCallReturnLabel_40
          CFI (cfiCond18) R6L Frame(CFA, -16)
          CFI (cfiCond18) R7L Frame(CFA, -14)
          CFI (cfiCond18) R8L Frame(CFA, -12)
          CFI (cfiCond18) R9L Frame(CFA, -10)
          CFI (cfiCond18) R10L Frame(CFA, -8)
          CFI (cfiCond18) R11L Frame(CFA, -6)
          CFI (cfiCond18) CFA SP+96
          CFI Block cfiCond19 Using cfiCommon0
          CFI (cfiCond19) Function MT_ZdoUserDescRequest
          CFI (cfiCond19) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond19) R10L Frame(CFA, -6)
          CFI (cfiCond19) CFA SP+22
          CFI Block cfiCond20 Using cfiCommon0
          CFI (cfiCond20) Function MT_ZdoComplexDescRequest
          CFI (cfiCond20) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond20) R10L Frame(CFA, -6)
          CFI (cfiCond20) CFA SP+22
          CFI Block cfiCond21 Using cfiCommon0
          CFI (cfiCond21) Function MT_ZdoActiveEpRequest
          CFI (cfiCond21) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond21) R10L Frame(CFA, -6)
          CFI (cfiCond21) CFA SP+22
          CFI Block cfiCond22 Using cfiCommon0
          CFI (cfiCond22) Function MT_ZdoPowerDescRequest
          CFI (cfiCond22) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond22) R10L Frame(CFA, -6)
          CFI (cfiCond22) CFA SP+22
          CFI Block cfiCond23 Using cfiCommon0
          CFI (cfiCond23) Function MT_ZdoNodeDescRequest
          CFI (cfiCond23) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond23) R10L Frame(CFA, -6)
          CFI (cfiCond23) CFA SP+22
          CFI Block cfiCond24 Using cfiCommon0
          CFI (cfiCond24) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond24) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond24) R10L Frame(CFA, -6)
          CFI (cfiCond24) CFA SP+22
          CFI Block cfiCond25 Using cfiCommon0
          CFI (cfiCond25) Function MT_ZdoServiceDiscRequest
          CFI (cfiCond25) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond25) R10L Frame(CFA, -6)
          CFI (cfiCond25) CFA SP+12
          CFI Block cfiCond26 Using cfiCommon0
          CFI (cfiCond26) Function MT_ZdoEndDevAnnce
          CFI (cfiCond26) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond26) R10L Frame(CFA, -6)
          CFI (cfiCond26) CFA SP+12
          CFI Block cfiCond27 Using cfiCommon0
          CFI (cfiCond27) Function MT_ZdoIEEEAddrRequest
          CFI (cfiCond27) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond27) R10L Frame(CFA, -6)
          CFI (cfiCond27) CFA SP+12
          CFI Block cfiCond28 Using cfiCommon0
          CFI (cfiCond28) Function MT_ZdoNWKAddressRequest
          CFI (cfiCond28) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond28) R10L Frame(CFA, -6)
          CFI (cfiCond28) CFA SP+12
          CFI Block cfiPicker29 Using cfiCommon1
          CFI (cfiPicker29) NoFunction
          CFI (cfiPicker29) Picker
        MOV.W   SP, R15
        ADD.W   #0x4, R15
          CFI EndBlock cfiCond13
          CFI EndBlock cfiCond14
          CFI EndBlock cfiCond15
          CFI EndBlock cfiCond16
          CFI EndBlock cfiCond17
          CFI EndBlock cfiCond18
          CFI EndBlock cfiCond19
          CFI EndBlock cfiCond20
          CFI EndBlock cfiCond21
          CFI EndBlock cfiCond22
          CFI EndBlock cfiCond23
          CFI EndBlock cfiCond24
          CFI EndBlock cfiCond25
          CFI EndBlock cfiCond26
          CFI EndBlock cfiCond27
          CFI EndBlock cfiCond28
          CFI EndBlock cfiPicker29
        REQUIRE ??Subroutine7_1
        // Fall through to label ??Subroutine7_1

        RSEG CODE:CODE:NOROOT(1)
??Subroutine7_1:
          CFI Block cfiCond30 Using cfiCommon0
          CFI Function MT_ZdoJoinReq
          CFI Conditional ??CrossCallReturnLabel_39
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+18
          CFI Block cfiCond31 Using cfiCommon0
          CFI (cfiCond31) Function MT_ZdoUserDescSet
          CFI (cfiCond31) Conditional ??CrossCallReturnLabel_38
          CFI (cfiCond31) R10L Frame(CFA, -8)
          CFI (cfiCond31) R11L Frame(CFA, -6)
          CFI (cfiCond31) CFA SP+40
          CFI Block cfiCond32 Using cfiCommon0
          CFI (cfiCond32) Function MT_ZdoNetworkDiscoveryReq
          CFI (cfiCond32) Conditional ??CrossCallReturnLabel_42
          CFI (cfiCond32) R10L Frame(CFA, -8)
          CFI (cfiCond32) R11L Frame(CFA, -6)
          CFI (cfiCond32) CFA SP+14
          CFI Block cfiCond33 Using cfiCommon0
          CFI (cfiCond33) Function MT_ZdoRemoveRegisteredCB
          CFI (cfiCond33) Conditional ??Subroutine1_0
          CFI (cfiCond33) R10L Frame(CFA, -8)
          CFI (cfiCond33) R11L Frame(CFA, -6)
          CFI (cfiCond33) CFA SP+14
          CFI Block cfiCond34 Using cfiCommon0
          CFI (cfiCond34) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond34) Conditional ??Subroutine1_0
          CFI (cfiCond34) R10L Frame(CFA, -8)
          CFI (cfiCond34) R11L Frame(CFA, -6)
          CFI (cfiCond34) CFA SP+14
          CFI Block cfiCond35 Using cfiCommon0
          CFI (cfiCond35) Function MT_ZdoStartupFromApp
          CFI (cfiCond35) Conditional ??Subroutine1_0
          CFI (cfiCond35) R10L Frame(CFA, -8)
          CFI (cfiCond35) R11L Frame(CFA, -6)
          CFI (cfiCond35) CFA SP+14
          CFI Block cfiCond36 Using cfiCommon0
          CFI (cfiCond36) Function MT_ZdoEndDevBindRequest
          CFI (cfiCond36) Conditional ??CrossCallReturnLabel_41
          CFI (cfiCond36) R6L Frame(CFA, -16)
          CFI (cfiCond36) R7L Frame(CFA, -14)
          CFI (cfiCond36) R8L Frame(CFA, -12)
          CFI (cfiCond36) R9L Frame(CFA, -10)
          CFI (cfiCond36) R10L Frame(CFA, -8)
          CFI (cfiCond36) R11L Frame(CFA, -6)
          CFI (cfiCond36) CFA SP+92
          CFI Block cfiCond37 Using cfiCommon0
          CFI (cfiCond37) Function MT_ZdoMatchDescRequest
          CFI (cfiCond37) Conditional ??CrossCallReturnLabel_40
          CFI (cfiCond37) R6L Frame(CFA, -16)
          CFI (cfiCond37) R7L Frame(CFA, -14)
          CFI (cfiCond37) R8L Frame(CFA, -12)
          CFI (cfiCond37) R9L Frame(CFA, -10)
          CFI (cfiCond37) R10L Frame(CFA, -8)
          CFI (cfiCond37) R11L Frame(CFA, -6)
          CFI (cfiCond37) CFA SP+96
          CFI Block cfiCond38 Using cfiCommon0
          CFI (cfiCond38) Function MT_ZdoUserDescRequest
          CFI (cfiCond38) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond38) R10L Frame(CFA, -6)
          CFI (cfiCond38) CFA SP+22
          CFI Block cfiCond39 Using cfiCommon0
          CFI (cfiCond39) Function MT_ZdoComplexDescRequest
          CFI (cfiCond39) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond39) R10L Frame(CFA, -6)
          CFI (cfiCond39) CFA SP+22
          CFI Block cfiCond40 Using cfiCommon0
          CFI (cfiCond40) Function MT_ZdoActiveEpRequest
          CFI (cfiCond40) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond40) R10L Frame(CFA, -6)
          CFI (cfiCond40) CFA SP+22
          CFI Block cfiCond41 Using cfiCommon0
          CFI (cfiCond41) Function MT_ZdoPowerDescRequest
          CFI (cfiCond41) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond41) R10L Frame(CFA, -6)
          CFI (cfiCond41) CFA SP+22
          CFI Block cfiCond42 Using cfiCommon0
          CFI (cfiCond42) Function MT_ZdoNodeDescRequest
          CFI (cfiCond42) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond42) R10L Frame(CFA, -6)
          CFI (cfiCond42) CFA SP+22
          CFI Block cfiCond43 Using cfiCommon0
          CFI (cfiCond43) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond43) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond43) R10L Frame(CFA, -6)
          CFI (cfiCond43) CFA SP+22
          CFI Block cfiCond44 Using cfiCommon0
          CFI (cfiCond44) Function MT_ZdoServiceDiscRequest
          CFI (cfiCond44) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond44) R10L Frame(CFA, -6)
          CFI (cfiCond44) CFA SP+12
          CFI Block cfiCond45 Using cfiCommon0
          CFI (cfiCond45) Function MT_ZdoEndDevAnnce
          CFI (cfiCond45) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond45) R10L Frame(CFA, -6)
          CFI (cfiCond45) CFA SP+12
          CFI Block cfiCond46 Using cfiCommon0
          CFI (cfiCond46) Function MT_ZdoIEEEAddrRequest
          CFI (cfiCond46) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond46) R10L Frame(CFA, -6)
          CFI (cfiCond46) CFA SP+12
          CFI Block cfiCond47 Using cfiCommon0
          CFI (cfiCond47) Function MT_ZdoNWKAddressRequest
          CFI (cfiCond47) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond47) R10L Frame(CFA, -6)
          CFI (cfiCond47) CFA SP+12
          CFI Block cfiPicker48 Using cfiCommon1
          CFI (cfiPicker48) NoFunction
          CFI (cfiPicker48) Picker
//  768 }
//  769 
//  770 /***************************************************************************************************
//  771  * @fn      MT_ZdoUserDescSet
//  772  *
//  773  * @brief   Handle a User Descriptor Set.
//  774  *
//  775  * @param   pBuf  - MT message data
//  776  *
//  777  * @return  void
//  778  ***************************************************************************************************/
//  779 void MT_ZdoUserDescSet(uint8 *pBuf)
//  780 {
//  781   uint8 cmdId;
//  782   uint8 retValue;
//  783   zAddrType_t destAddr;
//  784   uint16 shortAddr;
//  785   UserDescriptorFormat_t userDesc;
//  786 
//  787   /* parse header */
//  788   cmdId = pBuf[MT_RPC_POS_CMD1];
//  789   pBuf += MT_RPC_FRAME_HDR_SZ;
//  790 
//  791   /* Dev address */
//  792   destAddr.addrMode = Addr16Bit;
//  793   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  794   pBuf += 2;
//  795 
//  796   /* Network address of interest */
//  797   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  798   pBuf += 2;
//  799 
//  800   /* User descriptor */
//  801   userDesc.len = *pBuf++;
//  802   osal_memcpy( userDesc.desc, pBuf, userDesc.len );
//  803   pBuf += 16;
//  804 
//  805   retValue = (uint8)ZDP_UserDescSet( &destAddr, shortAddr, &userDesc, 0);
//  806 
//  807   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
        MOV.B   #0x1, R14
        MOV.B   R10, R13
          CFI EndBlock cfiCond30
          CFI EndBlock cfiCond31
          CFI EndBlock cfiCond32
          CFI EndBlock cfiCond33
          CFI EndBlock cfiCond34
          CFI EndBlock cfiCond35
          CFI EndBlock cfiCond36
          CFI EndBlock cfiCond37
          CFI EndBlock cfiCond38
          CFI EndBlock cfiCond39
          CFI EndBlock cfiCond40
          CFI EndBlock cfiCond41
          CFI EndBlock cfiCond42
          CFI EndBlock cfiCond43
          CFI EndBlock cfiCond44
          CFI EndBlock cfiCond45
          CFI EndBlock cfiCond46
          CFI EndBlock cfiCond47
          CFI EndBlock cfiPicker48
        REQUIRE ??Subroutine21_0
        // Fall through to label ??Subroutine21_0

        RSEG CODE:CODE:REORDER:NOROOT(1)
??Subroutine21_0:
          CFI Block cfiCond49 Using cfiCommon0
          CFI Function MT_ZdoUnbindRequest
          CFI Conditional ??CrossCallReturnLabel_37
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+50
          CFI Block cfiCond50 Using cfiCommon0
          CFI (cfiCond50) Function MT_ZdoBindRequest
          CFI (cfiCond50) Conditional ??CrossCallReturnLabel_37
          CFI (cfiCond50) R6L Frame(CFA, -16)
          CFI (cfiCond50) R7L Frame(CFA, -14)
          CFI (cfiCond50) R8L Frame(CFA, -12)
          CFI (cfiCond50) R9L Frame(CFA, -10)
          CFI (cfiCond50) R10L Frame(CFA, -8)
          CFI (cfiCond50) R11L Frame(CFA, -6)
          CFI (cfiCond50) CFA SP+50
          CFI Block cfiCond51 Using cfiCommon0
          CFI (cfiCond51) Function MT_ZdoJoinReq
          CFI (cfiCond51) Conditional ??CrossCallReturnLabel_39
          CFI (cfiCond51) R10L Frame(CFA, -8)
          CFI (cfiCond51) R11L Frame(CFA, -6)
          CFI (cfiCond51) CFA SP+18
          CFI Block cfiCond52 Using cfiCommon0
          CFI (cfiCond52) Function MT_ZdoUserDescSet
          CFI (cfiCond52) Conditional ??CrossCallReturnLabel_38
          CFI (cfiCond52) R10L Frame(CFA, -8)
          CFI (cfiCond52) R11L Frame(CFA, -6)
          CFI (cfiCond52) CFA SP+40
          CFI Block cfiCond53 Using cfiCommon0
          CFI (cfiCond53) Function MT_ZdoNetworkDiscoveryReq
          CFI (cfiCond53) Conditional ??CrossCallReturnLabel_42
          CFI (cfiCond53) R10L Frame(CFA, -8)
          CFI (cfiCond53) R11L Frame(CFA, -6)
          CFI (cfiCond53) CFA SP+14
          CFI Block cfiCond54 Using cfiCommon0
          CFI (cfiCond54) Function MT_ZdoRemoveRegisteredCB
          CFI (cfiCond54) Conditional ??Subroutine1_0
          CFI (cfiCond54) R10L Frame(CFA, -8)
          CFI (cfiCond54) R11L Frame(CFA, -6)
          CFI (cfiCond54) CFA SP+14
          CFI Block cfiCond55 Using cfiCommon0
          CFI (cfiCond55) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond55) Conditional ??Subroutine1_0
          CFI (cfiCond55) R10L Frame(CFA, -8)
          CFI (cfiCond55) R11L Frame(CFA, -6)
          CFI (cfiCond55) CFA SP+14
          CFI Block cfiCond56 Using cfiCommon0
          CFI (cfiCond56) Function MT_ZdoStartupFromApp
          CFI (cfiCond56) Conditional ??Subroutine1_0
          CFI (cfiCond56) R10L Frame(CFA, -8)
          CFI (cfiCond56) R11L Frame(CFA, -6)
          CFI (cfiCond56) CFA SP+14
          CFI Block cfiCond57 Using cfiCommon0
          CFI (cfiCond57) Function MT_ZdoEndDevBindRequest
          CFI (cfiCond57) Conditional ??CrossCallReturnLabel_41
          CFI (cfiCond57) R6L Frame(CFA, -16)
          CFI (cfiCond57) R7L Frame(CFA, -14)
          CFI (cfiCond57) R8L Frame(CFA, -12)
          CFI (cfiCond57) R9L Frame(CFA, -10)
          CFI (cfiCond57) R10L Frame(CFA, -8)
          CFI (cfiCond57) R11L Frame(CFA, -6)
          CFI (cfiCond57) CFA SP+92
          CFI Block cfiCond58 Using cfiCommon0
          CFI (cfiCond58) Function MT_ZdoMatchDescRequest
          CFI (cfiCond58) Conditional ??CrossCallReturnLabel_40
          CFI (cfiCond58) R6L Frame(CFA, -16)
          CFI (cfiCond58) R7L Frame(CFA, -14)
          CFI (cfiCond58) R8L Frame(CFA, -12)
          CFI (cfiCond58) R9L Frame(CFA, -10)
          CFI (cfiCond58) R10L Frame(CFA, -8)
          CFI (cfiCond58) R11L Frame(CFA, -6)
          CFI (cfiCond58) CFA SP+96
          CFI Block cfiCond59 Using cfiCommon0
          CFI (cfiCond59) Function MT_ZdoUserDescRequest
          CFI (cfiCond59) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond59) R10L Frame(CFA, -6)
          CFI (cfiCond59) CFA SP+22
          CFI Block cfiCond60 Using cfiCommon0
          CFI (cfiCond60) Function MT_ZdoComplexDescRequest
          CFI (cfiCond60) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond60) R10L Frame(CFA, -6)
          CFI (cfiCond60) CFA SP+22
          CFI Block cfiCond61 Using cfiCommon0
          CFI (cfiCond61) Function MT_ZdoActiveEpRequest
          CFI (cfiCond61) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond61) R10L Frame(CFA, -6)
          CFI (cfiCond61) CFA SP+22
          CFI Block cfiCond62 Using cfiCommon0
          CFI (cfiCond62) Function MT_ZdoPowerDescRequest
          CFI (cfiCond62) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond62) R10L Frame(CFA, -6)
          CFI (cfiCond62) CFA SP+22
          CFI Block cfiCond63 Using cfiCommon0
          CFI (cfiCond63) Function MT_ZdoNodeDescRequest
          CFI (cfiCond63) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond63) R10L Frame(CFA, -6)
          CFI (cfiCond63) CFA SP+22
          CFI Block cfiCond64 Using cfiCommon0
          CFI (cfiCond64) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond64) Conditional ??CrossCallReturnLabel_44
          CFI (cfiCond64) R10L Frame(CFA, -6)
          CFI (cfiCond64) CFA SP+22
          CFI Block cfiCond65 Using cfiCommon0
          CFI (cfiCond65) Function MT_ZdoServiceDiscRequest
          CFI (cfiCond65) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond65) R10L Frame(CFA, -6)
          CFI (cfiCond65) CFA SP+12
          CFI Block cfiCond66 Using cfiCommon0
          CFI (cfiCond66) Function MT_ZdoEndDevAnnce
          CFI (cfiCond66) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond66) R10L Frame(CFA, -6)
          CFI (cfiCond66) CFA SP+12
          CFI Block cfiCond67 Using cfiCommon0
          CFI (cfiCond67) Function MT_ZdoIEEEAddrRequest
          CFI (cfiCond67) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond67) R10L Frame(CFA, -6)
          CFI (cfiCond67) CFA SP+12
          CFI Block cfiCond68 Using cfiCommon0
          CFI (cfiCond68) Function MT_ZdoNWKAddressRequest
          CFI (cfiCond68) Conditional ??CrossCallReturnLabel_43
          CFI (cfiCond68) R10L Frame(CFA, -6)
          CFI (cfiCond68) CFA SP+12
          CFI Block cfiPicker69 Using cfiCommon1
          CFI (cfiPicker69) NoFunction
          CFI (cfiPicker69) Picker
        MOV.B   #0x65, R12
        BRA     #MT_BuildAndSendZToolResponse
          CFI EndBlock cfiCond49
          CFI EndBlock cfiCond50
          CFI EndBlock cfiCond51
          CFI EndBlock cfiCond52
          CFI EndBlock cfiCond53
          CFI EndBlock cfiCond54
          CFI EndBlock cfiCond55
          CFI EndBlock cfiCond56
          CFI EndBlock cfiCond57
          CFI EndBlock cfiCond58
          CFI EndBlock cfiCond59
          CFI EndBlock cfiCond60
          CFI EndBlock cfiCond61
          CFI EndBlock cfiCond62
          CFI EndBlock cfiCond63
          CFI EndBlock cfiCond64
          CFI EndBlock cfiCond65
          CFI EndBlock cfiCond66
          CFI EndBlock cfiCond67
          CFI EndBlock cfiCond68
          CFI EndBlock cfiPicker69

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoServiceDiscRequest:
          CFI Block cfiBlock70 Using cfiCommon0
          CFI Function MT_ZdoServiceDiscRequest
        FUNCALL MT_ZdoServiceDiscRequest, ZDP_ServerDiscReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoServiceDiscRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        CALLA   #?Subroutine15
??CrossCallReturnLabel_21:
        MOV.B   #0x0, R13
        MOV.B   @R12, R15
        MOV.B   0x1(R12), R14
        RPT     #0x8
        RLAX.W  R14
        ADD.W   R14, R15
        MOV.W   R15, R12
        CALLA   #ZDP_ServerDiscReq
        JMP     ?Subroutine3
          CFI EndBlock cfiBlock70

        RSEG CODE:CODE:NOROOT(1)
?Subroutine15:
          CFI Block cfiCond71 Using cfiCommon0
          CFI Function MT_ZdoRemoveRegisteredCB
          CFI Conditional ??CrossCallReturnLabel_19, ??CrossCallReturnLabel_0
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+18
          CFI Block cfiCond72 Using cfiCommon0
          CFI (cfiCond72) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond72) Conditional ??CrossCallReturnLabel_19, ??CrossCallReturnLabel_1
          CFI (cfiCond72) R10L Frame(CFA, -8)
          CFI (cfiCond72) R11L Frame(CFA, -6)
          CFI (cfiCond72) CFA SP+18
          CFI Block cfiCond73 Using cfiCommon0
          CFI (cfiCond73) Function MT_ZdoJoinReq
          CFI (cfiCond73) Conditional ??CrossCallReturnLabel_20
          CFI (cfiCond73) R10L Frame(CFA, -8)
          CFI (cfiCond73) R11L Frame(CFA, -6)
          CFI (cfiCond73) CFA SP+14
          CFI Block cfiCond74 Using cfiCommon0
          CFI (cfiCond74) Function MT_ZdoServiceDiscRequest
          CFI (cfiCond74) Conditional ??CrossCallReturnLabel_21
          CFI (cfiCond74) R10L Frame(CFA, -6)
          CFI (cfiCond74) CFA SP+12
          CFI Block cfiCond75 Using cfiCommon0
          CFI (cfiCond75) Function MT_ZdoUserDescSet
          CFI (cfiCond75) Conditional ??CrossCallReturnLabel_22
          CFI (cfiCond75) R10L Frame(CFA, -8)
          CFI (cfiCond75) R11L Frame(CFA, -6)
          CFI (cfiCond75) CFA SP+40
          CFI Block cfiCond76 Using cfiCommon0
          CFI (cfiCond76) Function MT_ZdoUserDescRequest
          CFI (cfiCond76) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_4
          CFI (cfiCond76) R10L Frame(CFA, -6)
          CFI (cfiCond76) CFA SP+26
          CFI Block cfiCond77 Using cfiCommon0
          CFI (cfiCond77) Function MT_ZdoComplexDescRequest
          CFI (cfiCond77) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_5
          CFI (cfiCond77) R10L Frame(CFA, -6)
          CFI (cfiCond77) CFA SP+26
          CFI Block cfiCond78 Using cfiCommon0
          CFI (cfiCond78) Function MT_ZdoActiveEpRequest
          CFI (cfiCond78) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_6
          CFI (cfiCond78) R10L Frame(CFA, -6)
          CFI (cfiCond78) CFA SP+26
          CFI Block cfiCond79 Using cfiCommon0
          CFI (cfiCond79) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond79) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_7
          CFI (cfiCond79) R10L Frame(CFA, -6)
          CFI (cfiCond79) CFA SP+26
          CFI Block cfiCond80 Using cfiCommon0
          CFI (cfiCond80) Function MT_ZdoPowerDescRequest
          CFI (cfiCond80) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_8
          CFI (cfiCond80) R10L Frame(CFA, -6)
          CFI (cfiCond80) CFA SP+26
          CFI Block cfiCond81 Using cfiCommon0
          CFI (cfiCond81) Function MT_ZdoNodeDescRequest
          CFI (cfiCond81) Conditional ??CrossCallReturnLabel_23, ??CrossCallReturnLabel_9
          CFI (cfiCond81) R10L Frame(CFA, -6)
          CFI (cfiCond81) CFA SP+26
          CFI Block cfiPicker82 Using cfiCommon1
          CFI (cfiPicker82) NoFunction
          CFI (cfiPicker82) Picker
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R12
        RETA
          CFI EndBlock cfiCond71
          CFI EndBlock cfiCond72
          CFI EndBlock cfiCond73
          CFI EndBlock cfiCond74
          CFI EndBlock cfiCond75
          CFI EndBlock cfiCond76
          CFI EndBlock cfiCond77
          CFI EndBlock cfiCond78
          CFI EndBlock cfiCond79
          CFI EndBlock cfiCond80
          CFI EndBlock cfiCond81
          CFI EndBlock cfiPicker82

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoUserDescSet:
          CFI Block cfiBlock83 Using cfiCommon0
          CFI Function MT_ZdoUserDescSet
        FUNCALL MT_ZdoUserDescSet, osal_memcpy
        LOCFRAME CSTACK, 36, STACK
        FUNCALL MT_ZdoUserDescSet, ZDP_UserDescSet
        LOCFRAME CSTACK, 36, STACK
        FUNCALL MT_ZdoUserDescSet, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 36, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x1c, SP
          CFI CFA SP+36
        CALLA   #?Subroutine15
??CrossCallReturnLabel_22:
        MOV.B   #0x2, 0x8(SP)
        CALLA   #?Subroutine13
??CrossCallReturnLabel_14:
        MOV.W   R11, 0(SP)
        ADD.W   #0x2, R12
        CALLA   #?Subroutine13
??CrossCallReturnLabel_15:
        ADD.W   #0x2, R12
        MOV.B   @R12+, 0xb(SP)
        MOV.B   0xb(SP), R14
        MOV.W   R12, R13
        MOV.W   SP, R12
        ADD.W   #0xc, R12
        CALLA   #osal_memcpy
        MOV.B   #0x0, R15
        MOV.W   SP, R14
        ADD.W   #0xb, R14
        MOV.W   R11, R13
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #ZDP_UserDescSet
        MOV.B   R12, 0xa(SP)
        MOV.W   SP, R15
        ADD.W   #0xa, R15
        CALLA   #??Subroutine7_1
??CrossCallReturnLabel_38:
        ADD.W   #0x1c, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock83

        RSEG CODE:CODE:NOROOT(1)
?Subroutine13:
          CFI Block cfiCond84 Using cfiCommon0
          CFI Function MT_ZdoUserDescSet
          CFI Conditional ??CrossCallReturnLabel_14
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+40
          CFI Block cfiCond85 Using cfiCommon0
          CFI (cfiCond85) Function MT_ZdoUserDescSet
          CFI (cfiCond85) Conditional ??CrossCallReturnLabel_15
          CFI (cfiCond85) R10L Frame(CFA, -8)
          CFI (cfiCond85) R11L Frame(CFA, -6)
          CFI (cfiCond85) CFA SP+40
          CFI Block cfiPicker86 Using cfiCommon1
          CFI (cfiPicker86) NoFunction
          CFI (cfiPicker86) Picker
        MOV.B   @R12, R11
        CALLA   #?Subroutine16
??CrossCallReturnLabel_26:
        ADD.W   R15, R11
        RETA
          CFI EndBlock cfiCond84
          CFI EndBlock cfiCond85
          CFI EndBlock cfiPicker86

        RSEG CODE:CODE:NOROOT(1)
?Subroutine16:
          CFI Block cfiCond87 Using cfiCommon0
          CFI Function MT_ZdoRemoveRegisteredCB
          CFI Conditional ??CrossCallReturnLabel_24, ??CrossCallReturnLabel_0
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+18
          CFI Block cfiCond88 Using cfiCommon0
          CFI (cfiCond88) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond88) Conditional ??CrossCallReturnLabel_24, ??CrossCallReturnLabel_1
          CFI (cfiCond88) R10L Frame(CFA, -8)
          CFI (cfiCond88) R11L Frame(CFA, -6)
          CFI (cfiCond88) CFA SP+18
          CFI Block cfiCond89 Using cfiCommon0
          CFI (cfiCond89) Function MT_ZdoUserDescSet
          CFI (cfiCond89) Conditional ??CrossCallReturnLabel_26, ??CrossCallReturnLabel_14
          CFI (cfiCond89) R10L Frame(CFA, -8)
          CFI (cfiCond89) R11L Frame(CFA, -6)
          CFI (cfiCond89) CFA SP+44
          CFI Block cfiCond90 Using cfiCommon0
          CFI (cfiCond90) Function MT_ZdoUserDescSet
          CFI (cfiCond90) Conditional ??CrossCallReturnLabel_26, ??CrossCallReturnLabel_15
          CFI (cfiCond90) R10L Frame(CFA, -8)
          CFI (cfiCond90) R11L Frame(CFA, -6)
          CFI (cfiCond90) CFA SP+44
          CFI Block cfiCond91 Using cfiCommon0
          CFI (cfiCond91) Function MT_ZdoUserDescRequest
          CFI (cfiCond91) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_4
          CFI (cfiCond91) R10L Frame(CFA, -6)
          CFI (cfiCond91) CFA SP+26
          CFI Block cfiCond92 Using cfiCommon0
          CFI (cfiCond92) Function MT_ZdoComplexDescRequest
          CFI (cfiCond92) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_5
          CFI (cfiCond92) R10L Frame(CFA, -6)
          CFI (cfiCond92) CFA SP+26
          CFI Block cfiCond93 Using cfiCommon0
          CFI (cfiCond93) Function MT_ZdoActiveEpRequest
          CFI (cfiCond93) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_6
          CFI (cfiCond93) R10L Frame(CFA, -6)
          CFI (cfiCond93) CFA SP+26
          CFI Block cfiCond94 Using cfiCommon0
          CFI (cfiCond94) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond94) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_7
          CFI (cfiCond94) R10L Frame(CFA, -6)
          CFI (cfiCond94) CFA SP+26
          CFI Block cfiCond95 Using cfiCommon0
          CFI (cfiCond95) Function MT_ZdoPowerDescRequest
          CFI (cfiCond95) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_8
          CFI (cfiCond95) R10L Frame(CFA, -6)
          CFI (cfiCond95) CFA SP+26
          CFI Block cfiCond96 Using cfiCommon0
          CFI (cfiCond96) Function MT_ZdoNodeDescRequest
          CFI (cfiCond96) Conditional ??CrossCallReturnLabel_25, ??CrossCallReturnLabel_9
          CFI (cfiCond96) R10L Frame(CFA, -6)
          CFI (cfiCond96) CFA SP+26
          CFI Block cfiPicker97 Using cfiCommon1
          CFI (cfiPicker97) NoFunction
          CFI (cfiPicker97) Picker
        MOV.B   0x1(R12), R15
        RPT     #0x8
        RLAX.W  R15
        RETA
          CFI EndBlock cfiCond87
          CFI EndBlock cfiCond88
          CFI EndBlock cfiCond89
          CFI EndBlock cfiCond90
          CFI EndBlock cfiCond91
          CFI EndBlock cfiCond92
          CFI EndBlock cfiCond93
          CFI EndBlock cfiCond94
          CFI EndBlock cfiCond95
          CFI EndBlock cfiCond96
          CFI EndBlock cfiPicker97

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoEndDevAnnce:
          CFI Block cfiBlock98 Using cfiCommon0
          CFI Function MT_ZdoEndDevAnnce
        FUNCALL MT_ZdoEndDevAnnce, ZDP_DeviceAnnce
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoEndDevAnnce, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        MOV.W   R12, R13
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R13
        MOV.B   @R13, R12
        MOV.B   0x1(R13), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R12
        ADD.W   #0x2, R13
        MOV.B   0x8(R13), R14
        CALLA   #ZDP_DeviceAnnce
        JMP     ?Subroutine3
          CFI EndBlock cfiBlock98

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoUserDescRequest:
          CFI Block cfiBlock99 Using cfiCommon0
          CFI Function MT_ZdoUserDescRequest
        FUNCALL MT_ZdoUserDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoUserDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_4:
        MOV.B   #0x11, R14
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock99

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoComplexDescRequest:
          CFI Block cfiBlock100 Using cfiCommon0
          CFI Function MT_ZdoComplexDescRequest
        FUNCALL MT_ZdoComplexDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoComplexDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_5:
        MOV.B   #0x10, R14
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock100

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoMatchDescRequest:
          CFI Block cfiBlock101 Using cfiCommon0
          CFI Function MT_ZdoMatchDescRequest
        FUNCALL MT_ZdoMatchDescRequest, ZDP_MatchDescReq
        LOCFRAME CSTACK, 100, STACK
        FUNCALL MT_ZdoMatchDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 92, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x4c, SP
          CFI CFA SP+92
        MOV.W   R12, R15
        MOV.B   #0x0, 0(SP)
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R15
        MOV.B   #0x2, 0xa(SP)
        MOV.B   @R15, R14
        CALLA   #?Subroutine14
??CrossCallReturnLabel_16:
        ADD.W   R11, R14
        MOV.W   R14, 0x2(SP)
        ADD.W   #0x2, R15
        MOV.B   @R15, R13
        CALLA   #?Subroutine14
??CrossCallReturnLabel_17:
        ADD.W   R11, R13
        ADD.W   #0x2, R15
        MOV.B   @R15, R12
        CALLA   #?Subroutine14
??CrossCallReturnLabel_18:
        ADD.W   R11, R12
        ADD.W   #0x2, R15
        MOV.B   @R15+, R11
        CMP.B   #0x11, R11
        JC      ??MT_ZdoMatchDescRequest_2
        MOV.B   #0x0, R14
??MT_ZdoMatchDescRequest_0:
        CMP.B   R11, R14
        JC      ??MT_ZdoMatchDescRequest_3
        CALLA   #?Subroutine12
??CrossCallReturnLabel_35:
        ADD.W   SP, R8
        MOV.W   R9, 0x2c(R8)
        ADD.W   #0x2, R15
        ADD.B   #0x1, R14
        JMP     ??MT_ZdoMatchDescRequest_0
??MT_ZdoMatchDescRequest_2:
        MOV.B   #0x80, 0(SP)
??MT_ZdoMatchDescRequest_3:
        MOV.B   @R15+, R6
        CMP.B   #0x11, R6
        JC      ??MT_ZdoMatchDescRequest_4
        MOV.B   #0x0, R14
??MT_ZdoMatchDescRequest_1:
        CMP.B   R6, R14
        JC      ??MT_ZdoMatchDescRequest_5
        CALLA   #?Subroutine12
??CrossCallReturnLabel_36:
        ADD.W   SP, R8
        MOV.W   R9, 0xc(R8)
        ADD.W   #0x2, R15
        ADD.B   #0x1, R14
        JMP     ??MT_ZdoMatchDescRequest_1
??MT_ZdoMatchDescRequest_4:
        MOV.B   #0x80, 0(SP)
        JMP     ??MT_ZdoMatchDescRequest_6
??MT_ZdoMatchDescRequest_5:
        CMP.B   #0x0, 0(SP)
        JNE     ??MT_ZdoMatchDescRequest_6
        PUSH.B  #0x0
          CFI CFA SP+94
        MOV.W   SP, R15
        ADD.W   #0xe, R15
        PUSH.W  R15
          CFI CFA SP+96
        PUSH.B  R6
          CFI CFA SP+98
        ADD.W   #0x20, R15
        PUSH.W  R15
          CFI CFA SP+100
        MOV.B   R11, R15
        MOV.W   R12, R14
        MOV.W   SP, R12
        ADD.W   #0xa, R12
        CALLA   #ZDP_MatchDescReq
        MOV.B   R12, 0x8(SP)
        ADD.W   #0x8, SP
          CFI CFA SP+92
??MT_ZdoMatchDescRequest_6:
        CALLA   #??Subroutine7_0
??CrossCallReturnLabel_40:
        ADD.W   #0x4c, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock101

        RSEG CODE:CODE:NOROOT(1)
?Subroutine14:
          CFI Block cfiCond102 Using cfiCommon0
          CFI Function MT_ZdoMatchDescRequest
          CFI Conditional ??CrossCallReturnLabel_16
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+96
          CFI Block cfiCond103 Using cfiCommon0
          CFI (cfiCond103) Function MT_ZdoMatchDescRequest
          CFI (cfiCond103) Conditional ??CrossCallReturnLabel_17
          CFI (cfiCond103) R6L Frame(CFA, -16)
          CFI (cfiCond103) R7L Frame(CFA, -14)
          CFI (cfiCond103) R8L Frame(CFA, -12)
          CFI (cfiCond103) R9L Frame(CFA, -10)
          CFI (cfiCond103) R10L Frame(CFA, -8)
          CFI (cfiCond103) R11L Frame(CFA, -6)
          CFI (cfiCond103) CFA SP+96
          CFI Block cfiCond104 Using cfiCommon0
          CFI (cfiCond104) Function MT_ZdoMatchDescRequest
          CFI (cfiCond104) Conditional ??CrossCallReturnLabel_18
          CFI (cfiCond104) R6L Frame(CFA, -16)
          CFI (cfiCond104) R7L Frame(CFA, -14)
          CFI (cfiCond104) R8L Frame(CFA, -12)
          CFI (cfiCond104) R9L Frame(CFA, -10)
          CFI (cfiCond104) R10L Frame(CFA, -8)
          CFI (cfiCond104) R11L Frame(CFA, -6)
          CFI (cfiCond104) CFA SP+96
          CFI Block cfiPicker105 Using cfiCommon1
          CFI (cfiPicker105) NoFunction
          CFI (cfiPicker105) Picker
        MOV.B   0x1(R15), R11
        RPT     #0x8
        RLAX.W  R11
        RETA
          CFI EndBlock cfiCond102
          CFI EndBlock cfiCond103
          CFI EndBlock cfiCond104
          CFI EndBlock cfiPicker105

        RSEG CODE:CODE:NOROOT(1)
?Subroutine12:
          CFI Block cfiCond106 Using cfiCommon0
          CFI Function MT_ZdoMatchDescRequest
          CFI Conditional ??CrossCallReturnLabel_35
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+96
          CFI Block cfiCond107 Using cfiCommon0
          CFI (cfiCond107) Function MT_ZdoMatchDescRequest
          CFI (cfiCond107) Conditional ??CrossCallReturnLabel_36
          CFI (cfiCond107) R6L Frame(CFA, -16)
          CFI (cfiCond107) R7L Frame(CFA, -14)
          CFI (cfiCond107) R8L Frame(CFA, -12)
          CFI (cfiCond107) R9L Frame(CFA, -10)
          CFI (cfiCond107) R10L Frame(CFA, -8)
          CFI (cfiCond107) R11L Frame(CFA, -6)
          CFI (cfiCond107) CFA SP+96
          CFI Block cfiPicker108 Using cfiCommon1
          CFI (cfiPicker108) NoFunction
          CFI (cfiPicker108) Picker
        MOV.B   @R15, R9
        MOV.B   0x1(R15), R8
          CFI EndBlock cfiCond106
          CFI EndBlock cfiCond107
          CFI EndBlock cfiPicker108
        REQUIRE ??Subroutine22_0
        // Fall through to label ??Subroutine22_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine22_0:
          CFI Block cfiCond109 Using cfiCommon0
          CFI Function MT_ZdoEndDevBindRequest
          CFI Conditional ??CrossCallReturnLabel_34
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+92
          CFI Block cfiCond110 Using cfiCommon0
          CFI (cfiCond110) Function MT_ZdoMatchDescRequest
          CFI (cfiCond110) Conditional ??CrossCallReturnLabel_35
          CFI (cfiCond110) R6L Frame(CFA, -16)
          CFI (cfiCond110) R7L Frame(CFA, -14)
          CFI (cfiCond110) R8L Frame(CFA, -12)
          CFI (cfiCond110) R9L Frame(CFA, -10)
          CFI (cfiCond110) R10L Frame(CFA, -8)
          CFI (cfiCond110) R11L Frame(CFA, -6)
          CFI (cfiCond110) CFA SP+96
          CFI Block cfiCond111 Using cfiCommon0
          CFI (cfiCond111) Function MT_ZdoMatchDescRequest
          CFI (cfiCond111) Conditional ??CrossCallReturnLabel_36
          CFI (cfiCond111) R6L Frame(CFA, -16)
          CFI (cfiCond111) R7L Frame(CFA, -14)
          CFI (cfiCond111) R8L Frame(CFA, -12)
          CFI (cfiCond111) R9L Frame(CFA, -10)
          CFI (cfiCond111) R10L Frame(CFA, -8)
          CFI (cfiCond111) R11L Frame(CFA, -6)
          CFI (cfiCond111) CFA SP+96
          CFI Block cfiPicker112 Using cfiCommon1
          CFI (cfiPicker112) NoFunction
          CFI (cfiPicker112) Picker
        RPT     #0x8
        RLAX.W  R8
        ADD.W   R8, R9
        MOV.B   R14, R8
        RLA.W   R8
        RETA
          CFI EndBlock cfiCond109
          CFI EndBlock cfiCond110
          CFI EndBlock cfiCond111
          CFI EndBlock cfiPicker112

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoActiveEpRequest:
          CFI Block cfiBlock113 Using cfiCommon0
          CFI Function MT_ZdoActiveEpRequest
        FUNCALL MT_ZdoActiveEpRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoActiveEpRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_6:
        MOV.B   #0x5, R14
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock113

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoSimpleDescRequest:
          CFI Block cfiBlock114 Using cfiCommon0
          CFI Function MT_ZdoSimpleDescRequest
        FUNCALL MT_ZdoSimpleDescRequest, ZDP_SimpleDescReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoSimpleDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_7:
        MOV.B   0x2(R12), R14
        CALLA   #?Subroutine10
??CrossCallReturnLabel_12:
        CALLA   #ZDP_SimpleDescReq
        JMP     ??Subroutine23_0
          CFI EndBlock cfiBlock114

        RSEG CODE:CODE:NOROOT(1)
?Subroutine8:
          CFI Block cfiCond115 Using cfiCommon0
          CFI Function MT_ZdoUserDescRequest
          CFI Conditional ??CrossCallReturnLabel_4
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+22
          CFI Block cfiCond116 Using cfiCommon0
          CFI (cfiCond116) Function MT_ZdoComplexDescRequest
          CFI (cfiCond116) Conditional ??CrossCallReturnLabel_5
          CFI (cfiCond116) R10L Frame(CFA, -6)
          CFI (cfiCond116) CFA SP+22
          CFI Block cfiCond117 Using cfiCommon0
          CFI (cfiCond117) Function MT_ZdoActiveEpRequest
          CFI (cfiCond117) Conditional ??CrossCallReturnLabel_6
          CFI (cfiCond117) R10L Frame(CFA, -6)
          CFI (cfiCond117) CFA SP+22
          CFI Block cfiCond118 Using cfiCommon0
          CFI (cfiCond118) Function MT_ZdoSimpleDescRequest
          CFI (cfiCond118) Conditional ??CrossCallReturnLabel_7
          CFI (cfiCond118) R10L Frame(CFA, -6)
          CFI (cfiCond118) CFA SP+22
          CFI Block cfiCond119 Using cfiCommon0
          CFI (cfiCond119) Function MT_ZdoPowerDescRequest
          CFI (cfiCond119) Conditional ??CrossCallReturnLabel_8
          CFI (cfiCond119) R10L Frame(CFA, -6)
          CFI (cfiCond119) CFA SP+22
          CFI Block cfiCond120 Using cfiCommon0
          CFI (cfiCond120) Function MT_ZdoNodeDescRequest
          CFI (cfiCond120) Conditional ??CrossCallReturnLabel_9
          CFI (cfiCond120) R10L Frame(CFA, -6)
          CFI (cfiCond120) CFA SP+22
          CFI Block cfiPicker121 Using cfiCommon1
          CFI (cfiPicker121) NoFunction
          CFI (cfiPicker121) Picker
        CALLA   #?Subroutine15
??CrossCallReturnLabel_23:
        MOV.B   #0x2, 0xe(SP)
        MOV.B   @R12, R14
        CALLA   #?Subroutine16
??CrossCallReturnLabel_25:
        ADD.W   R15, R14
        MOV.W   R14, 0x6(SP)
        ADD.W   #0x2, R12
        RETA
          CFI EndBlock cfiCond115
          CFI EndBlock cfiCond116
          CFI EndBlock cfiCond117
          CFI EndBlock cfiCond118
          CFI EndBlock cfiCond119
          CFI EndBlock cfiCond120
          CFI EndBlock cfiPicker121

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoPowerDescRequest:
          CFI Block cfiBlock122 Using cfiCommon0
          CFI Function MT_ZdoPowerDescRequest
        FUNCALL MT_ZdoPowerDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoPowerDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_8:
        MOV.B   #0x3, R14
          CFI EndBlock cfiBlock122
        REQUIRE ?Subroutine0
        // Fall through to label ?Subroutine0

        RSEG CODE:CODE:NOROOT(1)
?Subroutine0:
          CFI Block cfiBlock123 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+18
          CFI R10L Frame(CFA, -6)
        CALLA   #?Subroutine10
??CrossCallReturnLabel_13:
        CALLA   #ZDP_NWKAddrOfInterestReq
          CFI EndBlock cfiBlock123
        REQUIRE ??Subroutine23_0
        // Fall through to label ??Subroutine23_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine23_0:
          CFI Block cfiBlock124 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+18
          CFI R10L Frame(CFA, -6)
        CALLA   #?Subroutine7
??CrossCallReturnLabel_44:
        ADD.W   #0xc, SP
          CFI CFA SP+6
        POP.W   R10
          CFI CFA SP+4
          CFI R10L SameValue
        RETA
          CFI EndBlock cfiBlock124

        RSEG CODE:CODE:NOROOT(1)
?Subroutine10:
          CFI Block cfiCond125 Using cfiCommon0
          CFI Function MT_ZdoSimpleDescRequest
          CFI Conditional ??CrossCallReturnLabel_12
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+22
          CFI Block cfiCond126 Using cfiCommon0
          CFI (cfiCond126) Function MT_ZdoUserDescRequest
          CFI (cfiCond126) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond126) R10L Frame(CFA, -6)
          CFI (cfiCond126) CFA SP+22
          CFI Block cfiCond127 Using cfiCommon0
          CFI (cfiCond127) Function MT_ZdoComplexDescRequest
          CFI (cfiCond127) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond127) R10L Frame(CFA, -6)
          CFI (cfiCond127) CFA SP+22
          CFI Block cfiCond128 Using cfiCommon0
          CFI (cfiCond128) Function MT_ZdoActiveEpRequest
          CFI (cfiCond128) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond128) R10L Frame(CFA, -6)
          CFI (cfiCond128) CFA SP+22
          CFI Block cfiCond129 Using cfiCommon0
          CFI (cfiCond129) Function MT_ZdoPowerDescRequest
          CFI (cfiCond129) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond129) R10L Frame(CFA, -6)
          CFI (cfiCond129) CFA SP+22
          CFI Block cfiCond130 Using cfiCommon0
          CFI (cfiCond130) Function MT_ZdoNodeDescRequest
          CFI (cfiCond130) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond130) R10L Frame(CFA, -6)
          CFI (cfiCond130) CFA SP+22
          CFI Block cfiPicker131 Using cfiCommon1
          CFI (cfiPicker131) NoFunction
          CFI (cfiPicker131) Picker
        MOV.B   @R12, R13
        MOV.B   0x1(R12), R12
        RPT     #0x8
        RLAX.W  R12
        ADD.W   R12, R13
        MOV.W   SP, R12
        ADD.W   #0x6, R12
        RETA
          CFI EndBlock cfiCond125
          CFI EndBlock cfiCond126
          CFI EndBlock cfiCond127
          CFI EndBlock cfiCond128
          CFI EndBlock cfiCond129
          CFI EndBlock cfiCond130
          CFI EndBlock cfiPicker131

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoNodeDescRequest:
          CFI Block cfiBlock132 Using cfiCommon0
          CFI Function MT_ZdoNodeDescRequest
        FUNCALL MT_ZdoNodeDescRequest, ZDP_NWKAddrOfInterestReq
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_ZdoNodeDescRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0xc, SP
          CFI CFA SP+18
        CALLA   #?Subroutine8
??CrossCallReturnLabel_9:
        MOV.B   #0x2, R14
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock132

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoIEEEAddrRequest:
          CFI Block cfiBlock133 Using cfiCommon0
          CFI Function MT_ZdoIEEEAddrRequest
        FUNCALL MT_ZdoIEEEAddrRequest, ZDP_IEEEAddrReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoIEEEAddrRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        MOV.W   R12, R14
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R14
        MOV.B   @R14, R12
        MOV.B   0x1(R14), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R12
        ADD.W   #0x2, R14
        MOV.B   @R14+, R13
        MOV.B   @R14, R14
        CALLA   #ZDP_IEEEAddrReq
          CFI EndBlock cfiBlock133
        REQUIRE ?Subroutine3
        // Fall through to label ?Subroutine3

        RSEG CODE:CODE:NOROOT(1)
?Subroutine3:
          CFI Block cfiBlock134 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+8
          CFI R10L Frame(CFA, -6)
        CALLA   #?Subroutine7
??CrossCallReturnLabel_43:
        ADD.W   #0x2, SP
          CFI CFA SP+6
        POP.W   R10
          CFI CFA SP+4
          CFI R10L SameValue
        RETA
          CFI EndBlock cfiBlock134

        RSEG CODE:CODE:REORDER:NOROOT(1)
MT_ZdoNWKAddressRequest:
          CFI Block cfiBlock135 Using cfiCommon0
          CFI Function MT_ZdoNWKAddressRequest
        FUNCALL MT_ZdoNWKAddressRequest, ZDP_NwkAddrReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoNWKAddressRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        MOV.W   R12, R14
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R14
        MOV.W   R14, R12
        ADD.W   #0x8, R14
        MOV.B   @R14+, R13
        MOV.B   #0x0, R15
        MOV.B   @R14, R14
        CALLA   #ZDP_NwkAddrReq
        JMP     ?Subroutine3
          CFI EndBlock cfiBlock135
//  808 }
//  809 
//  810 /***************************************************************************************************
//  811  * @fn      MT_ZdoServiceDiscRequest
//  812  *
//  813  * @brief   Handle a Server Discovery request.
//  814  *
//  815  * @param   pBuf  - MT message data
//  816  *
//  817  * @return  void
//  818  ***************************************************************************************************/
//  819 void MT_ZdoServiceDiscRequest(uint8 *pBuf)
//  820 {
//  821   uint8 cmdId;
//  822   uint8 retValue;
//  823   uint16 serviceMask;
//  824 
//  825   /* parse header */
//  826   cmdId = pBuf[MT_RPC_POS_CMD1];
//  827   pBuf += MT_RPC_FRAME_HDR_SZ;
//  828 
//  829   /* Service Mask */
//  830   serviceMask = BUILD_UINT16( pBuf[0], pBuf[1]);
//  831   pBuf += 2;
//  832 
//  833   retValue = (uint8)ZDP_ServerDiscReq( serviceMask, 0);
//  834 
//  835   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  836 }
//  837 
//  838 /***************************************************************************************************
//  839  * @fn      MT_ZdoEndDevBindRequest
//  840  *
//  841  * @brief   Handle a End Device Bind request.
//  842  *
//  843  * @param   pBuf  - MT message data
//  844  *
//  845  * @return  void
//  846  ***************************************************************************************************/

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  847 void MT_ZdoEndDevBindRequest(uint8 *pBuf)
MT_ZdoEndDevBindRequest:
          CFI Block cfiBlock136 Using cfiCommon0
          CFI Function MT_ZdoEndDevBindRequest
//  848 {
        FUNCALL MT_ZdoEndDevBindRequest, ZDP_EndDeviceBindReq
        LOCFRAME CSTACK, 98, STACK
        FUNCALL MT_ZdoEndDevBindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 88, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x48, SP
          CFI CFA SP+88
        MOV.W   R12, R11
//  849   uint8 cmdId;
//  850   uint8 retValue = 0;
        MOV.B   #0x0, 0(SP)
//  851   uint8 i, epInt, numInClusters, numOutClusters;
//  852   zAddrType_t destAddr;
//  853   uint16 shortAddr;
//  854   uint16 profileID, inClusters[MTZDO_MAX_ED_BIND_CLUSTERS], outClusters[MTZDO_MAX_ED_BIND_CLUSTERS];
//  855 
//  856   /* parse header */
//  857   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV.B   0x2(R12), R10
//  858   pBuf += MT_RPC_FRAME_HDR_SZ;
        ADD.W   #0x3, R11
//  859 
//  860   /* Dev address */
//  861   destAddr.addrMode = Addr16Bit;
        MOV.B   #0x2, 0xa(SP)
//  862   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV.B   @R11, R14
        MOV.B   0x1(R11), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R14
        MOV.W   R14, 0x2(SP)
//  863   pBuf += 2;
        ADD.W   #0x2, R11
//  864 
//  865   /* Local coordinator of the binding */
//  866   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV.B   @R11, R13
        MOV.B   0x1(R11), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R13
//  867   pBuf += 2;
//  868 
//  869   /* For now, skip past the extended address */
//  870   pBuf += Z_EXTADDR_LEN;
        ADD.W   #0xa, R11
//  871 
//  872   /* Endpoint */
//  873   epInt = *pBuf++;
        MOV.B   @R11+, R12
//  874 
//  875   /* Profile ID */
//  876   profileID = BUILD_UINT16( pBuf[0], pBuf[1] );
        MOV.B   @R11, R15
        MOV.B   0x1(R11), R14
        RPT     #0x8
        RLAX.W  R14
        ADD.W   R14, R15
//  877   pBuf += 2;
        ADD.W   #0x2, R11
//  878 
//  879   /* NumInClusters */
//  880   numInClusters = *pBuf++;
        MOV.B   @R11+, R6
//  881   if ( numInClusters <= MTZDO_MAX_ED_BIND_CLUSTERS )
        CMP.B   #0x10, R6
        JC      ??MT_ZdoEndDevBindRequest_2
//  882   {
//  883     for ( i = 0; i < numInClusters; i++ )
??MT_ZdoEndDevBindRequest_0:
        CMP.B   R6, R14
        JC      ??MT_ZdoEndDevBindRequest_3
//  884     {
//  885       inClusters[i] = BUILD_UINT16(pBuf[0], pBuf[1]);
        MOV.B   @R11, R9
        MOV.B   0x1(R11), R8
        RPT     #0x8
        RLAX.W  R8
        ADD.W   R8, R9
        MOV.B   R14, R7
        RLA.W   R7
        ADD.W   SP, R7
        MOV.W   R9, 0x2a(R7)
//  886       pBuf += 2;
        ADD.W   #0x2, R11
//  887     }
        ADD.B   #0x1, R14
        JMP     ??MT_ZdoEndDevBindRequest_0
//  888   }
//  889   else
//  890   {
//  891     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoEndDevBindRequest_2:
        MOV.B   #0x80, 0(SP)
//  892   }
//  893 
//  894   /* NumOutClusters */
//  895   numOutClusters = *pBuf++;
??MT_ZdoEndDevBindRequest_3:
        MOV.B   @R11+, R7
//  896   if ( numOutClusters <= MTZDO_MAX_ED_BIND_CLUSTERS )
        CMP.B   #0x10, R7
        JC      ??MT_ZdoEndDevBindRequest_4
//  897   {
//  898     for ( i = 0; i < numOutClusters; i++ )
        MOV.B   #0x0, R14
??MT_ZdoEndDevBindRequest_1:
        CMP.B   R7, R14
        JC      ??MT_ZdoEndDevBindRequest_5
//  899     {
//  900       outClusters[i] = BUILD_UINT16(pBuf[0], pBuf[1]);
        MOV.B   @R11, R9
        MOV.B   0x1(R11), R8
        CALLA   #??Subroutine22_0
??CrossCallReturnLabel_34:
        ADD.W   SP, R8
        MOV.W   R9, 0xc(R8)
//  901       pBuf += 2;
        ADD.W   #0x2, R11
//  902     }
        ADD.B   #0x1, R14
        JMP     ??MT_ZdoEndDevBindRequest_1
//  903   }
//  904   else
//  905   {
//  906     retValue = ZDP_INVALID_REQTYPE;
??MT_ZdoEndDevBindRequest_4:
        MOV.B   #0x80, 0(SP)
        JMP     ??MT_ZdoEndDevBindRequest_6
//  907   }
//  908 
//  909   if ( retValue == 0 )
??MT_ZdoEndDevBindRequest_5:
        CMP.B   #0x0, 0(SP)
        JNE     ??MT_ZdoEndDevBindRequest_6
//  910   {
//  911     retValue = (uint8)ZDP_EndDeviceBindReq( &destAddr, shortAddr, epInt, profileID,
//  912                                           numInClusters, inClusters, numOutClusters, outClusters, 0);
        PUSH.B  #0x0
          CFI CFA SP+90
        MOV.W   SP, R11
        ADD.W   #0xe, R11
        PUSH.W  R11
          CFI CFA SP+92
        PUSH.B  R7
          CFI CFA SP+94
        ADD.W   #0x1e, R11
        PUSH.W  R11
          CFI CFA SP+96
        PUSH.B  R6
          CFI CFA SP+98
        MOV.B   R12, R14
        MOV.W   SP, R12
        ADD.W   #0xc, R12
        CALLA   #ZDP_EndDeviceBindReq
        MOV.B   R12, 0xa(SP)
        ADD.W   #0xa, SP
          CFI CFA SP+88
//  913   }
//  914 
//  915   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
??MT_ZdoEndDevBindRequest_6:
        CALLA   #??Subroutine7_0
//  916 }
??CrossCallReturnLabel_41:
        ADD.W   #0x48, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock136

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoUnbindRequest:
          CFI Block cfiBlock137 Using cfiCommon0
          CFI Function MT_ZdoUnbindRequest
        FUNCALL MT_ZdoUnbindRequest, sAddrExtCpy
        LOCFRAME CSTACK, 38, STACK
        FUNCALL MT_ZdoUnbindRequest, ZDP_BindUnbindReq
        LOCFRAME CSTACK, 46, STACK
        FUNCALL MT_ZdoUnbindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 46, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x16, SP
          CFI CFA SP+38
        CALLA   #?Subroutine9
??CrossCallReturnLabel_10:
        PUSH.B  #0x0
          CFI CFA SP+40
        PUSH.B  0x8(R6)
          CFI CFA SP+42
        MOV.W   SP, R15
        ADD.W   #0x6, R15
        PUSH.W  R15
          CFI CFA SP+44
        PUSH.W  R9
          CFI CFA SP+46
        MOV.B   R8, R15
        MOV.W   R10, R14
        MOV.W   SP, R13
        ADD.W   #0x14, R13
        MOV.W   #0x22, R12
          CFI EndBlock cfiBlock137
        REQUIRE ?Subroutine2
        // Fall through to label ?Subroutine2
//  917 
//  918 /***************************************************************************************************
//  919  * @fn      MT_ZdoBindRequest
//  920  *
//  921  * @brief   Handle a Bind request.
//  922  *
//  923  * @param   pBuf  - MT message data
//  924  *
//  925  * @return  void
//  926  ***************************************************************************************************/

        RSEG CODE:CODE:NOROOT(1)
?Subroutine2:
          CFI Block cfiBlock138 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+46
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
        CALLA   #ZDP_BindUnbindReq
        MOV.B   R12, 0x8(SP)
        MOV.W   SP, R15
        ADD.W   #0x8, R15
        MOV.B   #0x1, R14
        MOV.B   R11, R13
        CALLA   #??Subroutine21_0
??CrossCallReturnLabel_37:
        ADD.W   #0x1e, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI CFA SP+4
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI R10L SameValue
          CFI R11L SameValue
        RETA
          CFI EndBlock cfiBlock138

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  927 void MT_ZdoBindRequest(uint8 *pBuf)
MT_ZdoBindRequest:
          CFI Block cfiBlock139 Using cfiCommon0
          CFI Function MT_ZdoBindRequest
//  928 {
        FUNCALL MT_ZdoBindRequest, sAddrExtCpy
        LOCFRAME CSTACK, 38, STACK
        FUNCALL MT_ZdoBindRequest, ZDP_BindUnbindReq
        LOCFRAME CSTACK, 46, STACK
        FUNCALL MT_ZdoBindRequest, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 46, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x16, SP
          CFI CFA SP+38
        CALLA   #?Subroutine9
//  929   uint8 cmdId;
//  930   uint8 retValue;
//  931   zAddrType_t destAddr, devAddr;
//  932   uint8 *pSrcAddr, *ptr;
//  933   uint8 srcEPInt, dstEPInt;
//  934   uint16 clusterID;
//  935 
//  936   /* parse header */
//  937   cmdId = pBuf[MT_RPC_POS_CMD1];
//  938   pBuf += MT_RPC_FRAME_HDR_SZ;
//  939 
//  940   /* Dev address */
//  941   destAddr.addrMode = Addr16Bit;
//  942   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  943   pBuf += 2;
//  944 
//  945   /* SrcAddress */
//  946   pSrcAddr = pBuf;
//  947   pBuf += Z_EXTADDR_LEN;
//  948 
//  949   /* SrcEPInt */
//  950   srcEPInt = *pBuf++;
//  951 
//  952   /* ClusterID */
//  953   clusterID = BUILD_UINT16( pBuf[0], pBuf[1]);
//  954   pBuf += 2;
//  955 
//  956   /* Destination Address mode */
//  957   devAddr.addrMode = *pBuf++;
//  958 
//  959   /* Destination Address */
//  960   if ( devAddr.addrMode == Addr64Bit )
//  961   {
//  962     ptr = pBuf;
//  963     osal_cpyExtAddr( devAddr.addr.extAddr, ptr );
//  964   }
//  965   else
//  966   {
//  967     devAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
//  968   }
//  969   /* The short address occupies LSB two bytes */
//  970   pBuf += Z_EXTADDR_LEN;
//  971 
//  972   /* DstEPInt */
//  973   dstEPInt = *pBuf;
//  974 
//  975   retValue = (uint8)ZDP_BindReq( &destAddr, pSrcAddr, srcEPInt, clusterID, &devAddr, dstEPInt, 0);
??CrossCallReturnLabel_11:
        PUSH.B  #0x0
          CFI CFA SP+40
        PUSH.B  0x8(R6)
          CFI CFA SP+42
        MOV.W   SP, R15
        ADD.W   #0x6, R15
        PUSH.W  R15
          CFI CFA SP+44
        PUSH.W  R9
          CFI CFA SP+46
        MOV.B   R8, R15
        MOV.W   R10, R14
        MOV.W   SP, R13
        ADD.W   #0x14, R13
        MOV.W   #0x21, R12
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock139
//  976 
//  977   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
//  978 }

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine9:
          CFI Block cfiCond140 Using cfiCommon0
          CFI Function MT_ZdoUnbindRequest
          CFI Conditional ??CrossCallReturnLabel_10
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+42
          CFI Block cfiCond141 Using cfiCommon0
          CFI (cfiCond141) Function MT_ZdoBindRequest
          CFI (cfiCond141) Conditional ??CrossCallReturnLabel_11
          CFI (cfiCond141) R6L Frame(CFA, -16)
          CFI (cfiCond141) R7L Frame(CFA, -14)
          CFI (cfiCond141) R8L Frame(CFA, -12)
          CFI (cfiCond141) R9L Frame(CFA, -10)
          CFI (cfiCond141) R10L Frame(CFA, -8)
          CFI (cfiCond141) R11L Frame(CFA, -6)
          CFI (cfiCond141) CFA SP+42
          CFI Block cfiPicker142 Using cfiCommon1
          CFI (cfiPicker142) NoFunction
          CFI (cfiPicker142) Picker
//  979 
//  980 /***************************************************************************************************
//  981  * @fn      MT_ZdoUnbindRequest
//  982  *
//  983  * @brief   Handle a Unbind request.
//  984  *
//  985  * @param   pBuf  - MT message data
//  986  *
//  987  * @return  void
//  988  ***************************************************************************************************/
//  989 void MT_ZdoUnbindRequest(uint8 *pBuf)
//  990 {
        MOV.W   R12, R6
//  991   uint8 cmdId;
//  992   uint8 retValue;
//  993   zAddrType_t destAddr, devAddr;
//  994   uint8 *pSrcAddr, *ptr;
//  995   uint8 srcEPInt, dstEPInt;
//  996   uint16 clusterID;
//  997 
//  998   /* parse header */
//  999   cmdId = pBuf[MT_RPC_POS_CMD1];
        MOV.B   0x2(R12), R11
// 1000   pBuf += MT_RPC_FRAME_HDR_SZ;
        ADD.W   #0x3, R6
// 1001 
// 1002   /* dev address */
// 1003   destAddr.addrMode = Addr16Bit;
        MOV.B   #0x2, 0x18(SP)
// 1004   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
        CALLA   #?Subroutine17
??CrossCallReturnLabel_27:
        MOV.W   R14, 0x10(SP)
// 1005   pBuf += 2;
// 1006 
// 1007   /* SrcAddress */
// 1008   pSrcAddr = pBuf;
        ADD.W   #0x2, R6
        MOV.W   R6, R10
// 1009   pBuf += Z_EXTADDR_LEN;
        ADD.W   #0x8, R6
// 1010 
// 1011   /* SrcEPInt */
// 1012   srcEPInt = *pBuf++;
        MOV.B   @R6+, R8
// 1013 
// 1014   /* ClusterID */
// 1015   clusterID = BUILD_UINT16( pBuf[0], pBuf[1]);
        MOV.B   @R6, R9
        MOV.B   0x1(R6), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R9
// 1016   pBuf += 2;
        ADD.W   #0x2, R6
// 1017 
// 1018   /* Destination Address mode */
// 1019   devAddr.addrMode = *pBuf++;
        MOV.B   @R6+, 0xe(SP)
// 1020 
// 1021   /* Destination Address */
// 1022   if ( devAddr.addrMode == Addr64Bit )
        CMP.B   #0x3, 0xe(SP)
        JNE     ??MT_ZdoUnbindRequest_0
// 1023   {
// 1024     ptr = pBuf;
// 1025     osal_cpyExtAddr( devAddr.addr.extAddr, ptr );
        MOV.W   R6, R13
        MOV.W   SP, R12
        ADD.W   #0x6, R12
        BRA     #sAddrExtCpy
// 1026   }
// 1027   else
// 1028   {
// 1029     devAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
??MT_ZdoUnbindRequest_0:
        CALLA   #?Subroutine17
??CrossCallReturnLabel_28:
        MOV.W   R14, 0x6(SP)
        RETA
          CFI EndBlock cfiCond140
          CFI EndBlock cfiCond141
          CFI EndBlock cfiPicker142

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine17:
          CFI Block cfiCond143 Using cfiCommon0
          CFI Function MT_ZdoUnbindRequest
          CFI Conditional ??CrossCallReturnLabel_27, ??CrossCallReturnLabel_10
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+46
          CFI Block cfiCond144 Using cfiCommon0
          CFI (cfiCond144) Function MT_ZdoBindRequest
          CFI (cfiCond144) Conditional ??CrossCallReturnLabel_27, ??CrossCallReturnLabel_11
          CFI (cfiCond144) R6L Frame(CFA, -16)
          CFI (cfiCond144) R7L Frame(CFA, -14)
          CFI (cfiCond144) R8L Frame(CFA, -12)
          CFI (cfiCond144) R9L Frame(CFA, -10)
          CFI (cfiCond144) R10L Frame(CFA, -8)
          CFI (cfiCond144) R11L Frame(CFA, -6)
          CFI (cfiCond144) CFA SP+46
          CFI Block cfiCond145 Using cfiCommon0
          CFI (cfiCond145) Function MT_ZdoUnbindRequest
          CFI (cfiCond145) Conditional ??CrossCallReturnLabel_28, ??CrossCallReturnLabel_10
          CFI (cfiCond145) R6L Frame(CFA, -16)
          CFI (cfiCond145) R7L Frame(CFA, -14)
          CFI (cfiCond145) R8L Frame(CFA, -12)
          CFI (cfiCond145) R9L Frame(CFA, -10)
          CFI (cfiCond145) R10L Frame(CFA, -8)
          CFI (cfiCond145) R11L Frame(CFA, -6)
          CFI (cfiCond145) CFA SP+46
          CFI Block cfiCond146 Using cfiCommon0
          CFI (cfiCond146) Function MT_ZdoBindRequest
          CFI (cfiCond146) Conditional ??CrossCallReturnLabel_28, ??CrossCallReturnLabel_11
          CFI (cfiCond146) R6L Frame(CFA, -16)
          CFI (cfiCond146) R7L Frame(CFA, -14)
          CFI (cfiCond146) R8L Frame(CFA, -12)
          CFI (cfiCond146) R9L Frame(CFA, -10)
          CFI (cfiCond146) R10L Frame(CFA, -8)
          CFI (cfiCond146) R11L Frame(CFA, -6)
          CFI (cfiCond146) CFA SP+46
          CFI Block cfiPicker147 Using cfiCommon1
          CFI (cfiPicker147) NoFunction
          CFI (cfiPicker147) Picker
        MOV.B   @R6, R14
        MOV.B   0x1(R6), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R14
        RETA
          CFI EndBlock cfiCond143
          CFI EndBlock cfiCond144
          CFI EndBlock cfiCond145
          CFI EndBlock cfiCond146
          CFI EndBlock cfiPicker147

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoRemoveRegisteredCB:
          CFI Block cfiBlock148 Using cfiCommon0
          CFI Function MT_ZdoRemoveRegisteredCB
        FUNCALL MT_ZdoRemoveRegisteredCB, ZDO_RemoveRegisteredCB
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoRemoveRegisteredCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
        CALLA   #?Subroutine4
??CrossCallReturnLabel_0:
        CALLA   #ZDO_RemoveRegisteredCB
        JMP     ?Subroutine1
          CFI EndBlock cfiBlock148

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoRegisterForZDOMsg:
          CFI Block cfiBlock149 Using cfiCommon0
          CFI Function MT_ZdoRegisterForZDOMsg
        FUNCALL MT_ZdoRegisterForZDOMsg, ZDO_RegisterForZDOMsg
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoRegisterForZDOMsg, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
        CALLA   #?Subroutine4
??CrossCallReturnLabel_1:
        CALLA   #ZDO_RegisterForZDOMsg
        JMP     ?Subroutine1
          CFI EndBlock cfiBlock149

        RSEG CODE:CODE:NOROOT(1)
?Subroutine4:
          CFI Block cfiCond150 Using cfiCommon0
          CFI Function MT_ZdoRemoveRegisteredCB
          CFI Conditional ??CrossCallReturnLabel_0
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+14
          CFI Block cfiCond151 Using cfiCommon0
          CFI (cfiCond151) Function MT_ZdoRegisterForZDOMsg
          CFI (cfiCond151) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond151) R10L Frame(CFA, -8)
          CFI (cfiCond151) R11L Frame(CFA, -6)
          CFI (cfiCond151) CFA SP+14
          CFI Block cfiPicker152 Using cfiCommon1
          CFI (cfiPicker152) NoFunction
          CFI (cfiPicker152) Picker
        MOV.B   0x1(R12), R11
        CALLA   #?Subroutine15
??CrossCallReturnLabel_19:
        MOV.B   @R12, R13
        CALLA   #?Subroutine16
??CrossCallReturnLabel_24:
        ADD.W   R15, R13
        MOV.B   &MT_TaskID, R12
        RETA
          CFI EndBlock cfiCond150
          CFI EndBlock cfiCond151
          CFI EndBlock cfiPicker152

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoJoinCnfCB:
          CFI Block cfiBlock153 Using cfiCommon0
          CFI Function MT_ZdoJoinCnfCB
        FUNCALL MT_ZdoJoinCnfCB, ZDO_DeregisterForZdoCB
        LOCFRAME CSTACK, 12, STACK
        FUNCALL MT_ZdoJoinCnfCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 12, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x6, SP
          CFI CFA SP+12
        MOV.W   R12, R10
        MOV.B   #0x4, R12
        CALLA   #ZDO_DeregisterForZdoCB
        MOV.B   @R10, 0(SP)
        MOV.B   0x2(R10), 0x1(SP)
        MOV.B   0x3(R10), 0x2(SP)
        MOV.B   0x4(R10), 0x3(SP)
        MOV.B   0x5(R10), 0x4(SP)
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.B   #0x5, R14
        MOV.B   #0xc6, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_30:
        MOV.W   #0x0, R12
        ADD.W   #0x6, SP
          CFI CFA SP+6
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock153

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoBeaconIndCB:
          CFI Block cfiBlock154 Using cfiCommon0
          CFI Function MT_ZdoBeaconIndCB
        FUNCALL MT_ZdoBeaconIndCB, osal_mem_alloc
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoBeaconIndCB, osal_memcpy
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoBeaconIndCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoBeaconIndCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_ZdoBeaconIndCB, osal_mem_free
        LOCFRAME CSTACK, 8, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        MOV.W   R12, R11
        MOV.W   &pBeaconIndBuf, R15
        MOV.W   #pBeaconIndBuf, R10
        CMP.W   #0x0, R12
        JEQ     ??MT_ZdoBeaconIndCB_0
        CMP.W   #0x0, R15
        JNE     ??MT_ZdoBeaconIndCB_1
        MOV.W   #0x7b, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, &pBeaconIndBuf
        CMP.W   #0x0, R12
        JEQ     ??MT_ZdoBeaconIndCB_2
        MOV.B   #0x0, 0(R12)
??MT_ZdoBeaconIndCB_1:
        MOV.W   @R10, R12
        MOV.B   @R12, R15
        MOV.W   R15, R14
        RLAM.W  #0x2, R15
        ADD.W   R15, R14
        RLAM.W  #0x2, R15
        ADD.W   R14, R15
        ADD.W   R15, R12
        ADD.W   #0x1, R12
        MOV.B   @R11, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x1(R11), 0(R12)
        ADD.W   #0x1, R12
        CALLA   #?Subroutine6
??CrossCallReturnLabel_3:
        MOV.B   0x4(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x5(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x6(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x7(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x8(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x9(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0xa(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0xb(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0xc(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.W   #0x8, R14
        ADD.W   #0xd, R11
        MOV.W   R11, R13
        CALLA   #osal_memcpy
        MOV.W   @R10, R15
        ADD.B   #0x1, 0(R15)
        MOV.W   @R10, R15
        MOV.B   @R15, R14
        MOV.B   R14, R15
        MOV.W   R15, R11
        RLAM.W  #0x2, R15
        ADD.W   R15, R11
        RLAM.W  #0x2, R15
        ADD.W   R11, R15
        ADD.W   #0x16, R15
        CMP.W   #0x7c, R15
        JL      ??MT_ZdoBeaconIndCB_2
        MOV.W   @R10, R15
        CALLA   #?Subroutine5
??CrossCallReturnLabel_33:
        MOV.W   @R10, R15
        MOV.B   #0x0, 0(R15)
        JMP     ??MT_ZdoBeaconIndCB_2
??MT_ZdoBeaconIndCB_0:
        CMP.W   #0x0, R15
        JEQ     ??MT_ZdoBeaconIndCB_2
        MOV.B   @R15, R14
        CMP.B   #0x0, R14
        JEQ     ??MT_ZdoBeaconIndCB_3
        CALLA   #?Subroutine5
??CrossCallReturnLabel_32:
        CMP.W   #0x0, &pBeaconIndBuf
        JEQ     ??MT_ZdoBeaconIndCB_2
??MT_ZdoBeaconIndCB_3:
        MOV.W   @R10, R12
        CALLA   #osal_mem_free
        MOV.W   #0x0, &pBeaconIndBuf
??MT_ZdoBeaconIndCB_2:
        MOV.W   #0x0, R12
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock154

        RSEG CODE:CODE:NOROOT(1)
?Subroutine6:
          CFI Block cfiCond155 Using cfiCommon0
          CFI Function MT_ZdoSendMsgCB
          CFI Conditional ??CrossCallReturnLabel_2
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond156 Using cfiCommon0
          CFI (cfiCond156) Function MT_ZdoBeaconIndCB
          CFI (cfiCond156) Conditional ??CrossCallReturnLabel_3
          CFI (cfiCond156) R10L Frame(CFA, -8)
          CFI (cfiCond156) R11L Frame(CFA, -6)
          CFI (cfiCond156) CFA SP+12
          CFI Block cfiPicker157 Using cfiCommon1
          CFI (cfiPicker157) NoFunction
          CFI (cfiPicker157) Picker
        MOV.B   0x2(R11), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x3(R11), 0(R12)
        ADD.W   #0x1, R12
        RETA
          CFI EndBlock cfiCond155
          CFI EndBlock cfiCond156
          CFI EndBlock cfiPicker157

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoNwkDiscoveryCnfCB:
          CFI Block cfiBlock158 Using cfiCommon0
          CFI Function MT_ZdoNwkDiscoveryCnfCB
        FUNCALL MT_ZdoNwkDiscoveryCnfCB, ZDO_DeregisterForZdoCB
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoNwkDiscoveryCnfCB, ZDO_DeregisterForZdoCB
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoNwkDiscoveryCnfCB, MT_ZdoBeaconIndCB
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_ZdoNwkDiscoveryCnfCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        MOV.W   R12, R10
        MOV.B   #0x2, R12
        CALLA   #ZDO_DeregisterForZdoCB
        MOV.B   #0x3, R12
        CALLA   #ZDO_DeregisterForZdoCB
        MOV.W   #0x0, R12
        CALLA   #MT_ZdoBeaconIndCB
        MOV.W   R10, R15
        MOV.B   #0x1, R14
        MOV.B   #0xc7, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_29:
        MOV.W   #0x0, R12
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock158

        RSEG CODE:CODE:NOROOT(1)
?Subroutine5:
          CFI Block cfiCond159 Using cfiCommon0
          CFI Function MT_ZdoBeaconIndCB
          CFI Conditional ??CrossCallReturnLabel_33
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond160 Using cfiCommon0
          CFI (cfiCond160) Function MT_ZdoBeaconIndCB
          CFI (cfiCond160) Conditional ??CrossCallReturnLabel_32
          CFI (cfiCond160) R10L Frame(CFA, -8)
          CFI (cfiCond160) R11L Frame(CFA, -6)
          CFI (cfiCond160) CFA SP+12
          CFI Block cfiPicker161 Using cfiCommon1
          CFI (cfiPicker161) NoFunction
          CFI (cfiPicker161) Picker
        MOV.B   R14, R13
        RPT     #0x2
        RLAX.B  R14
        ADD.B   R14, R13
        RPT     #0x2
        RLAX.B  R14
        ADD.B   R13, R14
        ADD.B   #0x1, R14
        MOV.B   #0xc5, R13
          CFI EndBlock cfiCond159
          CFI EndBlock cfiCond160
          CFI EndBlock cfiPicker161
        REQUIRE ??Subroutine5_0
        // Fall through to label ??Subroutine5_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine5_0:
          CFI Block cfiCond162 Using cfiCommon0
          CFI Function MT_ZdoSendMsgCB
          CFI Conditional ??CrossCallReturnLabel_31
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
          CFI Block cfiCond163 Using cfiCommon0
          CFI (cfiCond163) Function MT_ZdoJoinCnfCB
          CFI (cfiCond163) Conditional ??CrossCallReturnLabel_30
          CFI (cfiCond163) R10L Frame(CFA, -6)
          CFI (cfiCond163) CFA SP+16
          CFI Block cfiCond164 Using cfiCommon0
          CFI (cfiCond164) Function MT_ZdoNwkDiscoveryCnfCB
          CFI (cfiCond164) Conditional ??CrossCallReturnLabel_29
          CFI (cfiCond164) R10L Frame(CFA, -6)
          CFI (cfiCond164) CFA SP+10
          CFI Block cfiCond165 Using cfiCommon0
          CFI (cfiCond165) Function MT_ZdoBeaconIndCB
          CFI (cfiCond165) Conditional ??CrossCallReturnLabel_33
          CFI (cfiCond165) R10L Frame(CFA, -8)
          CFI (cfiCond165) R11L Frame(CFA, -6)
          CFI (cfiCond165) CFA SP+12
          CFI Block cfiCond166 Using cfiCommon0
          CFI (cfiCond166) Function MT_ZdoBeaconIndCB
          CFI (cfiCond166) Conditional ??CrossCallReturnLabel_32
          CFI (cfiCond166) R10L Frame(CFA, -8)
          CFI (cfiCond166) R11L Frame(CFA, -6)
          CFI (cfiCond166) CFA SP+12
          CFI Block cfiPicker167 Using cfiCommon1
          CFI (cfiPicker167) NoFunction
          CFI (cfiPicker167) Picker
        MOV.B   #0x45, R12
        BRA     #MT_BuildAndSendZToolResponse
          CFI EndBlock cfiCond162
          CFI EndBlock cfiCond163
          CFI EndBlock cfiCond164
          CFI EndBlock cfiCond165
          CFI EndBlock cfiCond166
          CFI EndBlock cfiPicker167

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoJoinReq:
          CFI Block cfiBlock168 Using cfiCommon0
          CFI Function MT_ZdoJoinReq
        FUNCALL MT_ZdoJoinReq, ZDApp_JoinReq
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_ZdoJoinReq, ZDO_RegisterForZdoCB
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_ZdoJoinReq, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 14, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
        MOV.B   #0x1, 0(SP)
        CALLA   #?Subroutine15
??CrossCallReturnLabel_20:
        PUSH.B  0xe(R12)
          CFI CFA SP+12
        PUSH.B  0xd(R12)
          CFI CFA SP+14
        MOV.B   0xb(R12), R15
        MOV.B   0xc(R12), R11
        RPT     #0x8
        RLAX.W  R11
        ADD.W   R11, R15
        MOV.W   R12, R14
        ADD.W   #0x3, R14
        MOV.B   0x1(R12), R13
        MOV.B   0x2(R12), R11
        RPT     #0x8
        RLAX.W  R11
        ADD.W   R11, R13
        MOV.B   @R12, R12
        CALLA   #ZDApp_JoinReq
        MOV.B   R12, 0x4(SP)
        MOV.W   #LWRD(MT_ZdoJoinCnfCB), R14
        MOV.W   #HWRD(MT_ZdoJoinCnfCB), R15
        MOV.B   #0x4, R12
        CALLA   #ZDO_RegisterForZdoCB
        MOV.W   SP, R15
        ADD.W   #0x4, R15
        CALLA   #??Subroutine7_1
??CrossCallReturnLabel_39:
        ADD.W   #0x6, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock168

        RSEG CODE:CODE:NOROOT(1)
MT_ZdoNetworkDiscoveryReq:
          CFI Block cfiBlock169 Using cfiCommon0
          CFI Function MT_ZdoNetworkDiscoveryReq
        FUNCALL MT_ZdoNetworkDiscoveryReq, osal_build_uint32
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoNetworkDiscoveryReq, ZDApp_NetworkDiscoveryReq
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoNetworkDiscoveryReq, ZDO_RegisterForZdoCB
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoNetworkDiscoveryReq, ZDO_RegisterForZdoCB
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoNetworkDiscoveryReq, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
        MOV.W   R12, R11
        MOV.B   #0x1, 0(SP)
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R11
        MOV.B   #0x4, R13
        MOV.W   R11, R12
        CALLA   #osal_build_uint32
        MOV.B   0x4(R11), R14
        CALLA   #ZDApp_NetworkDiscoveryReq
        MOV.B   R12, 0(SP)
        MOV.W   #LWRD(MT_ZdoNwkDiscoveryCnfCB), R14
        MOV.W   #HWRD(MT_ZdoNwkDiscoveryCnfCB), R15
        MOV.B   #0x2, R12
        CALLA   #ZDO_RegisterForZdoCB
        MOV.W   #LWRD(MT_ZdoBeaconIndCB), R14
        MOV.W   #HWRD(MT_ZdoBeaconIndCB), R15
        MOV.B   #0x3, R12
        CALLA   #ZDO_RegisterForZdoCB
        CALLA   #??Subroutine7_0
??CrossCallReturnLabel_42:
        JMP     ??Subroutine1_0
          CFI EndBlock cfiBlock169
// 1030   }
// 1031   /* The short address occupies LSB two bytes */
// 1032   pBuf += Z_EXTADDR_LEN;
// 1033 
// 1034   /* dstEPInt */
// 1035   dstEPInt = *pBuf;
// 1036 
// 1037   retValue = (uint8)ZDP_UnbindReq( &destAddr, pSrcAddr, srcEPInt, clusterID, &devAddr, dstEPInt, 0);
// 1038 
// 1039   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1040 }
// 1041 
// 1042 #if defined (MT_SYS_KEY_MANAGEMENT)
// 1043 /***************************************************************************************************
// 1044  * @fn      MT_ZdoSetLinkKey
// 1045  *
// 1046  * @brief   Set an application or trust center link key.
// 1047  *
// 1048  * @param   pBuf  - MT message data
// 1049  *
// 1050  * @return  void
// 1051  ***************************************************************************************************/
// 1052 void MT_ZdoSetLinkKey(uint8 *pBuf)
// 1053 {
// 1054   uint8 cmdId;
// 1055   uint8 retValue;
// 1056   uint8 *pExtAddr;
// 1057   uint8 *pKey;
// 1058   uint16 shortAddr;
// 1059 
// 1060   /* parse header */
// 1061   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1062   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1063 
// 1064   /* ShortAddr */
// 1065   shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1066   pBuf += 2;
// 1067 
// 1068   /* Extended Addr */
// 1069   pExtAddr = pBuf;
// 1070   pBuf += Z_EXTADDR_LEN;
// 1071 
// 1072   /* Key data */
// 1073   pKey = pBuf;
// 1074 
// 1075   retValue = (uint8)ZDSecMgrAddLinkKey( shortAddr, pExtAddr, pKey);
// 1076 
// 1077   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1078 }
// 1079 
// 1080 /***************************************************************************************************
// 1081  * @fn      MT_ZdoRemoveLinkKey
// 1082  *
// 1083  * @brief   Remove an application or trust center link key.
// 1084  *
// 1085  * @param   pBuf  - MT message data
// 1086  *
// 1087  * @return  void
// 1088  ***************************************************************************************************/
// 1089 void MT_ZdoRemoveLinkKey(uint8 *pBuf)
// 1090 {
// 1091   uint8 cmdId;
// 1092   uint8 retValue;
// 1093   uint8 *pExtAddr;
// 1094 
// 1095   /* parse header */
// 1096   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1097   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1098 
// 1099   /* ShortAddr */
// 1100   pExtAddr = pBuf;
// 1101 
// 1102   retValue = ZDSecMgrDeviceRemoveByExtAddr( pExtAddr );
// 1103 
// 1104   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1105 }
// 1106 
// 1107 /***************************************************************************************************
// 1108  * @fn      MT_ZdoGetLinkKey
// 1109  *
// 1110  * @brief   Get the application link key.
// 1111  *
// 1112  * @param   pBuf  - MT message data
// 1113  *
// 1114  * @return  void
// 1115  ***************************************************************************************************/
// 1116 void MT_ZdoGetLinkKey(uint8 *pBuf)
// 1117 {
// 1118   uint8 cmdId;
// 1119   uint8 retValue;
// 1120   uint8 *pExtAddr;
// 1121   uint8 *retBuf = NULL;
// 1122   uint8 len;
// 1123   APSME_LinkKeyData_t *pApsLinkKey = NULL;
// 1124   uint16 apsLinkKeyNvId;
// 1125 
// 1126   // parse header
// 1127   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1128   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1129 
// 1130   // Extended Address
// 1131   pExtAddr = pBuf;
// 1132 
// 1133   // Fetch the key NV ID
// 1134   retValue = APSME_LinkKeyNVIdGet( pExtAddr, &apsLinkKeyNvId );
// 1135 
// 1136   if (retValue == ZSuccess)
// 1137   {
// 1138     if ((pApsLinkKey = (APSME_LinkKeyData_t *)osal_mem_alloc(sizeof(APSME_LinkKeyData_t))) != NULL)
// 1139     {
// 1140       // retrieve key from NV
// 1141       if (osal_nv_read( apsLinkKeyNvId, 0,
// 1142                        sizeof(APSME_LinkKeyData_t), pApsLinkKey) != SUCCESS)
// 1143       {
// 1144         retValue = ZNwkUnknownDevice;
// 1145       }
// 1146     }
// 1147     else
// 1148     {
// 1149       retValue = ZNwkUnknownDevice;
// 1150     }
// 1151   }
// 1152 
// 1153   // Construct the response message
// 1154   len = MT_ZDO_STATUS_LEN + Z_EXTADDR_LEN + SEC_KEY_LEN; // status + extAddr + key
// 1155   if ((retBuf = (uint8 *)osal_mem_alloc(len)) != NULL)
// 1156   {
// 1157     if (retValue == ZSuccess)
// 1158     {
// 1159       // Extended Address
// 1160       osal_memcpy( &(retBuf[1]), pExtAddr, Z_EXTADDR_LEN );
// 1161 
// 1162       // Key data
// 1163       osal_memcpy( &(retBuf[1 + Z_EXTADDR_LEN]), pApsLinkKey->key, SEC_KEY_LEN );
// 1164     }
// 1165     else
// 1166     {
// 1167       // Failed case - set the rest fields to all FF
// 1168       osal_memset( &(retBuf[1]), 0xFF, Z_EXTADDR_LEN + SEC_KEY_LEN );
// 1169     }
// 1170 
// 1171     retBuf[0] = retValue;  // Status
// 1172 
// 1173     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, len, retBuf);
// 1174 
// 1175     // clear retBuf because it contains key data and free allocated memory
// 1176     osal_memset(retBuf, 0x00, len);
// 1177 
// 1178     osal_mem_free(retBuf);
// 1179   }
// 1180 
// 1181   // clear copy of key in RAM
// 1182   if (pApsLinkKey != NULL)
// 1183   {
// 1184     osal_memset(pApsLinkKey, 0x00, sizeof(APSME_LinkKeyData_t));
// 1185 
// 1186     osal_mem_free(pApsLinkKey);
// 1187   }
// 1188 
// 1189   return;
// 1190 }
// 1191 #endif // MT_SYS_KEY_MANAGEMENT
// 1192 
// 1193 #if defined (MT_ZDO_MGMT)
// 1194 /***************************************************************************************************
// 1195  * @fn      MT_ZdoMgmtNwkDiscRequest
// 1196  *
// 1197  * @brief   Handle a Mgmt Nwk Discovery request.
// 1198  *
// 1199  * @param   pBuf  - MT message data
// 1200  *
// 1201  * @return  void
// 1202  ***************************************************************************************************/
// 1203 void MT_ZdoMgmtNwkDiscRequest(uint8 *pBuf)
// 1204 {
// 1205   uint8 cmdId;
// 1206   uint8 retValue;
// 1207   zAddrType_t destAddr;
// 1208   uint32 scanChannels;
// 1209   uint8 scanDuration, startIndex;
// 1210 
// 1211   /* parse header */
// 1212   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1213   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1214 
// 1215   /* Dev address */
// 1216   destAddr.addrMode = Addr16Bit;
// 1217   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1218   pBuf += 2;
// 1219 
// 1220   /* Scan Channels */
// 1221   scanChannels = BUILD_UINT32( pBuf[0], pBuf[1], pBuf[2], pBuf[3] );
// 1222   pBuf += 4;
// 1223 
// 1224   /* Scan Duration */
// 1225   scanDuration = *pBuf++;
// 1226 
// 1227   /* Start Index */
// 1228   startIndex = *pBuf;
// 1229 
// 1230   retValue = (uint8)ZDP_MgmtNwkDiscReq( &destAddr, scanChannels, scanDuration, startIndex, 0);
// 1231 
// 1232   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1233 }
// 1234 
// 1235 /***************************************************************************************************
// 1236  * @fn      MT_ZdoMgmtLqiRequest
// 1237  *
// 1238  * @brief   Handle a Mgmt Lqi request.
// 1239  *
// 1240  * @param   pBuf  - MT message data
// 1241  *
// 1242  * @return  void
// 1243  ***************************************************************************************************/
// 1244 void MT_ZdoMgmtLqiRequest(uint8 *pBuf)
// 1245 {
// 1246   uint8 cmdId;
// 1247   uint8 retValue;
// 1248   zAddrType_t destAddr;
// 1249   uint8 startIndex;
// 1250 
// 1251   /* parse header */
// 1252   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1253   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1254 
// 1255   /* Dev address */
// 1256   destAddr.addrMode = Addr16Bit;
// 1257   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1258   pBuf += 2;
// 1259 
// 1260   /* Start Index */
// 1261   startIndex = *pBuf;
// 1262 
// 1263   retValue = (uint8)ZDP_MgmtLqiReq( &destAddr, startIndex, 0);
// 1264 
// 1265   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1266 }
// 1267 
// 1268 /***************************************************************************************************
// 1269  * @fn      MT_ZdoMgmtRtgRequest
// 1270  *
// 1271  * @brief   Handle a Mgmt Rtg request.
// 1272  *
// 1273  * @param   pBuf  - MT message data
// 1274  *
// 1275  * @return  void
// 1276  ***************************************************************************************************/
// 1277 void MT_ZdoMgmtRtgRequest(uint8 *pBuf)
// 1278 {
// 1279   uint8 cmdId;
// 1280   uint8 retValue;
// 1281   zAddrType_t destAddr;
// 1282   uint8 startIndex;
// 1283 
// 1284   /* parse header */
// 1285   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1286   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1287 
// 1288   /* Dev Address */
// 1289   destAddr.addrMode = Addr16Bit;
// 1290   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1]);
// 1291   pBuf += 2;
// 1292 
// 1293   /* Start Index */
// 1294   startIndex = *pBuf;
// 1295 
// 1296   retValue = (byte)ZDP_MgmtRtgReq( &destAddr, startIndex, 0);
// 1297 
// 1298   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1299 }
// 1300 
// 1301 /***************************************************************************************************
// 1302  * @fn      MT_ZdoMgmtBindRequest
// 1303  *
// 1304  * @brief   Handle a Mgmt Bind request.
// 1305  *
// 1306  * @param   pBuf  - MT message data
// 1307  *
// 1308  * @return  void
// 1309  ***************************************************************************************************/
// 1310 void MT_ZdoMgmtBindRequest(uint8 *pBuf)
// 1311 {
// 1312   uint8 cmdId;
// 1313   uint8 retValue;
// 1314   zAddrType_t destAddr;
// 1315   uint8 startIndex;
// 1316 
// 1317   /* parse header */
// 1318   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1319   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1320 
// 1321   /* Dev Address */
// 1322   destAddr.addrMode = Addr16Bit;
// 1323   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1324   pBuf += 2;
// 1325 
// 1326   /* Start Index */
// 1327   startIndex = *pBuf;
// 1328 
// 1329   retValue = (uint8)ZDP_MgmtBindReq( &destAddr, startIndex, 0);
// 1330 
// 1331   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1332 }
// 1333 
// 1334 /***************************************************************************************************
// 1335  * @fn      MT_ZdoMgmtLeaveRequest
// 1336  *
// 1337  * @brief   Handle a Mgmt Leave request.
// 1338  *
// 1339  * @param   pBuf  - MT message data
// 1340  *
// 1341  * @return  void
// 1342  ***************************************************************************************************/
// 1343 void MT_ZdoMgmtLeaveRequest(uint8 *pBuf)
// 1344 {
// 1345   uint8 cmdId;
// 1346   uint8 retValue;
// 1347   zAddrType_t destAddr;
// 1348   uint8 *pIEEEAddr;
// 1349   uint8 removeChildren, rejoin;
// 1350 
// 1351   /* parse header */
// 1352   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1353   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1354 
// 1355   /* Destination Address */
// 1356   destAddr.addrMode = Addr16Bit;
// 1357   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1358   pBuf += 2;
// 1359 
// 1360   /* IEEE address */
// 1361   pIEEEAddr = pBuf;
// 1362   pBuf += Z_EXTADDR_LEN;
// 1363 
// 1364   /* Remove Children */
// 1365   removeChildren = *pBuf++;
// 1366 
// 1367   /* Rejoin */
// 1368   rejoin = *pBuf;
// 1369 
// 1370   retValue = (byte)ZDP_MgmtLeaveReq( &destAddr, pIEEEAddr, removeChildren, rejoin, 0);
// 1371 
// 1372   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1373 }
// 1374 
// 1375 
// 1376 /***************************************************************************************************
// 1377  * @fn      MT_ZdoMgmtDirectJoinRequest
// 1378  *
// 1379  * @brief   Handle a Mgmt Direct Join request.
// 1380  *
// 1381  * @param   pBuf  - MT message data
// 1382  *
// 1383  * @return  void
// 1384  ***************************************************************************************************/
// 1385 void MT_ZdoMgmtDirectJoinRequest(uint8 *pBuf)
// 1386 {
// 1387   uint8 cmdId;
// 1388   uint8 retValue;
// 1389   zAddrType_t destAddr;
// 1390   uint8 *deviceAddr;
// 1391   uint8 capInfo;
// 1392 
// 1393   /* parse header */
// 1394   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1395   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1396 
// 1397   /* Destination Address */
// 1398   destAddr.addrMode = Addr16Bit;
// 1399   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1400   pBuf += 2;
// 1401 
// 1402   /* Device Address */
// 1403   deviceAddr = pBuf;
// 1404   pBuf += Z_EXTADDR_LEN;
// 1405 
// 1406   /* Capability information */
// 1407   capInfo = *pBuf;
// 1408 
// 1409   retValue = (uint8)ZDP_MgmtDirectJoinReq( &destAddr, deviceAddr, capInfo, 0);
// 1410 
// 1411   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1412 }
// 1413 
// 1414 /***************************************************************************************************
// 1415  * @fn      MT_ZdoMgmtPermitJoinRequest
// 1416  *
// 1417  * @brief   Handle a Mgmt Permit Join request.
// 1418  *
// 1419  * @param   pBuf  - MT message data
// 1420  *
// 1421  * @return  void
// 1422  ***************************************************************************************************/
// 1423 void MT_ZdoMgmtPermitJoinRequest(uint8 *pBuf)
// 1424 {
// 1425   uint8 cmdId;
// 1426   uint8 retValue;
// 1427   zAddrType_t destAddr;
// 1428   uint8 duration, tcSignificance;
// 1429 
// 1430   /* parse header */
// 1431   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1432   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1433 
// 1434   /* Destination Address */
// 1435   destAddr.addrMode = Addr16Bit;
// 1436   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1437   pBuf += 2;
// 1438 
// 1439   /* Duration */
// 1440   duration = *pBuf++;
// 1441 
// 1442   /* Trust center significance */
// 1443   tcSignificance = *pBuf;
// 1444 
// 1445   retValue = (byte)ZDP_MgmtPermitJoinReq( &destAddr, duration, tcSignificance, 0);
// 1446 
// 1447   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1448 }
// 1449 
// 1450 /***************************************************************************************************
// 1451  * @fn      MT_ZdoMgmtNwkUpdateRequest
// 1452  *
// 1453  * @brief   Handle a Mgmt Nwk Update request.
// 1454  *
// 1455  * @param   pBuf  - MT message data
// 1456  *
// 1457  * @return  void
// 1458  ***************************************************************************************************/
// 1459 void MT_ZdoMgmtNwkUpdateRequest(uint8 *pBuf)
// 1460 {
// 1461   uint8 cmdId;
// 1462   uint8 retValue;
// 1463   zAddrType_t destAddr;
// 1464   uint32 channelMask;
// 1465   uint8 scanDuration, scanCount;
// 1466   uint16 nwkManagerAddr;
// 1467 
// 1468     /* parse header */
// 1469   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1470   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1471 
// 1472   /* Destination address */
// 1473   destAddr.addr.shortAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1474   pBuf += 2;
// 1475 
// 1476   /* Destination address mode */
// 1477   destAddr.addrMode = *pBuf++;
// 1478 
// 1479   channelMask = BUILD_UINT32( pBuf[0], pBuf[1], pBuf[2], pBuf[3]);
// 1480   pBuf += 4;
// 1481 
// 1482   /* Scan duration */
// 1483   scanDuration = *pBuf++;
// 1484 
// 1485   /* Scan count */
// 1486   scanCount = *pBuf++;
// 1487 
// 1488   /* NWK manager address */
// 1489   nwkManagerAddr = BUILD_UINT16( pBuf[0], pBuf[1] );
// 1490 
// 1491   /* Send the Management Network Update request */
// 1492   retValue = (uint8)ZDP_MgmtNwkUpdateReq( &destAddr, channelMask, scanDuration,
// 1493                                           scanCount, _NIB.nwkUpdateId+1, nwkManagerAddr );
// 1494 
// 1495   /*
// 1496     Since we don't recevied our own broadcast messages, we should
// 1497     send a unicast copy of the message to ourself.
// 1498   */
// 1499   if ( destAddr.addrMode == AddrBroadcast )
// 1500   {
// 1501     destAddr.addrMode = Addr16Bit;
// 1502     destAddr.addr.shortAddr = _NIB.nwkDevAddress;
// 1503     retValue = (uint8) ZDP_MgmtNwkUpdateReq( &destAddr, channelMask, scanDuration,
// 1504                                              scanCount, _NIB.nwkUpdateId+1, nwkManagerAddr );
// 1505   }
// 1506 
// 1507   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue);
// 1508 }
// 1509 #endif /* MT_ZDO_MGMT */
// 1510 
// 1511 /***************************************************************************************************
// 1512  * @fn      MT_ZdoStartupFromApp
// 1513  *
// 1514  * @brief   Handle a Startup from App request.
// 1515  *
// 1516  * @param   pBuf  - MT message data
// 1517  *
// 1518  * @return  void
// 1519  ***************************************************************************************************/

        RSEG CODE:CODE:NOROOT(1)
// 1520 void MT_ZdoStartupFromApp(uint8 *pBuf)
MT_ZdoStartupFromApp:
          CFI Block cfiBlock170 Using cfiCommon0
          CFI Function MT_ZdoStartupFromApp
// 1521 {
        FUNCALL MT_ZdoStartupFromApp, ZDOInitDevice
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_ZdoStartupFromApp, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
// 1522   uint8 cmd0, cmd1, retValue;
// 1523 
// 1524   /* parse header */
// 1525   cmd0 = pBuf[MT_RPC_POS_CMD0];
        MOV.B   0x1(R12), R11
// 1526   cmd1 = pBuf[MT_RPC_POS_CMD1];
        MOV.B   0x2(R12), R10
// 1527   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1528 
// 1529   retValue = ZDOInitDevice(100);
        MOV.W   #0x64, R12
        CALLA   #ZDOInitDevice
          CFI EndBlock cfiBlock170
        REQUIRE ?Subroutine1
        // Fall through to label ?Subroutine1
// 1530 
// 1531   if (MT_RPC_CMD_SREQ == (cmd0 & MT_RPC_CMD_TYPE_MASK))
// 1532   {
// 1533     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP|(uint8)MT_RPC_SYS_ZDO), cmd1,1, &retValue);
// 1534   }
// 1535 }

        RSEG CODE:CODE:REORDER:NOROOT(1)
?Subroutine1:
          CFI Block cfiBlock171 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+10
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
// 1536 
// 1537 
// 1538 /***************************************************************************************************
// 1539  * @fn      MT_ZdoNetworkDiscoveryReq
// 1540  *
// 1541  * @brief   Handle a ZDO Network Discovery request.
// 1542  *
// 1543  * @param   pBuf  - MT message data
// 1544  *
// 1545  * @return  void
// 1546  ***************************************************************************************************/
// 1547 void MT_ZdoNetworkDiscoveryReq(uint8 *pBuf)
// 1548 {
// 1549   uint8  retValue = ZFailure;
// 1550   uint8  cmdId;
// 1551   uint32 scanChannels;
// 1552 
// 1553   /* parse header */
// 1554   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1555   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1556 
// 1557   /* Packet format */
// 1558   /* scan channels (4) | scan duration (1) */
// 1559 
// 1560   /* Scan channels */
// 1561   scanChannels = osal_build_uint32(pBuf, 4);
// 1562   pBuf += 4;
// 1563 
// 1564   retValue = ZDApp_NetworkDiscoveryReq(scanChannels, *pBuf);
// 1565 
// 1566   // Register ZDO callback for MT to handle the network discovery confirm
// 1567   // and beacon notification confirm
// 1568   ZDO_RegisterForZdoCB( ZDO_NWK_DISCOVERY_CNF_CBID, &MT_ZdoNwkDiscoveryCnfCB );
// 1569   ZDO_RegisterForZdoCB( ZDO_BEACON_NOTIFY_IND_CBID, &MT_ZdoBeaconIndCB );
// 1570 
// 1571   /* Build and send back the response */
// 1572   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue );
// 1573 }
// 1574 
// 1575 
// 1576 /***************************************************************************************************
// 1577  * @fn      MT_ZdoJoinReq
// 1578  *
// 1579  * @brief   Handle a ZDO Join request.
// 1580  *
// 1581  * @param   pBuf  - MT message data
// 1582  *
// 1583  * @return  void
// 1584  ***************************************************************************************************/
// 1585 void MT_ZdoJoinReq(uint8 *pBuf)
// 1586 {
// 1587   uint8  retValue = ZFailure;
// 1588   uint8  cmdId;
// 1589   uint16 panId;
// 1590   uint16 chosenParent;
// 1591 
// 1592   /* parse header */
// 1593   cmdId = pBuf[MT_RPC_POS_CMD1];
// 1594   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1595 
// 1596   /* Packet format */
// 1597   /* channel     (1) | panID (2) | extendedPanID (8) | chosenParent (2) |
// 1598    * parentDepth (1) | stackProfile  (1)
// 1599    */
// 1600 
// 1601   panId        = BUILD_UINT16(pBuf[1], pBuf[2]);
// 1602   chosenParent = BUILD_UINT16(pBuf[11], pBuf[12]);
// 1603 
// 1604   retValue = ZDApp_JoinReq(pBuf[0], panId, &(pBuf[3]), chosenParent, pBuf[13], pBuf[14]);
// 1605 
// 1606   /* Register for MT to receive Join Confirm */
// 1607   ZDO_RegisterForZdoCB( ZDO_JOIN_CNF_CBID, &MT_ZdoJoinCnfCB );
// 1608 
// 1609   /* Build and send back the response */
// 1610   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_ZDO), cmdId, 1, &retValue );
// 1611 
// 1612 }
// 1613 
// 1614 /***************************************************************************************************
// 1615  * @fn          MT_ZdoNwkDiscoveryCnfCB
// 1616  *
// 1617  * @brief       Send an indication to inform host device the completion of
// 1618  *              network discovery scan
// 1619  *
// 1620  * @param       pStr - pointer to a parameter and a structure of parameters
// 1621  *
// 1622  * @return      void
// 1623  ***************************************************************************************************/
// 1624 void *MT_ZdoNwkDiscoveryCnfCB ( void *pStr )
// 1625 {
// 1626   /* pStr: status (uint8) */
// 1627   /* Packet Format */
// 1628   /* Status (1) */
// 1629 
// 1630   // Scan completed. De-register the callback with ZDO
// 1631   ZDO_DeregisterForZdoCB( ZDO_NWK_DISCOVERY_CNF_CBID );
// 1632   ZDO_DeregisterForZdoCB( ZDO_BEACON_NOTIFY_IND_CBID );
// 1633 
// 1634   // Send the buffered beacon indication
// 1635   MT_ZdoBeaconIndCB ( NULL );
// 1636 
// 1637   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1638                                          MT_ZDO_NWK_DISCOVERY_CNF, 1, pStr);
// 1639   return NULL;
// 1640 }
// 1641 
// 1642 
// 1643 
// 1644 /***************************************************************************************************
// 1645  * @fn          MT_ZdoBeaconIndCB
// 1646  *
// 1647  * @brief       Send an indication to host device of a beacon notification
// 1648  *
// 1649  * @param       pStr -  pointer to a parameter and a structure of parameters
// 1650  *
// 1651  * @return      void
// 1652  ***************************************************************************************************/
// 1653 void *MT_ZdoBeaconIndCB ( void *pStr )
// 1654 {
// 1655   zdoBeaconInd_t *pBeacon = pStr;
// 1656   uint8 *pTmp;
// 1657 
// 1658   /* Packet Format */
// 1659   /* devCnt (1) | device #1 (21) | device #2 (21) |... | device #n (21) */
// 1660 
// 1661   if( pStr != NULL)
// 1662   {
// 1663     if( pBeaconIndBuf == NULL )
// 1664     {
// 1665       // If pBeaconIndBuf has not been allocated yet
// 1666       // allocate memory now with MAX_UART_TX_BUFF
// 1667       if( NULL == (pBeaconIndBuf = (uint8 *)osal_mem_alloc(MT_ZDO_BEACON_IND_PACK_LEN)))
// 1668       {
// 1669         // Memory failure
// 1670         return NULL;
// 1671       }
// 1672       pBeaconIndBuf[0] = 0; // First byte is devCnt. Initialize to 0.
// 1673     }
// 1674 
// 1675     // Fill in the buffer with the beacon indication
// 1676     pTmp = pBeaconIndBuf + (1 + pBeaconIndBuf[0] * MT_ZDO_BEACON_IND_LEN);
// 1677     *pTmp++ = LO_UINT16(pBeacon->sourceAddr);
// 1678     *pTmp++ = HI_UINT16(pBeacon->sourceAddr);
// 1679     *pTmp++ = LO_UINT16(pBeacon->panID);
// 1680     *pTmp++ = HI_UINT16(pBeacon->panID);
// 1681     *pTmp++ = pBeacon->logicalChannel;
// 1682     *pTmp++ = pBeacon->permitJoining;
// 1683     *pTmp++ = pBeacon->routerCapacity;
// 1684     *pTmp++ = pBeacon->deviceCapacity;
// 1685     *pTmp++ = pBeacon->protocolVersion;
// 1686     *pTmp++ = pBeacon->stackProfile;
// 1687     *pTmp++ = pBeacon->LQI;
// 1688     *pTmp++ = pBeacon->depth;
// 1689     *pTmp++ = pBeacon->updateID;
// 1690     osal_memcpy( pTmp, pBeacon->extendedPanID, Z_EXTADDR_LEN);
// 1691 
// 1692     pBeaconIndBuf[0] += 1; // Increment the devCnt
// 1693 
// 1694     // Check if the buffer can fit in another beacon
// 1695     if( ((pBeaconIndBuf[0] + 1) * MT_ZDO_BEACON_IND_LEN + 1) > MT_ZDO_BEACON_IND_PACK_LEN )
// 1696     {
// 1697       // Packet full, send the packet over MT
// 1698       MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1699                                    MT_ZDO_BEACON_NOTIFY_IND,
// 1700                                    (pBeaconIndBuf[0] * MT_ZDO_BEACON_IND_LEN + 1), pBeaconIndBuf);
// 1701       pBeaconIndBuf[0] = 0; // Reset the devCnt back to zero
// 1702     }
// 1703   }
// 1704   else
// 1705   {
// 1706     if( (pBeaconIndBuf != NULL) && (pBeaconIndBuf[0] != 0) )
// 1707     {
// 1708       // End of beacon indication, send the packet over MT
// 1709       MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1710                                    MT_ZDO_BEACON_NOTIFY_IND,
// 1711                                    (pBeaconIndBuf[0] * MT_ZDO_BEACON_IND_LEN + 1), pBeaconIndBuf);
// 1712     }
// 1713     // Free the allocated memory
// 1714     if(pBeaconIndBuf != NULL)
// 1715     {
// 1716       osal_mem_free(pBeaconIndBuf);
// 1717       pBeaconIndBuf = NULL;
// 1718     }
// 1719   }
// 1720 
// 1721   return NULL;
// 1722 }
// 1723 
// 1724 
// 1725 
// 1726 /***************************************************************************************************
// 1727  * @fn          MT_ZdoJoinCnfCB
// 1728  *
// 1729  * @brief       Handle the ZDO Join Confirm from ZDO
// 1730  *
// 1731  * @param       pStr - pointer to a parameter and a structure of parameters
// 1732  *
// 1733  * @return      void
// 1734  ***************************************************************************************************/
// 1735 void *MT_ZdoJoinCnfCB ( void *pStr )
// 1736 {
// 1737   /* pStr: zdoJoinCnf_t* */
// 1738   /* Packet Format */
// 1739   /* Status (1) | device addr (2) | parent addr (2) */
// 1740 
// 1741   uint8 buf[MT_ZDO_JOIN_CNF_LEN];
// 1742   zdoJoinCnf_t *joinCnf = pStr;
// 1743 
// 1744   /* Join Complete. De-register the callback with ZDO */
// 1745   ZDO_DeregisterForZdoCB( ZDO_JOIN_CNF_CBID );
// 1746 
// 1747   buf[0] = joinCnf->status;
// 1748   buf[1] = LO_UINT16( joinCnf->deviceAddr );
// 1749   buf[2] = HI_UINT16( joinCnf->deviceAddr );
// 1750   buf[3] = LO_UINT16( joinCnf->parentAddr );
// 1751   buf[4] = HI_UINT16( joinCnf->parentAddr );
// 1752 
// 1753   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1754                                MT_ZDO_JOIN_CNF, MT_ZDO_JOIN_CNF_LEN, buf);
// 1755 
// 1756   return NULL;
// 1757 }
// 1758 
// 1759 /*************************************************************************************************
// 1760  * @fn      MT_ZdoRegisterForZDOMsg(pBuf);
// 1761  *
// 1762  * @brief   MT proxy for ZDO_RegisterForZDOMsg.
// 1763  *
// 1764  * @param   pBuf  - MT message data
// 1765  *
// 1766  * @return  void
// 1767  *************************************************************************************************/
// 1768 void MT_ZdoRegisterForZDOMsg(uint8 *pBuf)
// 1769 {
// 1770   uint8 cmd0, cmd1, tmp;
// 1771   uint16 cId;
// 1772 
// 1773   /* parse header */
// 1774   cmd0 = pBuf[MT_RPC_POS_CMD0];
// 1775   cmd1 = pBuf[MT_RPC_POS_CMD1];
// 1776   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1777 
// 1778   cId = BUILD_UINT16(pBuf[0], pBuf[1]);
// 1779   tmp = ZDO_RegisterForZDOMsg(MT_TaskID, cId);
// 1780 
// 1781   if (MT_RPC_CMD_SREQ == (cmd0 & MT_RPC_CMD_TYPE_MASK))
// 1782   {
// 1783     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP|(uint8)MT_RPC_SYS_ZDO), cmd1, 1, &tmp);
// 1784   }
// 1785 }
// 1786 
// 1787 /*************************************************************************************************
// 1788  * @fn      MT_ZdoRemoveRegisteredCB(pBuf);
// 1789  *
// 1790  * @brief   MT proxy for ZDO_RemoveRegisteredCB.
// 1791  *
// 1792  * @param   pBuf  - MT message data
// 1793  *
// 1794  * @return  void
// 1795  *************************************************************************************************/
// 1796 void MT_ZdoRemoveRegisteredCB(uint8 *pBuf)
// 1797 {
// 1798   uint8 cmd0, cmd1, tmp;
// 1799   uint16 cId;
// 1800 
// 1801   /* parse header */
// 1802   cmd0 = pBuf[MT_RPC_POS_CMD0];
// 1803   cmd1 = pBuf[MT_RPC_POS_CMD1];
// 1804   pBuf += MT_RPC_FRAME_HDR_SZ;
// 1805 
// 1806   cId = BUILD_UINT16(pBuf[0], pBuf[1]);
// 1807   tmp = ZDO_RemoveRegisteredCB(MT_TaskID, cId);
        MOV.B   R12, 0(SP)
// 1808 
// 1809   if (MT_RPC_CMD_SREQ == (cmd0 & MT_RPC_CMD_TYPE_MASK))
        AND.B   #0xe0, R11
        CMP.B   #0x20, R11
        JNE     ??Subroutine1_0
// 1810   {
// 1811     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP|(uint8)MT_RPC_SYS_ZDO), cmd1, 1, &tmp);
        CALLA   #??Subroutine7_0
// 1812   }
// 1813 }
??Subroutine1_0:
        ADD.W   #0x2, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI CFA SP+4
          CFI R10L SameValue
          CFI R11L SameValue
        RETA
          CFI EndBlock cfiBlock171
// 1814 
// 1815 #endif /* MT_ZDO_FUNC */
// 1816 
// 1817 
// 1818 /***************************************************************************************************
// 1819  * Callback handling function
// 1820  ***************************************************************************************************/
// 1821 
// 1822 #if defined (MT_ZDO_CB_FUNC)
// 1823 
// 1824 /***************************************************************************************************
// 1825  * @fn      MT_ZdoStateChangeCB
// 1826  *
// 1827  * @brief   Handle state change OSAL message from ZDO.
// 1828  *
// 1829  * @param   pMsg  - Message data
// 1830  *
// 1831  * @return  void
// 1832  */
// 1833 void MT_ZdoStateChangeCB(osal_event_hdr_t *pMsg)
// 1834 {
// 1835   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 1836                                        MT_ZDO_STATE_CHANGE_IND, 1, &pMsg->status);
// 1837 }
// 1838 
// 1839 /***************************************************************************************************
// 1840  * @fn     MT_ZdoDirectCB()
// 1841  *
// 1842  * @brief  ZDO direct callback.  Build an MT message directly from the
// 1843  *         over-the-air ZDO message.
// 1844  *
// 1845  * @param  pData - Incoming AF frame.
// 1846  *
// 1847  * @return  none
// 1848  ***************************************************************************************************/
// 1849 void MT_ZdoDirectCB( afIncomingMSGPacket_t *pData, zdoIncomingMsg_t *inMsg )
// 1850 {
// 1851   uint8 len, *pBuf;
// 1852   uint16 origClusterId;
// 1853 
// 1854   // save original value because MT_ZdoHandleExceptions() function could modify pData->clusterId
// 1855   origClusterId = pData->clusterId;
// 1856 
// 1857   // Is the message an exception or not a response?
// 1858   if ( MT_ZdoHandleExceptions( pData, inMsg ) || ( (origClusterId & ZDO_RESPONSE_BIT) == 0 ) )
// 1859   {
// 1860     return;  // Handled somewhere else or not needed.
// 1861   }
// 1862 
// 1863   /* ZDO data starts after one-byte sequence number and the msg buffer length includes
// 1864    * two bytes for srcAddr.
// 1865    */
// 1866   len = pData->cmd.DataLength - 1 + sizeof(uint16);
// 1867 
// 1868   if (NULL != (pBuf = (uint8 *)osal_mem_alloc(len)))
// 1869   {
// 1870     uint8 id = MT_ZDO_CID_TO_AREQ_ID(pData->clusterId);
// 1871 
// 1872     pBuf[0] = LO_UINT16(pData->srcAddr.addr.shortAddr);
// 1873     pBuf[1] = HI_UINT16(pData->srcAddr.addr.shortAddr);
// 1874 
// 1875     /* copy ZDO data, skipping one-byte sequence number */
// 1876     osal_memcpy(pBuf+2, (pData->cmd.Data + 1), pData->cmd.DataLength-1);
// 1877 
// 1878     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO), id, len, pBuf);
// 1879     osal_mem_free(pBuf);
// 1880   }
// 1881 }
// 1882 
// 1883 /***************************************************************************************************
// 1884  * @fn     MT_ZdoHandleExceptions()
// 1885  *
// 1886  * @brief  Handles all messages that are an exception to the generic MT ZDO Response.
// 1887  *
// 1888  * @param  pData - Incoming AF frame.
// 1889  *
// 1890  * @return  TRUE if handled by this function, FALSE if not
// 1891  ***************************************************************************************************/
// 1892 uint8 MT_ZdoHandleExceptions( afIncomingMSGPacket_t *pData, zdoIncomingMsg_t *inMsg )
// 1893 {
// 1894   uint8 ret = TRUE;
// 1895   ZDO_NwkIEEEAddrResp_t *nwkRsp;
// 1896   ZDO_DeviceAnnce_t devAnnce;
// 1897   uint8 doDefault = FALSE;
// 1898 
// 1899   switch ( inMsg->clusterID )
// 1900   {
// 1901     case NWK_addr_rsp:
// 1902     case IEEE_addr_rsp:
// 1903       if ( NULL != (nwkRsp = ZDO_ParseAddrRsp(inMsg)) )
// 1904       {
// 1905         if ( nwkRsp->status == ZDO_SUCCESS )
// 1906         {
// 1907           MT_ZdoAddrRspCB( nwkRsp, inMsg->clusterID );
// 1908         }
// 1909         osal_mem_free( nwkRsp );
// 1910       }
// 1911       break;
// 1912 
// 1913     case Device_annce:
// 1914       ZDO_ParseDeviceAnnce( inMsg, &devAnnce );
// 1915       MT_ZdoEndDevAnnceCB( &devAnnce, inMsg->srcAddr.addr.shortAddr );
// 1916       break;
// 1917 
// 1918     case Simple_Desc_rsp:
// 1919       if ( pData->cmd.DataLength > 5 )
// 1920       {
// 1921         ret = FALSE;
// 1922       }
// 1923       else
// 1924       {
// 1925         doDefault = TRUE;
// 1926       }
// 1927       break;
// 1928 
// 1929     default:
// 1930       ret = FALSE;
// 1931       break;
// 1932   }
// 1933 
// 1934   if ( doDefault )
// 1935   {
// 1936     ret = FALSE;
// 1937     pData->clusterId = MtZdoDef_rsp;
// 1938     pData->cmd.DataLength = 2;
// 1939   }
// 1940 
// 1941   return ( ret );
// 1942 }
// 1943 
// 1944 /***************************************************************************************************
// 1945  * @fn      MT_ZdoAddrRspCB
// 1946  *
// 1947  * @brief   Handle IEEE or nwk address response OSAL message from ZDO.
// 1948  *
// 1949  * @param   pMsg  - Message data
// 1950  *
// 1951  * @return  void
// 1952  */
// 1953 void MT_ZdoAddrRspCB( ZDO_NwkIEEEAddrResp_t *pMsg, uint16 clusterID )
// 1954 {
// 1955   uint8   listLen, len, *pBuf;
// 1956 
// 1957   /* both ZDO_NwkAddrResp_t and ZDO_IEEEAddrResp_t must be the same */
// 1958 
// 1959   /* get length, sanity check length */
// 1960   listLen = pMsg->numAssocDevs;
// 1961 
// 1962   /* calculate msg length */
// 1963   len = MT_ZDO_ADDR_RSP_LEN + (listLen * sizeof(uint16));
// 1964 
// 1965   /* get buffer */
// 1966   if (NULL != (pBuf = (uint8 *)osal_mem_alloc(len)))
// 1967   {
// 1968     uint8 id = MT_ZDO_CID_TO_AREQ_ID(clusterID);
// 1969     uint8 *pTmp = pBuf;
// 1970 
// 1971     *pTmp++ = pMsg->status;
// 1972 
// 1973     osal_cpyExtAddr(pTmp, pMsg->extAddr);
// 1974     pTmp += Z_EXTADDR_LEN;
// 1975 
// 1976     *pTmp++ = LO_UINT16(pMsg->nwkAddr);
// 1977     *pTmp++ = HI_UINT16(pMsg->nwkAddr);
// 1978 
// 1979     *pTmp++ = pMsg->startIndex;
// 1980     *pTmp++ = listLen;
// 1981 
// 1982     MT_Word2Buf(pTmp, pMsg->devList, listLen);
// 1983 
// 1984     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO), id, len, pBuf);
// 1985     osal_mem_free(pBuf);
// 1986   }
// 1987 }
// 1988 
// 1989 /***************************************************************************************************
// 1990  * @fn      MT_ZdoEndDevAnnceCB
// 1991  *
// 1992  * @brief   Handle end device announce OSAL message from ZDO.
// 1993  *
// 1994  * @param   pMsg  - Message data
// 1995  *
// 1996  * @return  void
// 1997  */
// 1998 void MT_ZdoEndDevAnnceCB( ZDO_DeviceAnnce_t *pMsg, uint16 srcAddr )
// 1999 {
// 2000   uint8 *pBuf;
// 2001 
// 2002   if (NULL != (pBuf = (uint8 *)osal_mem_alloc(MT_ZDO_END_DEVICE_ANNCE_IND_LEN)))
// 2003   {
// 2004     uint8 *pTmp = pBuf;
// 2005 
// 2006     *pTmp++ = LO_UINT16(srcAddr);
// 2007     *pTmp++ = HI_UINT16(srcAddr);
// 2008 
// 2009     *pTmp++ = LO_UINT16(pMsg->nwkAddr);
// 2010     *pTmp++ = HI_UINT16(pMsg->nwkAddr);
// 2011 
// 2012     osal_cpyExtAddr(pTmp, pMsg->extAddr);
// 2013     pTmp += Z_EXTADDR_LEN;
// 2014 
// 2015     *pTmp = pMsg->capabilities;
// 2016 
// 2017     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 2018                                          MT_ZDO_END_DEVICE_ANNCE_IND,
// 2019                                          MT_ZDO_END_DEVICE_ANNCE_IND_LEN, pBuf);
// 2020     osal_mem_free(pBuf);
// 2021   }
// 2022 }
// 2023 
// 2024 /***************************************************************************************************
// 2025  * @fn      MT_ZdoSrcRtgCB
// 2026  *
// 2027  * @brief   Handle Src Route from ZDO.
// 2028  *
// 2029  * @param   pStr  - pointer to the data structure for the src route
// 2030  *
// 2031  * @return  void*
// 2032  */
// 2033 void* MT_ZdoSrcRtgCB( void *pStr )
// 2034 {
// 2035   uint8 len, *pBuf;
// 2036   zdoSrcRtg_t *pSrcRtg = pStr;
// 2037 
// 2038   // srcAddr (2) + relayCnt (1) + relayList( relaycnt * 2 )
// 2039   len = 2 + 1 + pSrcRtg->relayCnt * sizeof(uint16);
// 2040 
// 2041   if (NULL != (pBuf = (uint8 *)osal_mem_alloc(len)))
// 2042   {
// 2043     uint8 idx, *pTmp = pBuf;
// 2044     uint16 *pRelay;
// 2045 
// 2046     // Packet payload
// 2047     *pTmp++ = LO_UINT16(pSrcRtg->srcAddr);
// 2048     *pTmp++ = HI_UINT16(pSrcRtg->srcAddr);
// 2049     *pTmp++ = pSrcRtg->relayCnt;
// 2050 
// 2051     // Relay List
// 2052     if( ( pRelay = pSrcRtg->pRelayList ) != NULL )
// 2053     {
// 2054       for( idx = 0; idx < pSrcRtg->relayCnt; idx ++ )
// 2055       {
// 2056         *pTmp++ = LO_UINT16(*pRelay);
// 2057         *pTmp++ = HI_UINT16(*pRelay);
// 2058         pRelay++;
// 2059       }
// 2060     }
// 2061     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 2062                                          MT_ZDO_SRC_RTG_IND, len, pBuf);
// 2063     osal_mem_free(pBuf);
// 2064   }
// 2065 
// 2066   return NULL;
// 2067 }
// 2068 
// 2069 /***************************************************************************************************
// 2070  * @fn          MT_ZdoConcentratorIndCB
// 2071  *
// 2072  * @brief       Handle the ZDO Concentrator Indication callback from the ZDO.
// 2073  *
// 2074  * @param       pStr - pointer to a parameter and a structure of parameters
// 2075  *
// 2076  * @return      NULL
// 2077  ***************************************************************************************************/
// 2078 static void *MT_ZdoConcentratorIndCB(void *pStr)
// 2079 {
// 2080   uint8 buf[MT_ZDO_CONCENTRATOR_IND_LEN], *pTmp = buf;
// 2081   zdoConcentratorInd_t *pInd = (zdoConcentratorInd_t *)pStr;
// 2082 
// 2083   *pTmp++ = LO_UINT16(pInd->nwkAddr);
// 2084   *pTmp++ = HI_UINT16(pInd->nwkAddr);
// 2085   pTmp = osal_memcpy(pTmp, pInd->extAddr, Z_EXTADDR_LEN);
// 2086   *pTmp = pInd->pktCost;
// 2087 
// 2088   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 2089                                     MT_ZDO_CONCENTRATOR_IND_CB, MT_ZDO_CONCENTRATOR_IND_LEN, buf);
// 2090   return NULL;
// 2091 }
// 2092 
// 2093 /***************************************************************************************************
// 2094  * @fn          MT_ZdoLeaveInd
// 2095  *
// 2096  * @brief       Handle the ZDO Leave Indication callback from the ZDO.
// 2097  *
// 2098  * @param       vPtr - Pointer to the received Leave Indication message.
// 2099  *
// 2100  * @return      NULL
// 2101  ***************************************************************************************************/
// 2102 static void *MT_ZdoLeaveInd(void *vPtr)
// 2103 {
// 2104   NLME_LeaveInd_t *pInd = (NLME_LeaveInd_t *)vPtr;
// 2105   uint8 buf[sizeof(NLME_LeaveInd_t)];
// 2106 
// 2107   buf[0] = LO_UINT16(pInd->srcAddr);
// 2108   buf[1] = HI_UINT16(pInd->srcAddr);
// 2109   (void)osal_memcpy(buf+2, pInd->extAddr, Z_EXTADDR_LEN);
// 2110   buf[2+Z_EXTADDR_LEN] = pInd->request;
// 2111   buf[3+Z_EXTADDR_LEN] = pInd->removeChildren;
// 2112   buf[4+Z_EXTADDR_LEN] = pInd->rejoin;
// 2113 
// 2114   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 2115                                        MT_ZDO_LEAVE_IND, 5+Z_EXTADDR_LEN, buf);
// 2116   return NULL;
// 2117 }
// 2118 #endif // MT_ZDO_CB_FUNC
// 2119 
// 2120 /***************************************************************************************************
// 2121  * @fn      MT_ZdoSendMsgCB
// 2122  *
// 2123  * @brief   Proxy the ZDO_SendMsgCBs one message at a time.
// 2124  *
// 2125  * @param   pMsg  - Message data
// 2126  *
// 2127  * @return  void
// 2128  */

        RSEG CODE:CODE:REORDER:NOROOT(1)
// 2129 void MT_ZdoSendMsgCB(zdoIncomingMsg_t *pMsg)
MT_ZdoSendMsgCB:
          CFI Block cfiBlock172 Using cfiCommon0
          CFI Function MT_ZdoSendMsgCB
// 2130 {
        FUNCALL MT_ZdoSendMsgCB, osal_mem_alloc
        LOCFRAME CSTACK, 12, STACK
        FUNCALL MT_ZdoSendMsgCB, osal_memcpy
        LOCFRAME CSTACK, 12, STACK
        FUNCALL MT_ZdoSendMsgCB, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 12, STACK
        FUNCALL MT_ZdoSendMsgCB, osal_mem_free
        LOCFRAME CSTACK, 12, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        MOV.W   R12, R11
// 2131   uint8 len = pMsg->asduLen + 9;
        MOV.B   0x12(R12), R10
        ADD.B   #0x9, R10
// 2132   uint8 *pBuf = (uint8 *)osal_mem_alloc(len);
        MOV.B   R10, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R8
// 2133 
// 2134   if (pBuf != NULL)
        CMP.W   #0x0, R12
        JEQ     ??MT_ZdoSendMsgCB_0
// 2135   {
// 2136     uint8 *pTmp = pBuf;
// 2137 
// 2138     // Assuming exclusive use of network short addresses.
// 2139     *pTmp++ = LO_UINT16(pMsg->srcAddr.addr.shortAddr);
        CALLA   #?Subroutine6
// 2140     *pTmp++ = HI_UINT16(pMsg->srcAddr.addr.shortAddr);
// 2141     *pTmp++ = pMsg->wasBroadcast;
??CrossCallReturnLabel_2:
        MOV.B   0xc(R11), 0(R12)
        ADD.W   #0x1, R12
// 2142     *pTmp++ = LO_UINT16(pMsg->clusterID);
        MOV.B   0xe(R11), 0(R12)
        ADD.W   #0x1, R12
// 2143     *pTmp++ = HI_UINT16(pMsg->clusterID);
        MOV.B   0xf(R11), 0(R12)
        ADD.W   #0x1, R12
// 2144     *pTmp++ = pMsg->SecurityUse;
        MOV.B   0x10(R11), 0(R12)
        ADD.W   #0x1, R12
// 2145     *pTmp++ = pMsg->TransSeq;
        MOV.B   0x11(R11), 0(R12)
        ADD.W   #0x1, R12
// 2146     // Skipping asduLen since it can be deduced from the RPC packet length.
// 2147     *pTmp++ = LO_UINT16(pMsg->macDestAddr);
        MOV.B   0x14(R11), 0(R12)
        ADD.W   #0x1, R12
// 2148     *pTmp++ = HI_UINT16(pMsg->macDestAddr);
        MOV.B   0x15(R11), 0(R12)
        ADD.W   #0x1, R12
// 2149     (void)osal_memcpy(pTmp, pMsg->asdu, pMsg->asduLen);
        MOV.B   0x12(R11), R14
        MOV.W   0x16(R11), R13
        CALLA   #osal_memcpy
// 2150 
// 2151     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_ZDO),
// 2152                                          MT_ZDO_MSG_CB_INCOMING, len, pBuf);
        MOV.W   R8, R15
        MOV.B   R10, R14
        MOV.B   #0xff, R13
        CALLA   #??Subroutine5_0
// 2153 
// 2154     osal_mem_free(pBuf);
??CrossCallReturnLabel_31:
        MOV.W   R8, R12
        CALLA   #osal_mem_free
// 2155   }
// 2156 }
??MT_ZdoSendMsgCB_0:
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock172

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r4:
        REQUIRE ?setjmp_r4
        REQUIRE ?longjmp_r4

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r5:
        REQUIRE ?setjmp_r5
        REQUIRE ?longjmp_r5

        END
// 2157 
// 2158 #endif   /*ZDO Command Processing in MT*/
// 2159 /***************************************************************************************************
// 2160 ***************************************************************************************************/
// 
// 2 088 bytes in segment CODE
//     6 bytes in segment DATA16_Z
// 
// 2 088 bytes of CODE memory
//     6 bytes of DATA memory
//
//Errors: none
//Warnings: none
