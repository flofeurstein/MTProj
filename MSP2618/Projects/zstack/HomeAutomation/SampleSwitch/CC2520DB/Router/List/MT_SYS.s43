///////////////////////////////////////////////////////////////////////////////
//                                                                            /
// IAR C/C++ Compiler V5.52.1.50724/W32 for MSP430      10/Jun/2013  16:30:11 /
// Copyright 1996-2013 IAR Systems AB.                                        /
//                                                                            /
//    __rt_version  =  3                                                      /
//    __double_size =  32                                                     /
//    __reg_r4      =  free                                                   /
//    __reg_r5      =  free                                                   /
//    __pic         =  no                                                     /
//    __core        =  430X                                                   /
//    __data_model  =  small                                                  /
//    Source file   =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\m /
//                     t\MT_SYS.c                                             /
//    Command line  =  -f "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects /
//                     \zstack\HomeAutomation\SampleSwitch\CC2520DB\..\..\..\ /
//                     Tools\MSP2618\f8wConfig.cfg" (-DZIGBEEPRO -DSECURE=0   /
//                     -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                      /
//                     -DDEFAULT_CHANLIST=0x00000800                          /
//                     -DZDAPP_CONFIG_PAN_ID=0xFFFF -DNWK_START_DELAY=100     /
//                     -DEXTENDED_JOINING_RANDOM_MASK=0x007F                  /
//                     -DBEACON_REQUEST_DELAY=100                             /
//                     -DBEACON_REQ_DELAY_MASK=0x00FF                         /
//                     -DLINK_STATUS_JITTER_MASK=0x007F                       /
//                     -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_POLLED /
//                     =3000 -DNWK_INDIRECT_MSG_TIMEOUT=7                     /
//                     -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3        /
//                     -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2  /
//                     -DMAX_BCAST=9 -DAPS_MAX_GROUPS=16                      /
//                     -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4       /
//                     -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,      /
//                     0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02,  /
//                     0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"                   /
//                     -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS= /
//                     20 -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000         /
//                     -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100        /
//                     -DREJOIN_POLL_RATE=440) -f "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\Tools\MSP2618 /
//                     \f8wRouter.cfg" (-DCPU6MHZ                             /
//                     -DMAC_CFG_APP_PENDING_QUEUE=TRUE                       /
//                     -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8             /
//                     -DMAC_CFG_RX_MAX=5 -DRTR_NWK) -f "C:\Texas             /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\Tools\MSP2618 /
//                     \f8wZCL.cfg" (-DZCL_READ -DZCL_WRITE -DZCL_BASIC       /
//                     -DZCL_IDENTIFY -DZCL_ON_OFF -DZCL_KEY_ESTABLISH        /
//                     -DZCL_KEY_ESTABLISHMENT_KEY_GENERATE_TIMEOUT=4         /
//                     -DZCL_KEY_ESTABLISHMENT_MAC_GENERATE_TIMEOUT=10        /
//                     -DZCL_KEY_ESTABLISHMENT_EKEY_GENERATE_TIMEOUT=10       /
//                     -DZCL_LOAD_CONTROL -DZCL_SIMPLE_METERING               /
//                     -DZCL_PRICING -DZCL_MESSAGE -DZCL_TUNNELING            /
//                     -DZCL_TOU) -DZCL_DEVICE_MGMT "C:\Texas                 /
//                     Instruments\ZStack-MSP2618-2.5.1\Components\mt\MT_SYS. /
//                     c" -D MSP430F2618 -D ZTOOL_P1 -D MT_TASK -D            /
//                     MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED -lC        /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleSwitch\CC2520DB\Router\List\ /
//                     " -lA "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Proje /
//                     cts\zstack\HomeAutomation\SampleSwitch\CC2520DB\Router /
//                     \List\" --remarks --diag_suppress                      /
//                     Pe001,Pe193,Pe236,Pe826 -o "C:\Texas                   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\Router\Obj\" --debug   /
//                     -D__MSP430F2618__ -e --double=32 --clib -I "C:\Texas   /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\" -I "C:\Texas         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\Source\" -I         /
//                     "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zs /
//                     tack\HomeAutomation\SampleSwitch\CC2520DB\..\..\Source /
//                     \" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1\Proje /
//                     cts\zstack\HomeAutomation\SampleSwitch\CC2520DB\..\..\ /
//                     ..\ZMain\MSP2618\" -I "C:\Texas                        /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\hal\include\" -I "C:\Texas                         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\hal\target\MSP2618CC2520\" -I "C:\Texas            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\include\" -I "C:\Texas                         /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\high_level\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\low_level\srf04\" -I "C:\Texas                 /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mac\low_level\srf04\dual_chip\" -I "C:\Texas       /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\mt\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5.1 /
//                     \Projects\zstack\HomeAutomation\SampleSwitch\CC2520DB\ /
//                     ..\..\..\..\..\Components\osal\include\" -I "C:\Texas  /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\osal\mcu\msp430\" -I "C:\Texas                     /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\services\saddr\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\services\sdata\" -I "C:\Texas                      /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\af\" -I "C:\Texas                            /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\nwk\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sec\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sapi\" -I "C:\Texas                          /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\sys\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\zcl\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\stack\zdo\" -I "C:\Texas                           /
//                     Instruments\ZStack-MSP2618-2.5.1\Projects\zstack\HomeA /
//                     utomation\SampleSwitch\CC2520DB\..\..\..\..\..\Compone /
//                     nts\zmac\" -I "C:\Texas Instruments\ZStack-MSP2618-2.5 /
//                     .1\Projects\zstack\HomeAutomation\SampleSwitch\CC2520D /
//                     B\..\..\..\..\..\Components\zmac\f8w\" --core=430X     /
//                     --data_model=small -Ohz --multiplier=16s               /
//                     --require_prototypes                                   /
//    List file     =  C:\Texas Instruments\ZStack-MSP2618-2.5.1\Projects\zst /
//                     ack\HomeAutomation\SampleSwitch\CC2520DB\Router\List\M /
//                     T_SYS.s43                                              /
//                                                                            /
//                                                                            /
///////////////////////////////////////////////////////////////////////////////

        NAME MT_SYS

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__core", "430X"
        RTMODEL "__data_model", "small"
        RTMODEL "__double_size", "32"
        RTMODEL "__pic", "no"
        RTMODEL "__reg_r4", "free"
        RTMODEL "__reg_r5", "free"
        RTMODEL "__rt_version", "3"

        RSEG CSTACK:DATA:SORT:NOROOT(0)

        EXTERN ?DivMod16u
        EXTERN ?longjmp_r4
        EXTERN ?longjmp_r5
        EXTERN ?setjmp_r4
        EXTERN ?setjmp_r5

        PUBWEAK ?setjmp_save_r4
        PUBWEAK ?setjmp_save_r5
        PUBLIC MT_SysAdcRead
        FUNCTION MT_SysAdcRead,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_SysCommandProcessing
        FUNCTION MT_SysCommandProcessing,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysGetExtAddr
        FUNCTION MT_SysGetExtAddr,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 12, STACK
        PUBLIC MT_SysGetUtcTime
        FUNCTION MT_SysGetUtcTime,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 20, STACK
        PUBLIC MT_SysGpio
        FUNCTION MT_SysGpio,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysOsalEventId
        PUBLIC MT_SysOsalNVDelete
        FUNCTION MT_SysOsalNVDelete,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysOsalNVItemInit
        FUNCTION MT_SysOsalNVItemInit,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 14, STACK
        PUBLIC MT_SysOsalNVLength
        FUNCTION MT_SysOsalNVLength,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysOsalNVRead
        FUNCTION MT_SysOsalNVRead,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 18, STACK
        PUBLIC MT_SysOsalNVWrite
        FUNCTION MT_SysOsalNVWrite,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 14, STACK
        PUBLIC MT_SysOsalStartTimer
        FUNCTION MT_SysOsalStartTimer,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_SysOsalStopTimer
        FUNCTION MT_SysOsalStopTimer,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_SysOsalTimerExpired
        FUNCTION MT_SysOsalTimerExpired,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysPing
        FUNCTION MT_SysPing,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysRandom
        FUNCTION MT_SysRandom,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysReset
        FUNCTION MT_SysReset,080203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBLIC MT_SysResetInd
        FUNCTION MT_SysResetInd,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_SysSetExtAddr
        FUNCTION MT_SysSetExtAddr,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 10, STACK
        PUBLIC MT_SysSetTxPower
        FUNCTION MT_SysSetTxPower,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 6, STACK
        PUBLIC MT_SysSetUtcTime
        FUNCTION MT_SysSetUtcTime,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 22, STACK
        PUBLIC MT_SysStackTune
        FUNCTION MT_SysStackTune,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 8, STACK
        PUBLIC MT_SysVersion
        FUNCTION MT_SysVersion,021203H
        ARGFRAME CSTACK, 0, STACK
        LOCFRAME CSTACK, 4, STACK
        PUBWEAK WDTCTL
        
          CFI Names cfiNames0
          CFI StackFrame CFA SP DATA
          CFI Resource PC:20, SP:20, SR:16, R4L:16, R4H:4, R4:20, R5L:16, R5H:4
          CFI Resource R5:20, R6L:16, R6H:4, R6:20, R7L:16, R7H:4, R7:20, R8L:16
          CFI Resource R8H:4, R8:20, R9L:16, R9H:4, R9:20, R10L:16, R10H:4
          CFI Resource R10:20, R11L:16, R11H:4, R11:20, R12L:16, R12H:4, R12:20
          CFI Resource R13L:16, R13H:4, R13:20, R14L:16, R14H:4, R14:20, R15L:16
          CFI Resource R15H:4, R15:20
          CFI ResourceParts R4 R4H, R4L
          CFI ResourceParts R5 R5H, R5L
          CFI ResourceParts R6 R6H, R6L
          CFI ResourceParts R7 R7H, R7L
          CFI ResourceParts R8 R8H, R8L
          CFI ResourceParts R9 R9H, R9L
          CFI ResourceParts R10 R10H, R10L
          CFI ResourceParts R11 R11H, R11L
          CFI ResourceParts R12 R12H, R12L
          CFI ResourceParts R13 R13H, R13L
          CFI ResourceParts R14 R14H, R14L
          CFI ResourceParts R15 R15H, R15L
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L Undefined
          CFI R12H Undefined
          CFI R12 Undefined
          CFI R13L Undefined
          CFI R13H Undefined
          CFI R13 Undefined
          CFI R14L Undefined
          CFI R14H Undefined
          CFI R14 Undefined
          CFI R15L Undefined
          CFI R15H Undefined
          CFI R15 Undefined
          CFI EndCommon cfiCommon0
        
        
          CFI Common cfiCommon1 Using cfiNames0
          CFI CodeAlign 2
          CFI DataAlign 2
          CFI ReturnAddress PC CODE
          CFI CFA SP+4
          CFI PC Frame(CFA, -4)
          CFI SR Undefined
          CFI R4L SameValue
          CFI R4H 0
          CFI R4 Concat
          CFI R5L SameValue
          CFI R5H 0
          CFI R5 Concat
          CFI R6L SameValue
          CFI R6H 0
          CFI R6 Concat
          CFI R7L SameValue
          CFI R7H 0
          CFI R7 Concat
          CFI R8L SameValue
          CFI R8H 0
          CFI R8 Concat
          CFI R9L SameValue
          CFI R9H 0
          CFI R9 Concat
          CFI R10L SameValue
          CFI R10H 0
          CFI R10 Concat
          CFI R11L SameValue
          CFI R11H 0
          CFI R11 Concat
          CFI R12L SameValue
          CFI R12H 0
          CFI R12 Concat
          CFI R13L SameValue
          CFI R13H 0
          CFI R13 Concat
          CFI R14L SameValue
          CFI R14H 0
          CFI R14 Concat
          CFI R15L SameValue
          CFI R15H 0
          CFI R15 Concat
          CFI EndCommon cfiCommon1
        
        EXTERN MT_BuildAndSendZToolResponse
        FUNCTION MT_BuildAndSendZToolResponse,0202H
        EXTERN MTVersionString
        EXTERN osal_memcpy
        FUNCTION osal_memcpy,0202H
        EXTERN macRadioSetTxPower
        FUNCTION macRadioSetTxPower,0202H
        EXTERN MAC_MlmeSetReq
        FUNCTION MAC_MlmeSetReq,0202H
        EXTERN osal_mem_alloc
        FUNCTION osal_mem_alloc,0202H
        EXTERN osal_getClock
        FUNCTION osal_getClock,0202H
        EXTERN osal_ConvertUTCTime
        FUNCTION osal_ConvertUTCTime,0202H
        EXTERN osal_buffer_uint32
        FUNCTION osal_buffer_uint32,0202H
        EXTERN osal_mem_free
        FUNCTION osal_mem_free,0202H
        EXTERN osal_build_uint32
        FUNCTION osal_build_uint32,0202H
        EXTERN osal_build_uint16
        FUNCTION osal_build_uint16,0202H
        EXTERN osal_ConvertUTCSecs
        FUNCTION osal_ConvertUTCSecs,0202H
        EXTERN osal_setClock
        FUNCTION osal_setClock,0202H
        EXTERN ZMacSetReq
        FUNCTION ZMacSetReq,0202H
        EXTERN ZMacGetReq
        FUNCTION ZMacGetReq,0202H
        EXTERN HalAdcRead
        FUNCTION HalAdcRead,0202H
        EXTERN Onboard_rand
        FUNCTION Onboard_rand,0202H
        EXTERN MT_TaskID
        EXTERN osal_stop_timerEx
        FUNCTION osal_stop_timerEx,0202H
        EXTERN osal_start_timerEx
        FUNCTION osal_start_timerEx,0202H
        EXTERN osal_nv_item_len
        FUNCTION osal_nv_item_len,0202H
        EXTERN osal_nv_delete
        FUNCTION osal_nv_delete,0202H
        EXTERN osal_nv_item_init
        FUNCTION osal_nv_item_init,0202H
        EXTERN osal_nv_write
        FUNCTION osal_nv_write,0202H
        EXTERN zgSetItem
        FUNCTION zgSetItem,0202H
        EXTERN osal_memset
        FUNCTION osal_memset,0202H
        EXTERN osal_nv_read
        FUNCTION osal_nv_read,0202H

// C:\Texas Instruments\ZStack-MSP2618-2.5.1\Components\mt\MT_SYS.c
//    1 /******************************************************************************
//    2   Filename:       MT_SYS.c
//    3   Revised:        $Date: 2012-03-07 01:04:58 -0800 (Wed, 07 Mar 2012) $
//    4   Revision:       $Revision: 29656 $
//    5 
//    6   Description:   MonitorTest functions for SYS commands.
//    7 
//    8   Copyright 2007-2012 Texas Instruments Incorporated. All rights reserved.
//    9 
//   10   IMPORTANT: Your use of this Software is limited to those specific rights
//   11   granted under the terms of a software license agreement between the user
//   12   who downloaded the software, his/her employer (which must be your employer)
//   13   and Texas Instruments Incorporated (the "License"). You may not use this
//   14   Software unless you agree to abide by the terms of the License. The License
//   15   limits your use, and you acknowledge, that the Software may not be modified,
//   16   copied or distributed unless embedded on a Texas Instruments microcontroller
//   17   or used solely and exclusively in conjunction with a Texas Instruments radio
//   18   frequency transceiver, which is integrated into your product. Other than for
//   19   the foregoing purpose, you may not use, reproduce, copy, prepare derivative
//   20   works of, modify, distribute, perform, display or sell this Software and/or
//   21   its documentation for any purpose.
//   22 
//   23   YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
//   24   PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
//   25   INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
//   26   NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
//   27   TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
//   28   NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
//   29   LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
//   30   INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
//   31   OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
//   32   OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
//   33   (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
//   34 
//   35   Should you have any questions regarding your right to use this Software,
//   36   contact Texas Instruments Incorporated at www.TI.com.
//   37 
//   38  *****************************************************************************/
//   39 
//   40 /***************************************************************************************************
//   41  * INCLUDES
//   42  ***************************************************************************************************/
//   43 #include "ZComDef.h"
//   44 #include "MT.h"
//   45 #include "MT_SYS.h"
//   46 #include "MT_VERSION.h"
//   47 #include "nwk_util.h"
//   48 #include "OSAL.h"
//   49 #include "OSAL_NV.h"
//   50 #include "Onboard.h"  /* This is here because RAM read/write macros need it */

        ASEGN DATA16_AN:DATA:NOROOT,0120H
// unsigned short volatile WDTCTL
WDTCTL:
        DS8 2

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant {2, 0}>`:
        DC8 2, 0

        RSEG DATA16_C:CONST:SORT:NOROOT(0)
`?<Constant {2, 0}>_1`:
        DC8 2, 0
//   51 #include "hal_adc.h"
//   52 #include "ZGlobals.h"
//   53 #include "OSAL_Clock.h"
//   54 #include "mac_low_level.h"
//   55 
//   56 /***************************************************************************************************
//   57  * MACROS
//   58  ***************************************************************************************************/
//   59 
//   60 #define MT_SYS_DEVICE_INFO_RESPONSE_LEN 14
//   61 #define MT_NV_ITEM_MAX_LENGTH           250
//   62 
//   63 #if !defined HAL_GPIO || !HAL_GPIO
//   64 #define GPIO_DIR_IN(IDX)
//   65 #define GPIO_DIR_OUT(IDX)
//   66 #define GPIO_TRI(IDX)
//   67 #define GPIO_PULL_UP(IDX)
//   68 #define GPIO_PULL_DN(IDX)
//   69 #define GPIO_SET(IDX)
//   70 #define GPIO_CLR(IDX)
//   71 #define GPIO_TOG(IDX)
//   72 #define GPIO_GET(IDX) 0
//   73 #define GPIO_HiD_SET() (val = 0)
//   74 #define GPIO_HiD_CLR() (val = 0)
//   75 #endif
//   76 
//   77 /***************************************************************************************************
//   78  * CONSTANTS
//   79  ***************************************************************************************************/
//   80 
//   81 #if !defined MT_SYS_OSAL_NV_READ_CERTIFICATE_DATA
//   82 #define MT_SYS_OSAL_NV_READ_CERTIFICATE_DATA  FALSE
//   83 #endif
//   84 

        RSEG DATA16_C:CONST:SORT:NOROOT(1)
//   85 const uint16 MT_SysOsalEventId [] = {
MT_SysOsalEventId:
        DC16 2048, 1024, 512, 256
//   86                                       MT_SYS_OSAL_EVENT_0,
//   87                                       MT_SYS_OSAL_EVENT_1,
//   88                                       MT_SYS_OSAL_EVENT_2,
//   89                                       MT_SYS_OSAL_EVENT_3
//   90                                     };
//   91 
//   92 typedef enum {
//   93   GPIO_DIR,
//   94   GPIO_TRI,
//   95   GPIO_SET,
//   96   GPIO_CLR,
//   97   GPIO_TOG,
//   98   GPIO_GET,
//   99   GPIO_HiD = 0x12
//  100 } GPIO_Op_t;
//  101 
//  102 /***************************************************************************************************
//  103  * LOCAL FUNCTIONS
//  104  ***************************************************************************************************/
//  105 #if defined (MT_SYS_FUNC)
//  106 void MT_SysReset(uint8 *pBuf);
//  107 void MT_SysPing(void);
//  108 void MT_SysVersion(void);
//  109 void MT_SysSetExtAddr(uint8 *pBuf);
//  110 void MT_SysGetExtAddr(void);
//  111 void MT_SysOsalNVItemInit(uint8 *pBuf);
//  112 void MT_SysOsalNVDelete(uint8 *pBuf);
//  113 void MT_SysOsalNVLength(uint8 *pBuf);
//  114 void MT_SysOsalNVRead(uint8 *pBuf);
//  115 void MT_SysOsalNVWrite(uint8 *pBuf);
//  116 void MT_SysOsalStartTimer(uint8 *pBuf);
//  117 void MT_SysOsalStopTimer(uint8 *pBuf);
//  118 void MT_SysRandom(void);
//  119 void MT_SysAdcRead(uint8 *pBuf);
//  120 void MT_SysGpio(uint8 *pBuf);
//  121 void MT_SysStackTune(uint8 *pBuf);
//  122 void MT_SysGetDeviceInfo(uint8 *pBuf);
//  123 void MT_SysSetUtcTime(uint8 *pBuf);
//  124 void MT_SysGetUtcTime(void);
//  125 void MT_SysSetTxPower(uint8 *pBuf);
//  126 #endif /* MT_SYS_FUNC */
//  127 
//  128 #if defined (MT_SYS_FUNC)
//  129 /***************************************************************************************************
//  130  * @fn      MT_SysProcessing
//  131  *
//  132  * @brief   Process all the SYS commands that are issued by test tool
//  133  *
//  134  * @param   pBuf - pointer to the msg buffer
//  135  *
//  136  *          | LEN  | CMD0  | CMD1  |  DATA  |
//  137  *          |  1   |   1   |   1   |  0-255 |
//  138  *
//  139  * @return  status
//  140  ***************************************************************************************************/

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  141 uint8 MT_SysCommandProcessing(uint8 *pBuf)
MT_SysCommandProcessing:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function MT_SysCommandProcessing
//  142 {
        FUNCALL MT_SysCommandProcessing, MT_SysReset
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysPing
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysVersion
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysSetExtAddr
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysGetExtAddr
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalNVDelete
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalNVItemInit
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalNVLength
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalNVRead
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalNVWrite
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalStartTimer
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysOsalStopTimer
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysRandom
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysAdcRead
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysGpio
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysStackTune
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysSetUtcTime
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysGetUtcTime
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysCommandProcessing, MT_SysSetTxPower
        LOCFRAME CSTACK, 6, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
//  143   uint8 status = MT_RPC_SUCCESS;
        MOV.B   #0x0, R10
//  144 
//  145   switch (pBuf[MT_RPC_POS_CMD1])
        MOV.B   0x2(R12), R14
        SUB.B   #0x0, R14
        JEQ     ??MT_SysCommandProcessing_0
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_1
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_2
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_3
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_4
        SUB.B   #0x3, R14
        JEQ     ??MT_SysCommandProcessing_5
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_6
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_7
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_8
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_9
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_10
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_11
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_12
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_13
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_14
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_15
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_16
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_17
        SUB.B   #0x1, R14
        JEQ     ??MT_SysCommandProcessing_18
        JMP     ??MT_SysCommandProcessing_19
//  146   {
//  147     case MT_SYS_RESET_REQ:
//  148       MT_SysReset(pBuf);
??MT_SysCommandProcessing_0:
        CALLA   #MT_SysReset
//  149       break;
        JMP     ??MT_SysCommandProcessing_20
//  150 
//  151     case MT_SYS_PING:
//  152       MT_SysPing();
??MT_SysCommandProcessing_1:
        CALLA   #MT_SysPing
//  153       break;
        JMP     ??MT_SysCommandProcessing_20
//  154 
//  155     case MT_SYS_VERSION:
//  156       MT_SysVersion();
??MT_SysCommandProcessing_2:
        CALLA   #MT_SysVersion
//  157       break;
        JMP     ??MT_SysCommandProcessing_20
//  158 
//  159     case MT_SYS_SET_EXTADDR:
//  160       MT_SysSetExtAddr(pBuf);
??MT_SysCommandProcessing_3:
        CALLA   #MT_SysSetExtAddr
//  161       break;
        JMP     ??MT_SysCommandProcessing_20
//  162 
//  163     case MT_SYS_GET_EXTADDR:
//  164       MT_SysGetExtAddr();
??MT_SysCommandProcessing_4:
        CALLA   #MT_SysGetExtAddr
//  165       break;
        JMP     ??MT_SysCommandProcessing_20
//  166 
//  167 // CC253X MAC Network Processor does not have NV support
//  168 #if !defined(CC253X_MACNP)
//  169     case MT_SYS_OSAL_NV_DELETE:
//  170       MT_SysOsalNVDelete(pBuf);
??MT_SysCommandProcessing_16:
        CALLA   #MT_SysOsalNVDelete
//  171       break;
        JMP     ??MT_SysCommandProcessing_20
//  172 
//  173     case MT_SYS_OSAL_NV_ITEM_INIT:
//  174       MT_SysOsalNVItemInit(pBuf);
??MT_SysCommandProcessing_5:
        CALLA   #MT_SysOsalNVItemInit
//  175       break;
        JMP     ??MT_SysCommandProcessing_20
//  176 
//  177     case MT_SYS_OSAL_NV_LENGTH:
//  178       MT_SysOsalNVLength(pBuf);
??MT_SysCommandProcessing_17:
        CALLA   #MT_SysOsalNVLength
//  179       break;
        JMP     ??MT_SysCommandProcessing_20
//  180 
//  181     case MT_SYS_OSAL_NV_READ:
//  182       MT_SysOsalNVRead(pBuf);
??MT_SysCommandProcessing_6:
        CALLA   #MT_SysOsalNVRead
//  183       break;
        JMP     ??MT_SysCommandProcessing_20
//  184 
//  185     case MT_SYS_OSAL_NV_WRITE:
//  186       MT_SysOsalNVWrite(pBuf);
??MT_SysCommandProcessing_7:
        CALLA   #MT_SysOsalNVWrite
//  187       break;
        JMP     ??MT_SysCommandProcessing_20
//  188 #endif
//  189 
//  190     case MT_SYS_OSAL_START_TIMER:
//  191       MT_SysOsalStartTimer(pBuf);
??MT_SysCommandProcessing_8:
        CALLA   #MT_SysOsalStartTimer
//  192       break;
        JMP     ??MT_SysCommandProcessing_20
//  193 
//  194     case MT_SYS_OSAL_STOP_TIMER:
//  195       MT_SysOsalStopTimer(pBuf);
??MT_SysCommandProcessing_9:
        CALLA   #MT_SysOsalStopTimer
//  196       break;
        JMP     ??MT_SysCommandProcessing_20
//  197 
//  198     case MT_SYS_RANDOM:
//  199       MT_SysRandom();
??MT_SysCommandProcessing_10:
        CALLA   #MT_SysRandom
//  200       break;
        JMP     ??MT_SysCommandProcessing_20
//  201 
//  202     case MT_SYS_ADC_READ:
//  203       MT_SysAdcRead(pBuf);
??MT_SysCommandProcessing_11:
        CALLA   #MT_SysAdcRead
//  204       break;
        JMP     ??MT_SysCommandProcessing_20
//  205 
//  206     case MT_SYS_GPIO:
//  207       MT_SysGpio(pBuf);
??MT_SysCommandProcessing_12:
        CALLA   #MT_SysGpio
//  208       break;
        JMP     ??MT_SysCommandProcessing_20
//  209 
//  210     case MT_SYS_STACK_TUNE:
//  211       MT_SysStackTune(pBuf);
??MT_SysCommandProcessing_13:
        CALLA   #MT_SysStackTune
//  212       break;
        JMP     ??MT_SysCommandProcessing_20
//  213 
//  214     case MT_SYS_SET_TIME:
//  215       MT_SysSetUtcTime(pBuf);
??MT_SysCommandProcessing_14:
        CALLA   #MT_SysSetUtcTime
//  216       break;
        JMP     ??MT_SysCommandProcessing_20
//  217 
//  218     case MT_SYS_GET_TIME:
//  219       MT_SysGetUtcTime();
??MT_SysCommandProcessing_15:
        CALLA   #MT_SysGetUtcTime
//  220       break;
        JMP     ??MT_SysCommandProcessing_20
//  221 
//  222     case MT_SYS_SET_TX_POWER:
//  223       MT_SysSetTxPower(pBuf);
??MT_SysCommandProcessing_18:
        CALLA   #MT_SysSetTxPower
//  224       break;
        JMP     ??MT_SysCommandProcessing_20
//  225 
//  226     default:
//  227       status = MT_RPC_ERR_COMMAND_ID;
??MT_SysCommandProcessing_19:
        MOV.B   #0x2, R10
//  228       break;
//  229   }
//  230 
//  231   return status;
??MT_SysCommandProcessing_20:
        MOV.B   R10, R12
        POP.W   R10
          CFI R10L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock0
//  232 }
//  233 
//  234 /**************************************************************************************************
//  235  * @fn      MT_SysReset
//  236  *
//  237  * @brief   Reset the device.
//  238  * @param   typID: 0=reset, 1=serial bootloader
//  239  *
//  240  * @return  None
//  241  *************************************************************************************************/

        RSEG CODE:CODE:REORDER:NOROOT(1)
//  242 void MT_SysReset(uint8 *pBuf)
MT_SysReset:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI Function MT_SysReset
//  243 {
//  244   if (pBuf[MT_RPC_POS_DAT0] == 0)
        CMP.B   #0x0, 0x3(R12)
        JNE     ??MT_SysReset_0
//  245   {
//  246     SystemReset();
        dint
        nop
        MOV.W   #0xa5ff, &0x120
//  247   }
//  248 #if !(defined(HAL_BOARD_F2618) || defined(HAL_BOARD_F5438) || defined(HAL_BOARD_LM3S))
//  249   else
//  250   {
//  251     SystemResetSoft();  // Especially useful for CC2531 to not break comm with USB Host.
//  252   }
//  253 #endif
//  254 
//  255 }
??MT_SysReset_0:
        RETA
          CFI EndBlock cfiBlock1
        REQUIRE WDTCTL

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalTimerExpired:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function MT_SysOsalTimerExpired
        FUNCALL MT_SysOsalTimerExpired, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        CALLA   #?Subroutine4
??CrossCallReturnLabel_9:
        MOV.B   #0x81, R13
        MOV.B   #0x41, R12
        JMP     ??Subroutine10_0
          CFI EndBlock cfiBlock2

        RSEG CODE:CODE:NOROOT(1)
MT_SysResetInd:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function MT_SysResetInd
        FUNCALL MT_SysResetInd, osal_memcpy
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_SysResetInd, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        SUB.W   #0x6, SP
          CFI CFA SP+10
        MOV.B   #0x0, 0(SP)
        MOV.W   #0x5, R14
        MOV.W   #MTVersionString, R13
        MOV.W   SP, R12
        ADD.W   #0x1, R12
        CALLA   #osal_memcpy
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.B   #0x6, R14
        MOV.B   #0x80, R13
        MOV.B   #0x41, R12
        CALLA   #MT_BuildAndSendZToolResponse
        ADD.W   #0x6, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock3

        RSEG CODE:CODE:NOROOT(1)
MT_SysSetTxPower:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI Function MT_SysSetTxPower
        FUNCALL MT_SysSetTxPower, macRadioSetTxPower
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysSetTxPower, MAC_MlmeSetReq
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysSetTxPower, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        MOV.B   0x3(R12), 0(SP)
        MOV.B   @SP, R12
        CALLA   #macRadioSetTxPower
        MOV.B   R12, 0x1(SP)
        MOV.W   SP, R13
        ADD.W   #0x0, R13
        MOV.B   #0xe5, R12
        CALLA   #MAC_MlmeSetReq
        MOV.W   SP, R15
        ADD.W   #0x1, R15
        MOV.B   #0x1, R14
        MOV.B   #0x14, R13
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock4

        RSEG CODE:CODE:NOROOT(1)
MT_SysGetUtcTime:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function MT_SysGetUtcTime
        FUNCALL MT_SysGetUtcTime, osal_mem_alloc
        LOCFRAME CSTACK, 20, STACK
        FUNCALL MT_SysGetUtcTime, osal_getClock
        LOCFRAME CSTACK, 20, STACK
        FUNCALL MT_SysGetUtcTime, osal_ConvertUTCTime
        LOCFRAME CSTACK, 20, STACK
        FUNCALL MT_SysGetUtcTime, osal_buffer_uint32
        LOCFRAME CSTACK, 20, STACK
        FUNCALL MT_SysGetUtcTime, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 20, STACK
        FUNCALL MT_SysGetUtcTime, osal_mem_free
        LOCFRAME CSTACK, 20, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0x8, SP
          CFI CFA SP+20
        MOV.W   #0xc, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R8
        CMP.W   #0x0, R12
        JEQ     ??MT_SysGetUtcTime_0
        CALLA   #osal_getClock
        MOV.W   R12, R10
        MOV.W   R13, R11
        MOV.W   R12, R14
        MOV.W   R13, R15
        MOV.W   SP, R12
        ADD.W   #0x0, R12
        CALLA   #osal_ConvertUTCTime
        MOV.W   R10, R14
        MOV.W   R11, R15
        MOV.W   R8, R12
        CALLA   #osal_buffer_uint32
        MOV.B   0x2(SP), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x1(SP), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   @SP, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x4(SP), R14
        ADD.B   #0x1, R14
        MOV.B   R14, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x3(SP), R14
        ADD.B   #0x1, R14
        MOV.B   R14, 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x6(SP), 0(R12)
        ADD.W   #0x1, R12
        MOV.B   0x7(SP), 0(R12)
        ADD.B   #0x1, R12
        MOV.W   R8, R15
        MOV.B   R12, R14
        SUB.B   R8, R14
        MOV.B   #0x11, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_22:
        MOV.W   R8, R12
        CALLA   #osal_mem_free
??MT_SysGetUtcTime_0:
        ADD.W   #0x8, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock5

        RSEG CODE:CODE:NOROOT(1)
MT_SysSetUtcTime:
          CFI Block cfiBlock6 Using cfiCommon0
          CFI Function MT_SysSetUtcTime
        FUNCALL MT_SysSetUtcTime, osal_build_uint32
        LOCFRAME CSTACK, 22, STACK
        FUNCALL MT_SysSetUtcTime, osal_build_uint16
        LOCFRAME CSTACK, 22, STACK
        FUNCALL MT_SysSetUtcTime, osal_ConvertUTCSecs
        LOCFRAME CSTACK, 22, STACK
        FUNCALL MT_SysSetUtcTime, osal_setClock
        LOCFRAME CSTACK, 22, STACK
        FUNCALL MT_SysSetUtcTime, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 22, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0xa, SP
          CFI CFA SP+22
        MOV.W   R12, R10
        MOV.B   0x2(R12), R11
        ADD.W   #0x3, R10
        MOV.B   #0x4, R13
        MOV.W   R10, R12
        CALLA   #osal_build_uint32
        MOV.W   R12, R15
        BIS.W   R13, R15
        CMP.W   #0x0, R15
        JNE     ??MT_SysSetUtcTime_5
        ADD.W   #0x4, R10
        MOV.B   @R10+, 0x4(SP)
        MOV.B   @R10+, 0x3(SP)
        MOV.B   @R10+, 0x2(SP)
        MOV.B   @R10+, R14
        ADD.B   #0xff, R14
        MOV.B   R14, 0x6(SP)
        MOV.B   @R10+, R14
        ADD.B   #0xff, R14
        MOV.B   R14, 0x5(SP)
        MOV.W   R10, R12
        CALLA   #osal_build_uint16
        MOV.W   R12, R10
        MOV.W   R12, 0x8(SP)
        CMP.B   #0x18, 0x4(SP)
        JC      ??MT_SysSetUtcTime_6
        CMP.B   #0x3c, 0x3(SP)
        JC      ??MT_SysSetUtcTime_6
        CMP.B   #0x3c, 0x2(SP)
        JC      ??MT_SysSetUtcTime_6
        MOV.B   0x6(SP), R14
        CMP.B   #0xc, R14
        JC      ??MT_SysSetUtcTime_6
        MOV.B   0x5(SP), R8
        CMP.B   #0x1f, R8
        JC      ??MT_SysSetUtcTime_6
        MOV.W   R12, R15
        ADD.W   #0xf830, R15
        CMP.W   #0x88, R15
        JC      ??MT_SysSetUtcTime_6
        CMP.B   #0x1, R14
        JNE     ??MT_SysSetUtcTime_7
        MOV.W   #0x190, R14
        CALLA   #?DivMod16u
        CMP.W   #0x0, R14
        JEQ     ??MT_SysSetUtcTime_2
        MOV.W   R10, R12
        MOV.W   #0x64, R14
        CALLA   #?DivMod16u
        CMP.W   #0x0, R14
        JEQ     ??MT_SysSetUtcTime_3
        BIT.B   #0x3, R10
        JNE     ??MT_SysSetUtcTime_3
??MT_SysSetUtcTime_2:
        MOV.B   #0x1d, R14
        JMP     ??MT_SysSetUtcTime_1
??MT_SysSetUtcTime_3:
        MOV.B   #0x1c, R14
??MT_SysSetUtcTime_1:
        CMP.B   R14, R8
        JC      ??MT_SysSetUtcTime_6
??MT_SysSetUtcTime_7:
        MOV.W   SP, R12
        ADD.W   #0x2, R12
        CALLA   #osal_ConvertUTCSecs
??MT_SysSetUtcTime_5:
        MOV.W   R12, R15
        BIS.W   R13, R15
        CMP.W   #0x0, R15
        JNE     ??MT_SysSetUtcTime_8
??MT_SysSetUtcTime_6:
        MOV.B   #0x2, 0(SP)
        JMP     ??MT_SysSetUtcTime_9
??MT_SysSetUtcTime_8:
        CALLA   #osal_setClock
        MOV.B   #0x0, 0(SP)
??MT_SysSetUtcTime_9:
        CALLA   #??Subroutine4_0
??CrossCallReturnLabel_11:
        MOV.B   R11, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_21:
        ADD.W   #0xa, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock6

        RSEG CODE:CODE:NOROOT(1)
MT_SysStackTune:
          CFI Block cfiBlock7 Using cfiCommon0
          CFI Function MT_SysStackTune
        FUNCALL MT_SysStackTune, ZMacSetReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysStackTune, ZMacGetReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysStackTune, ZMacSetReq
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysStackTune, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        CALLA   #??Subroutine6_0
??CrossCallReturnLabel_7:
        MOV.W   R12, R15
        ADD.W   #0x1, R12
        MOV.B   @R15, R14
        SUB.B   #0x0, R14
        JEQ     ??MT_SysStackTune_0
        SUB.B   #0x1, R14
        JEQ     ??MT_SysStackTune_1
        JMP     ??MT_SysStackTune_2
??MT_SysStackTune_0:
        MOV.W   R12, R13
        MOV.B   #0xe5, R12
        JMP     ??MT_SysStackTune_3
??MT_SysStackTune_1:
        MOV.B   @R12, R14
        CMP.B   #0x1, R14
        JEQ     ??MT_SysStackTune_4
        CMP.B   #0x0, R14
        JEQ     ??MT_SysStackTune_4
        MOV.W   SP, R13
        ADD.W   #0x0, R13
        MOV.B   #0x52, R12
        CALLA   #ZMacGetReq
        JMP     ??MT_SysStackTune_5
??MT_SysStackTune_4:
        MOV.W   R12, R13
        MOV.B   #0x52, R12
??MT_SysStackTune_3:
        CALLA   #ZMacSetReq
        MOV.B   R12, 0(SP)
        JMP     ??MT_SysStackTune_5
??MT_SysStackTune_2:
        MOV.B   #0x2, 0(SP)
??MT_SysStackTune_5:
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock7

        RSEG CODE:CODE:NOROOT(1)
MT_SysGpio:
          CFI Block cfiBlock8 Using cfiCommon0
          CFI Function MT_SysGpio
        FUNCALL MT_SysGpio, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        MOV.B   0x2(R12), R13
        MOV.B   #0x0, 0(SP)
        CALLA   #??Subroutine4_0
??CrossCallReturnLabel_12:
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock8

        RSEG CODE:CODE:NOROOT(1)
MT_SysAdcRead:
          CFI Block cfiBlock9 Using cfiCommon0
          CFI Function MT_SysAdcRead
        FUNCALL MT_SysAdcRead, HalAdcRead
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysAdcRead, HalAdcRead
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysAdcRead, HalAdcRead
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysAdcRead, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        CALLA   #??Subroutine6_0
??CrossCallReturnLabel_8:
        MOV.B   @R12+, R14
        MOV.B   R14, R15
        SUB.B   #0x0, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_1
        SUB.B   #0x7, R15
        JEQ     ??MT_SysAdcRead_2
        SUB.B   #0x1, R15
        JEQ     ??MT_SysAdcRead_3
        JMP     ??MT_SysAdcRead_4
??MT_SysAdcRead_1:
        MOV.B   @R12, R13
        MOV.B   R14, R12
        JMP     ??MT_SysAdcRead_0
??MT_SysAdcRead_2:
        MOV.B   #0x4, R13
        MOV.B   #0xe, R12
        JMP     ??MT_SysAdcRead_0
??MT_SysAdcRead_3:
        MOV.B   #0x4, R13
        MOV.B   #0xf, R12
??MT_SysAdcRead_0:
        CALLA   #HalAdcRead
        JMP     ??MT_SysAdcRead_5
??MT_SysAdcRead_4:
        MOV.W   #0x0, R12
??MT_SysAdcRead_5:
        CALLA   #?Subroutine3
??CrossCallReturnLabel_0:
        JMP     ??Subroutine9_0
          CFI EndBlock cfiBlock9

        RSEG CODE:CODE:NOROOT(1)
MT_SysRandom:
          CFI Block cfiBlock10 Using cfiCommon0
          CFI Function MT_SysRandom
        FUNCALL MT_SysRandom, Onboard_rand
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysRandom, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        CALLA   #Onboard_rand
        CALLA   #?Subroutine3
??CrossCallReturnLabel_1:
        MOV.B   #0xc, R13
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock10
//  256 
//  257 /***************************************************************************************************
//  258  * @fn      MT_SysPing
//  259  *
//  260  * @brief   Process the Ping command
//  261  *
//  262  * @param   None
//  263  *
//  264  * @return  None
//  265  ***************************************************************************************************/
//  266 void MT_SysPing(void)
//  267 {
//  268   uint16 tmp16;
//  269   uint8 retArray[2];
//  270 
//  271   /* Build Capabilities */
//  272   tmp16 = MT_CAP_SYS | MT_CAP_MAC | MT_CAP_NWK | MT_CAP_AF | MT_CAP_ZDO |
//  273           MT_CAP_SAPI | MT_CAP_UTIL | MT_CAP_DEBUG | MT_CAP_APP | MT_CAP_ZOAD;
//  274 
//  275   /* Convert to high byte first into temp buffer */
//  276   retArray[0] = LO_UINT16( tmp16 );
//  277   retArray[1] = HI_UINT16( tmp16 );
//  278 
//  279   /* Build and send back the response */
//  280   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), MT_SYS_PING,
//  281                                 sizeof (tmp16), retArray );
//  282 }
//  283 
//  284 /***************************************************************************************************
//  285  * @fn      MT_SysVersion
//  286  *
//  287  * @brief   Process the Version command
//  288  *
//  289  * @param   None
//  290  *
//  291  * @return  None
//  292  ***************************************************************************************************/
//  293 void MT_SysVersion(void)
//  294 {
//  295   byte *verStr = (byte *)MTVersionString;
//  296   uint8 respLen = sizeof(MTVersionString);
//  297 
//  298   /* Build and send back the response */
//  299   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), MT_SYS_VERSION,
//  300                                respLen, verStr);
//  301 }
//  302 
//  303 /***************************************************************************************************
//  304  * @fn      MT_SysSetExtAddr
//  305  *
//  306  * @brief   Set the Extended Address
//  307  *
//  308  * @param   pBuf
//  309  *
//  310  * @return  None
//  311  ***************************************************************************************************/
//  312 void MT_SysSetExtAddr(uint8 *pBuf)
//  313 {
//  314   uint8 retValue = ZFailure;
//  315   uint8 cmdId;
//  316 
//  317   /* parse header */
//  318   cmdId = pBuf[MT_RPC_POS_CMD1];
//  319   pBuf += MT_RPC_FRAME_HDR_SZ;
//  320 
//  321   if ( ZMacSetReq(ZMacExtAddr, pBuf) == ZMacSuccess )
//  322   {
//  323 // CC253X MAC Network Processor does not have NV support
//  324 #if !defined(CC253X_MACNP)
//  325     retValue = osal_nv_write(ZCD_NV_EXTADDR, 0, Z_EXTADDR_LEN, pBuf);
//  326 #endif
//  327   }
//  328 
//  329   /* Build and send back the response */
//  330   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmdId, 1, &retValue);
//  331 
//  332 }
//  333 
//  334 /***************************************************************************************************
//  335  * @fn      MT_SysGetExtAddr
//  336  *
//  337  * @brief   Get the Extended Address
//  338  *
//  339  * @param   None
//  340  *
//  341  * @return  None
//  342  ***************************************************************************************************/
//  343 void MT_SysGetExtAddr(void)
//  344 {
//  345   uint8 extAddr[Z_EXTADDR_LEN];
//  346 
//  347   ZMacGetReq( ZMacExtAddr, extAddr );
//  348 
//  349   /* Build and send back the response */
//  350   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), MT_SYS_GET_EXTADDR,
//  351                                Z_EXTADDR_LEN, extAddr);
//  352 }
//  353 
//  354 /***************************************************************************************************
//  355  * @fn      MT_SysOsalNVRead
//  356  *
//  357  * @brief  Read a NV value
//  358  *
//  359  * @param  uint8 pBuf - pointer to the data
//  360  *
//  361  * @return  None
//  362  ***************************************************************************************************/
//  363 void MT_SysOsalNVRead(uint8 *pBuf)
//  364 {
//  365   uint16 nvId;
//  366   uint8 nvItemLen=0, nvItemOffset=0;
//  367   uint8 *pRetBuf=NULL;
//  368   uint8 respLen;
//  369 
//  370   /* Skip over RPC header */
//  371   pBuf += MT_RPC_FRAME_HDR_SZ;
//  372 
//  373   /* Get the ID */
//  374   nvId = BUILD_UINT16(pBuf[0], pBuf[1]);
//  375   /* Get the offset */
//  376   nvItemOffset = pBuf[2];
//  377 
//  378 #if !MT_SYS_OSAL_NV_READ_CERTIFICATE_DATA
//  379   if ((ZCD_NV_IMPLICIT_CERTIFICATE == nvId) ||
//  380       (ZCD_NV_CA_PUBLIC_KEY == nvId)        ||
//  381       (ZCD_NV_DEVICE_PRIVATE_KEY == nvId))
//  382   {
//  383     uint8 tmp[2] = { INVALIDPARAMETER, 0 };
//  384     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  385                                    MT_SYS_OSAL_NV_READ, 2, tmp);
//  386     return;
//  387   }
//  388 #endif
//  389 
//  390 #if !MT_SYS_KEY_MANAGEMENT
//  391   if ( (nvId == ZCD_NV_NWK_ACTIVE_KEY_INFO) ||
//  392        (nvId == ZCD_NV_NWK_ALTERN_KEY_INFO) ||
//  393       ((nvId >= ZCD_NV_TCLK_TABLE_START) && (nvId <= ZCD_NV_TCLK_TABLE_END)) ||
//  394       ((nvId >= ZCD_NV_APS_LINK_KEY_DATA_START) && (nvId <= ZCD_NV_APS_LINK_KEY_DATA_END)) ||
//  395       ((nvId >= ZCD_NV_MASTER_KEY_DATA_START) && (nvId <= ZCD_NV_MASTER_KEY_DATA_END)) ||
//  396        (nvId == ZCD_NV_PRECFGKEY) )
//  397   {
//  398     uint8 tmp1[2] = { INVALIDPARAMETER, 0 };
//  399     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  400                                    MT_SYS_OSAL_NV_READ, 2, tmp1);
//  401     return;
//  402   }
//  403 #endif //!MT_SYS_KEY_MANAGEMENT
//  404 
//  405   nvItemLen = osal_nv_item_len(nvId);
//  406 
//  407   /* Return only 250 bytes max */
//  408   if (nvItemLen > MT_NV_ITEM_MAX_LENGTH)
//  409   {
//  410     nvItemLen = MT_NV_ITEM_MAX_LENGTH;
//  411   }
//  412 
//  413   if ((nvItemLen > 0) && ((nvItemLen - nvItemOffset) > 0))
//  414   {
//  415     respLen = nvItemLen - nvItemOffset + 2;
//  416   }
//  417   else
//  418   {
//  419     respLen = 2;
//  420   }
//  421 
//  422   pRetBuf = osal_mem_alloc(respLen);
//  423 
//  424   if (pRetBuf != NULL)
//  425   {
//  426     osal_memset(pRetBuf, 0, respLen);
//  427 
//  428     /* Default to ZFailure */
//  429     pRetBuf[0] = ZFailure;
//  430 
//  431     if (respLen > 2)
//  432     {
//  433       if (((osal_nv_read( nvId, (uint16)nvItemOffset, (uint16)nvItemLen, &pRetBuf[2])) == ZSUCCESS) && (respLen > 2))
//  434       {
//  435         pRetBuf[0] = ZSuccess;
//  436       }
//  437       pRetBuf[1] = nvItemLen - nvItemOffset;
//  438     }
//  439     else
//  440     {
//  441       pRetBuf[1] = 0;
//  442     }
//  443 
//  444     /* Build and send back the response */
//  445     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  446                                    MT_SYS_OSAL_NV_READ, respLen, pRetBuf );
//  447 
//  448     osal_mem_free(pRetBuf);
//  449   }
//  450 }
//  451 
//  452 /***************************************************************************************************
//  453  * @fn      MT_SysOsalNVWrite
//  454  *
//  455  * @brief
//  456  *
//  457  * @param   uint8 pData - pointer to the data
//  458  *
//  459  * @return  None
//  460  ***************************************************************************************************/
//  461 void MT_SysOsalNVWrite(uint8 *pBuf)
//  462 {
//  463   uint16 nvId;
//  464   uint8 nvItemLen=0, nvItemOffset=0;
//  465   uint8 rtrn;
//  466 
//  467   /* Skip over RPC header */
//  468   pBuf += MT_RPC_FRAME_HDR_SZ;
//  469 
//  470   /* Get the ID */
//  471   nvId = BUILD_UINT16(pBuf[0], pBuf[1]);
//  472   /* Get the offset */
//  473   nvItemOffset = pBuf[2];
//  474   /* Get the length */
//  475   nvItemLen = pBuf[3];
//  476   pBuf += 4;
//  477 
//  478   /* Default to ZFailure */
//  479   rtrn = ZFailure;
//  480 
//  481   /* Set the Z-Globals value of this NV item. */
//  482   zgSetItem( nvId, (uint16)nvItemLen, pBuf );
//  483 
//  484   if ((osal_nv_write(nvId, (uint16)nvItemOffset, (uint16)nvItemLen, pBuf)) == ZSUCCESS)
//  485   {
//  486     if (nvId == ZCD_NV_EXTADDR)
//  487     {
//  488       rtrn = ZMacSetReq(ZMacExtAddr, pBuf);
//  489     }
//  490     else
//  491     {
//  492       rtrn = ZSuccess;
//  493     }
//  494   }
//  495 
//  496   /* Build and send back the response */
//  497   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  498                                  MT_SYS_OSAL_NV_WRITE, 1, &rtrn);
//  499 }
//  500 
//  501 /***************************************************************************************************
//  502  * @fn      MT_SysOsalNVItemInit
//  503  *
//  504  * @brief   Attempt to create an NV item
//  505  *
//  506  * @param   uint8 pData - pointer to the data
//  507  *
//  508  * @return  None
//  509  ***************************************************************************************************/
//  510 void MT_SysOsalNVItemInit(uint8 *pBuf)
//  511 {
//  512   uint8 ret;
//  513   uint8 idLen;
//  514   uint16 nvId;
//  515   uint16 nvLen;
//  516 
//  517   /* Skip over RPC header */
//  518   pBuf += MT_RPC_FRAME_HDR_SZ;
//  519 
//  520   /* NV item ID */
//  521   nvId = BUILD_UINT16(pBuf[0], pBuf[1]);
//  522   /* NV item length */
//  523   nvLen = BUILD_UINT16(pBuf[2], pBuf[3]);
//  524   /* Initialization data length */
//  525   idLen = pBuf[4];
//  526   pBuf += 5;
//  527 
//  528   if ( idLen < nvLen )
//  529   {
//  530     /* Attempt to create a new NV item */
//  531     ret = osal_nv_item_init( nvId, nvLen, NULL );
//  532     if ( (ret == NV_ITEM_UNINIT) && (idLen > 0) )
//  533     {
//  534       /* Write initialization data to first part of new item */
//  535       (void) osal_nv_write( nvId, 0, (uint16)idLen, pBuf );
//  536     }
//  537   }
//  538   else
//  539   {
//  540     /* Attempt to create/initialize a new NV item */
//  541     ret = osal_nv_item_init( nvId, nvLen, pBuf );
//  542   }
//  543 
//  544   /* Build and send back the response */
//  545   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  546                                  MT_SYS_OSAL_NV_ITEM_INIT, 1, &ret);
//  547 }
//  548 
//  549 /***************************************************************************************************
//  550  * @fn      MT_SysOsalNVDelete
//  551  *
//  552  * @brief   Attempt to delete an NV item
//  553  *
//  554  * @param   uint8 pData - pointer to the data
//  555  *
//  556  * @return  None
//  557  ***************************************************************************************************/
//  558 void MT_SysOsalNVDelete(uint8 *pBuf)
//  559 {
//  560   uint16 nvId;
//  561   uint16 nvLen;
//  562   uint8 ret;
//  563 
//  564   /* Skip over RPC header */
//  565   pBuf += MT_RPC_FRAME_HDR_SZ;
//  566 
//  567   /* Get the ID */
//  568   nvId = BUILD_UINT16(pBuf[0], pBuf[1]);
//  569   /* Get the length */
//  570   nvLen = BUILD_UINT16(pBuf[2], pBuf[3]);
//  571 
//  572   /* Attempt to delete the NV item */
//  573   ret = osal_nv_delete( nvId, nvLen );
//  574 
//  575   /* Build and send back the response */
//  576   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  577                                  MT_SYS_OSAL_NV_DELETE, 1, &ret);
//  578 }
//  579 
//  580 /***************************************************************************************************
//  581  * @fn      MT_SysOsalNVLength
//  582  *
//  583  * @brief   Attempt to get the length to an NV item
//  584  *
//  585  * @param   uint8 pData - pointer to the data
//  586  *
//  587  * @return  None
//  588  ***************************************************************************************************/

        RSEG CODE:CODE:NOROOT(1)
?Subroutine3:
          CFI Block cfiCond11 Using cfiCommon0
          CFI Function MT_SysAdcRead
          CFI Conditional ??CrossCallReturnLabel_0
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond12 Using cfiCommon0
          CFI (cfiCond12) Function MT_SysRandom
          CFI (cfiCond12) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond12) CFA SP+10
          CFI Block cfiCond13 Using cfiCommon0
          CFI (cfiCond13) Function MT_SysOsalNVLength
          CFI (cfiCond13) Conditional ??CrossCallReturnLabel_2
          CFI (cfiCond13) CFA SP+10
          CFI Block cfiPicker14 Using cfiCommon1
          CFI (cfiPicker14) NoFunction
          CFI (cfiPicker14) Picker
//  589 void MT_SysOsalNVLength(uint8 *pBuf)
//  590 {
//  591   uint16 nvId;
//  592   uint16 nvLen;
//  593   uint8 rsp[2];
//  594 
//  595   /* Skip over RPC header */
//  596   pBuf += MT_RPC_FRAME_HDR_SZ;
//  597 
//  598   /* Get the ID */
//  599   nvId = BUILD_UINT16(pBuf[0], pBuf[1]);
//  600 
//  601   /* Attempt to get NV item length */
//  602   nvLen = osal_nv_item_len( nvId );
//  603   rsp[0] = LO_UINT16( nvLen );
        MOV.B   R12, 0x4(SP)
//  604   rsp[1] = HI_UINT16( nvLen );
        RPT     #0x8
        RRUX.W  R12
        MOV.B   R12, 0x5(SP)
//  605 
//  606   /* Build and send back the response */
//  607   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  608                                  MT_SYS_OSAL_NV_LENGTH, 2, rsp);
        MOV.W   SP, R15
        ADD.W   #0x4, R15
        MOV.B   #0x2, R14
        RETA
          CFI EndBlock cfiCond11
          CFI EndBlock cfiCond12
          CFI EndBlock cfiCond13
          CFI EndBlock cfiPicker14

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalStopTimer:
          CFI Block cfiBlock15 Using cfiCommon0
          CFI Function MT_SysOsalStopTimer
        FUNCALL MT_SysOsalStopTimer, osal_stop_timerEx
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysOsalStopTimer, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        CALLA   #?Subroutine6
??CrossCallReturnLabel_5:
        MOV.B   @R12, R15
        CMP.B   #0x4, R15
        JC      ??MT_SysOsalStopTimer_0
        RLA.W   R15
        MOV.W   MT_SysOsalEventId(R15), R13
        MOV.B   &MT_TaskID, R12
        CALLA   #osal_stop_timerEx
        MOV.B   R12, 0(SP)
        JMP     ??MT_SysOsalStopTimer_1
??MT_SysOsalStopTimer_0:
        MOV.B   #0x2, 0(SP)
??MT_SysOsalStopTimer_1:
        JMP     ?Subroutine0
          CFI EndBlock cfiBlock15
//  609 }
//  610 
//  611 /***************************************************************************************************
//  612  * @fn      MT_SysOsalStartTimer
//  613  *
//  614  * @brief
//  615  *
//  616  * @param   uint8 pData - pointer to the data
//  617  *
//  618  * @return  None
//  619  ***************************************************************************************************/

        RSEG CODE:CODE:NOROOT(1)
?Subroutine6:
          CFI Block cfiCond16 Using cfiCommon0
          CFI Function MT_SysOsalStopTimer
          CFI Conditional ??CrossCallReturnLabel_5
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond17 Using cfiCommon0
          CFI (cfiCond17) Function MT_SysOsalStartTimer
          CFI (cfiCond17) Conditional ??CrossCallReturnLabel_6
          CFI (cfiCond17) R10L Frame(CFA, -6)
          CFI (cfiCond17) CFA SP+12
          CFI Block cfiPicker18 Using cfiCommon1
          CFI (cfiPicker18) NoFunction
          CFI (cfiPicker18) Picker
        MOV.B   #0x1, 0x4(SP)
          CFI EndBlock cfiCond16
          CFI EndBlock cfiCond17
          CFI EndBlock cfiPicker18
        REQUIRE ??Subroutine6_0
        // Fall through to label ??Subroutine6_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine6_0:
          CFI Block cfiCond19 Using cfiCommon0
          CFI Function MT_SysStackTune
          CFI Conditional ??CrossCallReturnLabel_7
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond20 Using cfiCommon0
          CFI (cfiCond20) Function MT_SysAdcRead
          CFI (cfiCond20) Conditional ??CrossCallReturnLabel_8
          CFI (cfiCond20) R10L Frame(CFA, -6)
          CFI (cfiCond20) CFA SP+12
          CFI Block cfiCond21 Using cfiCommon0
          CFI (cfiCond21) Function MT_SysOsalStopTimer
          CFI (cfiCond21) Conditional ??CrossCallReturnLabel_5
          CFI (cfiCond21) R10L Frame(CFA, -6)
          CFI (cfiCond21) CFA SP+12
          CFI Block cfiCond22 Using cfiCommon0
          CFI (cfiCond22) Function MT_SysOsalStartTimer
          CFI (cfiCond22) Conditional ??CrossCallReturnLabel_6
          CFI (cfiCond22) R10L Frame(CFA, -6)
          CFI (cfiCond22) CFA SP+12
          CFI Block cfiPicker23 Using cfiCommon1
          CFI (cfiPicker23) NoFunction
          CFI (cfiPicker23) Picker
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R12
        RETA
          CFI EndBlock cfiCond19
          CFI EndBlock cfiCond20
          CFI EndBlock cfiCond21
          CFI EndBlock cfiCond22
          CFI EndBlock cfiPicker23

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalStartTimer:
          CFI Block cfiBlock24 Using cfiCommon0
          CFI Function MT_SysOsalStartTimer
        FUNCALL MT_SysOsalStartTimer, osal_start_timerEx
        LOCFRAME CSTACK, 8, STACK
        FUNCALL MT_SysOsalStartTimer, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 8, STACK
        PUSH.W  R10
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+6
        SUB.W   #0x2, SP
          CFI CFA SP+8
        CALLA   #?Subroutine6
??CrossCallReturnLabel_6:
        MOV.B   @R12, R13
        CMP.B   #0x4, R13
        JC      ??MT_SysOsalStartTimer_0
        MOV.B   0x1(R12), R14
        MOV.B   0x2(R12), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R14
        RLA.W   R13
        MOV.W   MT_SysOsalEventId(R13), R13
        MOV.B   &MT_TaskID, R12
        CALLA   #osal_start_timerEx
        MOV.B   R12, 0(SP)
        JMP     ??MT_SysOsalStartTimer_1
??MT_SysOsalStartTimer_0:
        MOV.B   #0x2, 0(SP)
          CFI EndBlock cfiBlock24
??MT_SysOsalStartTimer_1:
        REQUIRE ?Subroutine0
        // Fall through to label ?Subroutine0

        RSEG CODE:CODE:NOROOT(1)
?Subroutine0:
          CFI Block cfiBlock25 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+8
          CFI R10L Frame(CFA, -6)
        CALLA   #??Subroutine4_0
          CFI EndBlock cfiBlock25
??CrossCallReturnLabel_16:
        REQUIRE ??Subroutine9_0
        // Fall through to label ??Subroutine9_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine9_0:
          CFI Block cfiBlock26 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+8
          CFI R10L Frame(CFA, -6)
        CALLA   #?Subroutine5
??CrossCallReturnLabel_24:
        ADD.W   #0x2, SP
          CFI CFA SP+6
        POP.W   R10
          CFI CFA SP+4
          CFI R10L SameValue
        RETA
          CFI EndBlock cfiBlock26

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalNVLength:
          CFI Block cfiBlock27 Using cfiCommon0
          CFI Function MT_SysOsalNVLength
        FUNCALL MT_SysOsalNVLength, osal_nv_item_len
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysOsalNVLength, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        ADD.W   #0x3, R12
        CALLA   #?Subroutine7
??CrossCallReturnLabel_3:
        CALLA   #osal_nv_item_len
        CALLA   #?Subroutine3
??CrossCallReturnLabel_2:
        MOV.B   #0x13, R13
          CFI EndBlock cfiBlock27
        REQUIRE ?Subroutine2
        // Fall through to label ?Subroutine2

        RSEG CODE:CODE:NOROOT(1)
?Subroutine2:
          CFI Block cfiBlock28 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+6
        MOV.B   #0x61, R12
          CFI EndBlock cfiBlock28
        REQUIRE ??Subroutine10_0
        // Fall through to label ??Subroutine10_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine10_0:
          CFI Block cfiBlock29 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+6
        CALLA   #MT_BuildAndSendZToolResponse
        ADD.W   #0x2, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock29

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalNVDelete:
          CFI Block cfiBlock30 Using cfiCommon0
          CFI Function MT_SysOsalNVDelete
        FUNCALL MT_SysOsalNVDelete, osal_nv_delete
        LOCFRAME CSTACK, 6, STACK
        FUNCALL MT_SysOsalNVDelete, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        ADD.W   #0x3, R12
        MOV.B   0x2(R12), R13
        MOV.B   0x3(R12), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R13
        CALLA   #?Subroutine7
??CrossCallReturnLabel_4:
        CALLA   #osal_nv_delete
        CALLA   #?Subroutine4
??CrossCallReturnLabel_10:
        MOV.B   #0x12, R13
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock30

        RSEG CODE:CODE:NOROOT(1)
?Subroutine7:
          CFI Block cfiCond31 Using cfiCommon0
          CFI Function MT_SysOsalNVLength
          CFI Conditional ??CrossCallReturnLabel_3
          CFI CFA SP+10
          CFI Block cfiCond32 Using cfiCommon0
          CFI (cfiCond32) Function MT_SysOsalNVDelete
          CFI (cfiCond32) Conditional ??CrossCallReturnLabel_4
          CFI (cfiCond32) CFA SP+10
          CFI Block cfiPicker33 Using cfiCommon1
          CFI (cfiPicker33) NoFunction
          CFI (cfiPicker33) Picker
        MOV.B   @R12, R15
        MOV.B   0x1(R12), R14
        RPT     #0x8
        RLAX.W  R14
        ADD.W   R14, R15
        MOV.W   R15, R12
        RETA
          CFI EndBlock cfiCond31
          CFI EndBlock cfiCond32
          CFI EndBlock cfiPicker33

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalNVItemInit:
          CFI Block cfiBlock34 Using cfiCommon0
          CFI Function MT_SysOsalNVItemInit
        FUNCALL MT_SysOsalNVItemInit, osal_nv_item_init
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVItemInit, osal_nv_write
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVItemInit, osal_nv_item_init
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVItemInit, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 14, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0x2, SP
          CFI CFA SP+14
        MOV.W   R12, R11
        ADD.W   #0x3, R11
        MOV.B   @R11, R8
        MOV.B   0x1(R11), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R8
        MOV.B   0x2(R11), R13
        MOV.B   0x3(R11), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R13
        MOV.B   0x4(R11), R10
        ADD.W   #0x5, R11
        MOV.B   R10, R9
        CMP.W   R13, R9
        JC      ??MT_SysOsalNVItemInit_0
        MOV.W   #0x0, R14
        MOV.W   R8, R12
        CALLA   #osal_nv_item_init
        MOV.B   R12, 0(SP)
        CMP.B   #0x9, R12
        JNE     ??MT_SysOsalNVItemInit_1
        CMP.B   #0x0, R10
        JEQ     ??MT_SysOsalNVItemInit_1
        MOV.W   R11, R15
        MOV.W   R9, R14
        MOV.W   #0x0, R13
        MOV.W   R8, R12
        CALLA   #osal_nv_write
        JMP     ??MT_SysOsalNVItemInit_1
??MT_SysOsalNVItemInit_0:
        MOV.W   R11, R14
        MOV.W   R8, R12
        CALLA   #osal_nv_item_init
        MOV.B   R12, 0(SP)
??MT_SysOsalNVItemInit_1:
        CALLA   #??Subroutine4_0
??CrossCallReturnLabel_13:
        MOV.B   #0x7, R13
          CFI EndBlock cfiBlock34
        REQUIRE ?Subroutine1
        // Fall through to label ?Subroutine1

        RSEG CODE:CODE:NOROOT(1)
?Subroutine1:
          CFI Block cfiBlock35 Using cfiCommon0
          CFI NoFunction
          CFI CFA SP+14
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_20:
        ADD.W   #0x2, SP
          CFI CFA SP+12
        POPM.W  #0x4, R11
          CFI CFA SP+4
          CFI R8L SameValue
          CFI R9L SameValue
          CFI R10L SameValue
          CFI R11L SameValue
        RETA
          CFI EndBlock cfiBlock35

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalNVWrite:
          CFI Block cfiBlock36 Using cfiCommon0
          CFI Function MT_SysOsalNVWrite
        FUNCALL MT_SysOsalNVWrite, zgSetItem
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVWrite, osal_nv_write
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVWrite, ZMacSetReq
        LOCFRAME CSTACK, 14, STACK
        FUNCALL MT_SysOsalNVWrite, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 14, STACK
        PUSHM.W #0x4, R11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+12
        SUB.W   #0x2, SP
          CFI CFA SP+14
        MOV.W   R12, R8
        ADD.W   #0x3, R8
        MOV.B   @R8, R9
        MOV.B   0x1(R8), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R9
        MOV.B   0x2(R8), R10
        MOV.B   0x3(R8), R11
        ADD.W   #0x4, R8
        MOV.B   #0x1, 0(SP)
        MOV.W   R8, R14
        MOV.W   R11, R13
        MOV.W   R9, R12
        CALLA   #zgSetItem
        MOV.W   R8, R15
        MOV.W   R11, R14
        MOV.B   R10, R13
        MOV.W   R9, R12
        CALLA   #osal_nv_write
        CMP.B   #0x0, R12
        JNE     ??MT_SysOsalNVWrite_0
        CMP.W   #0x1, R9
        JNE     ??MT_SysOsalNVWrite_1
        MOV.W   R8, R13
        MOV.B   #0xe2, R12
        CALLA   #ZMacSetReq
        MOV.B   R12, 0(SP)
        JMP     ??MT_SysOsalNVWrite_0
??MT_SysOsalNVWrite_1:
        MOV.B   #0x0, 0(SP)
??MT_SysOsalNVWrite_0:
        CALLA   #??Subroutine4_0
??CrossCallReturnLabel_14:
        MOV.B   #0x9, R13
        JMP     ?Subroutine1
          CFI EndBlock cfiBlock36

        RSEG CODE:CODE:NOROOT(1)
?Subroutine4:
          CFI Block cfiCond37 Using cfiCommon0
          CFI Function MT_SysOsalTimerExpired
          CFI Conditional ??CrossCallReturnLabel_9
          CFI CFA SP+10
          CFI Block cfiCond38 Using cfiCommon0
          CFI (cfiCond38) Function MT_SysOsalNVDelete
          CFI (cfiCond38) Conditional ??CrossCallReturnLabel_10
          CFI (cfiCond38) CFA SP+10
          CFI Block cfiPicker39 Using cfiCommon1
          CFI (cfiPicker39) NoFunction
          CFI (cfiPicker39) Picker
        MOV.B   R12, 0x4(SP)
          CFI EndBlock cfiCond37
          CFI EndBlock cfiCond38
          CFI EndBlock cfiPicker39
        REQUIRE ??Subroutine4_0
        // Fall through to label ??Subroutine4_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine4_0:
          CFI Block cfiCond40 Using cfiCommon0
          CFI Function MT_SysSetUtcTime
          CFI Conditional ??CrossCallReturnLabel_11
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+26
          CFI Block cfiCond41 Using cfiCommon0
          CFI (cfiCond41) Function MT_SysGpio
          CFI (cfiCond41) Conditional ??CrossCallReturnLabel_12
          CFI (cfiCond41) CFA SP+10
          CFI Block cfiCond42 Using cfiCommon0
          CFI (cfiCond42) Function MT_SysStackTune
          CFI (cfiCond42) Conditional ??CrossCallReturnLabel_16
          CFI (cfiCond42) R10L Frame(CFA, -6)
          CFI (cfiCond42) CFA SP+12
          CFI Block cfiCond43 Using cfiCommon0
          CFI (cfiCond43) Function MT_SysOsalStopTimer
          CFI (cfiCond43) Conditional ??CrossCallReturnLabel_16
          CFI (cfiCond43) R10L Frame(CFA, -6)
          CFI (cfiCond43) CFA SP+12
          CFI Block cfiCond44 Using cfiCommon0
          CFI (cfiCond44) Function MT_SysOsalStartTimer
          CFI (cfiCond44) Conditional ??CrossCallReturnLabel_16
          CFI (cfiCond44) R10L Frame(CFA, -6)
          CFI (cfiCond44) CFA SP+12
          CFI Block cfiCond45 Using cfiCommon0
          CFI (cfiCond45) Function MT_SysOsalNVItemInit
          CFI (cfiCond45) Conditional ??CrossCallReturnLabel_13
          CFI (cfiCond45) R8L Frame(CFA, -12)
          CFI (cfiCond45) R9L Frame(CFA, -10)
          CFI (cfiCond45) R10L Frame(CFA, -8)
          CFI (cfiCond45) R11L Frame(CFA, -6)
          CFI (cfiCond45) CFA SP+18
          CFI Block cfiCond46 Using cfiCommon0
          CFI (cfiCond46) Function MT_SysOsalNVWrite
          CFI (cfiCond46) Conditional ??CrossCallReturnLabel_14
          CFI (cfiCond46) R8L Frame(CFA, -12)
          CFI (cfiCond46) R9L Frame(CFA, -10)
          CFI (cfiCond46) R10L Frame(CFA, -8)
          CFI (cfiCond46) R11L Frame(CFA, -6)
          CFI (cfiCond46) CFA SP+18
          CFI Block cfiCond47 Using cfiCommon0
          CFI (cfiCond47) Function MT_SysSetExtAddr
          CFI (cfiCond47) Conditional ??CrossCallReturnLabel_15
          CFI (cfiCond47) R10L Frame(CFA, -8)
          CFI (cfiCond47) R11L Frame(CFA, -6)
          CFI (cfiCond47) CFA SP+14
          CFI Block cfiCond48 Using cfiCommon0
          CFI (cfiCond48) Function MT_SysOsalTimerExpired
          CFI (cfiCond48) Conditional ??CrossCallReturnLabel_9
          CFI (cfiCond48) CFA SP+10
          CFI Block cfiCond49 Using cfiCommon0
          CFI (cfiCond49) Function MT_SysOsalNVDelete
          CFI (cfiCond49) Conditional ??CrossCallReturnLabel_10
          CFI (cfiCond49) CFA SP+10
          CFI Block cfiPicker50 Using cfiCommon1
          CFI (cfiPicker50) NoFunction
          CFI (cfiPicker50) Picker
        MOV.W   SP, R15
        ADD.W   #0x4, R15
        MOV.B   #0x1, R14
        RETA
          CFI EndBlock cfiCond40
          CFI EndBlock cfiCond41
          CFI EndBlock cfiCond42
          CFI EndBlock cfiCond43
          CFI EndBlock cfiCond44
          CFI EndBlock cfiCond45
          CFI EndBlock cfiCond46
          CFI EndBlock cfiCond47
          CFI EndBlock cfiCond48
          CFI EndBlock cfiCond49
          CFI EndBlock cfiPicker50

        RSEG CODE:CODE:NOROOT(1)
MT_SysOsalNVRead:
          CFI Block cfiBlock51 Using cfiCommon0
          CFI Function MT_SysOsalNVRead
        FUNCALL MT_SysOsalNVRead, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, osal_nv_item_len
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, osal_mem_alloc
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, osal_memset
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, osal_nv_read
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 18, STACK
        FUNCALL MT_SysOsalNVRead, osal_mem_free
        LOCFRAME CSTACK, 18, STACK
        PUSHM.W #0x6, R11
          CFI R6L Frame(CFA, -16)
          CFI R7L Frame(CFA, -14)
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+16
        SUB.W   #0x2, SP
          CFI CFA SP+18
        ADD.W   #0x3, R12
        MOV.B   @R12, R9
        MOV.B   0x1(R12), R15
        RPT     #0x8
        RLAX.W  R15
        ADD.W   R15, R9
        MOV.B   0x2(R12), R8
        CMP.W   #0x69, R9
        JEQ     ??MT_SysOsalNVRead_1
        CMP.W   #0x6b, R9
        JEQ     ??MT_SysOsalNVRead_1
        CMP.W   #0x6a, R9
        JNE     ??MT_SysOsalNVRead_2
??MT_SysOsalNVRead_1:
        MOV.B   &`?<Constant {2, 0}>`, 0(SP)
        MOV.B   &`?<Constant {2, 0}>` + 1, 0x1(SP)
        JMP     ??MT_SysOsalNVRead_3
??MT_SysOsalNVRead_2:
        CMP.W   #0x3a, R9
        JEQ     ??MT_SysOsalNVRead_4
        CMP.W   #0x3b, R9
        JEQ     ??MT_SysOsalNVRead_4
        MOV.W   R9, R15
        ADD.W   #0xfeff, R15
        CMP.W   #0xff, R15
        JNC     ??MT_SysOsalNVRead_4
        MOV.W   R9, R15
        ADD.W   #0xfdff, R15
        CMP.W   #0xff, R15
        JNC     ??MT_SysOsalNVRead_4
        MOV.W   R9, R15
        ADD.W   #0xfcff, R15
        CMP.W   #0xff, R15
        JNC     ??MT_SysOsalNVRead_4
        CMP.W   #0x62, R9
        JNE     ??MT_SysOsalNVRead_5
??MT_SysOsalNVRead_4:
        MOV.B   &`?<Constant {2, 0}>_1`, 0(SP)
        MOV.B   &`?<Constant {2, 0}>_1` + 1, 0x1(SP)
??MT_SysOsalNVRead_3:
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.B   #0x2, R14
        MOV.B   #0x8, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_19:
        JMP     ??MT_SysOsalNVRead_0
??MT_SysOsalNVRead_5:
        MOV.W   R9, R12
        CALLA   #osal_nv_item_len
        MOV.B   R12, R10
        CMP.B   #0xfb, R12
        JNC     ??MT_SysOsalNVRead_6
        MOV.B   #0xfa, R10
        JMP     ??MT_SysOsalNVRead_7
??MT_SysOsalNVRead_6:
        CMP.B   #0x0, R12
        JEQ     ??MT_SysOsalNVRead_8
??MT_SysOsalNVRead_7:
        MOV.B   R10, R15
        SUB.W   R8, R15
        CMP.W   #0x1, R15
        JL      ??MT_SysOsalNVRead_8
        MOV.B   R10, R11
        SUB.B   R8, R11
        ADD.B   #0x2, R11
        JMP     ??MT_SysOsalNVRead_9
??MT_SysOsalNVRead_8:
        MOV.B   #0x2, R11
??MT_SysOsalNVRead_9:
        MOV.B   R11, R12
        CALLA   #osal_mem_alloc
        MOV.W   R12, R6
        CMP.W   #0x0, R12
        JEQ     ??MT_SysOsalNVRead_0
        MOV.B   R11, R14
        MOV.B   #0x0, R13
        CALLA   #osal_memset
        MOV.B   #0x1, 0(R6)
        CMP.B   #0x3, R11
        JNC     ??MT_SysOsalNVRead_10
        MOV.W   R6, R15
        ADD.W   #0x2, R15
        MOV.B   R10, R14
        MOV.B   R8, R13
        MOV.W   R9, R12
        CALLA   #osal_nv_read
        CMP.B   #0x0, R12
        JNE     ??MT_SysOsalNVRead_11
        MOV.B   #0x0, 0(R6)
??MT_SysOsalNVRead_11:
        SUB.B   R8, R10
        MOV.B   R10, 0x1(R6)
        JMP     ??MT_SysOsalNVRead_12
??MT_SysOsalNVRead_10:
        MOV.B   #0x0, 0x1(R6)
??MT_SysOsalNVRead_12:
        MOV.W   R6, R15
        MOV.B   R11, R14
        MOV.B   #0x8, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_18:
        MOV.W   R6, R12
        CALLA   #osal_mem_free
??MT_SysOsalNVRead_0:
        ADD.W   #0x2, SP
          CFI CFA SP+16
        POPM.W  #0x6, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI R6L SameValue
          CFI R7L SameValue
          CFI R8L SameValue
          CFI R9L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock51

        RSEG CODE:CODE:NOROOT(1)
?Subroutine5:
          CFI Block cfiCond52 Using cfiCommon0
          CFI Function MT_SysStackTune
          CFI Conditional ??CrossCallReturnLabel_24
          CFI R10L Frame(CFA, -6)
          CFI CFA SP+12
          CFI Block cfiCond53 Using cfiCommon0
          CFI (cfiCond53) Function MT_SysOsalStopTimer
          CFI (cfiCond53) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond53) R10L Frame(CFA, -6)
          CFI (cfiCond53) CFA SP+12
          CFI Block cfiCond54 Using cfiCommon0
          CFI (cfiCond54) Function MT_SysOsalStartTimer
          CFI (cfiCond54) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond54) R10L Frame(CFA, -6)
          CFI (cfiCond54) CFA SP+12
          CFI Block cfiCond55 Using cfiCommon0
          CFI (cfiCond55) Function MT_SysAdcRead
          CFI (cfiCond55) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond55) R10L Frame(CFA, -6)
          CFI (cfiCond55) CFA SP+12
          CFI Block cfiCond56 Using cfiCommon0
          CFI (cfiCond56) Function MT_SysSetExtAddr
          CFI (cfiCond56) Conditional ??CrossCallReturnLabel_23
          CFI (cfiCond56) R10L Frame(CFA, -8)
          CFI (cfiCond56) R11L Frame(CFA, -6)
          CFI (cfiCond56) CFA SP+14
          CFI Block cfiPicker57 Using cfiCommon1
          CFI (cfiPicker57) NoFunction
          CFI (cfiPicker57) Picker
        MOV.B   R10, R13
          CFI EndBlock cfiCond52
          CFI EndBlock cfiCond53
          CFI EndBlock cfiCond54
          CFI EndBlock cfiCond55
          CFI EndBlock cfiCond56
          CFI EndBlock cfiPicker57
        REQUIRE ??Subroutine5_0
        // Fall through to label ??Subroutine5_0

        RSEG CODE:CODE:NOROOT(1)
??Subroutine5_0:
          CFI Block cfiCond58 Using cfiCommon0
          CFI Function MT_SysGetUtcTime
          CFI Conditional ??CrossCallReturnLabel_22
          CFI R8L Frame(CFA, -12)
          CFI R9L Frame(CFA, -10)
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+24
          CFI Block cfiCond59 Using cfiCommon0
          CFI (cfiCond59) Function MT_SysSetUtcTime
          CFI (cfiCond59) Conditional ??CrossCallReturnLabel_21
          CFI (cfiCond59) R8L Frame(CFA, -12)
          CFI (cfiCond59) R9L Frame(CFA, -10)
          CFI (cfiCond59) R10L Frame(CFA, -8)
          CFI (cfiCond59) R11L Frame(CFA, -6)
          CFI (cfiCond59) CFA SP+26
          CFI Block cfiCond60 Using cfiCommon0
          CFI (cfiCond60) Function MT_SysOsalNVItemInit
          CFI (cfiCond60) Conditional ??CrossCallReturnLabel_20
          CFI (cfiCond60) R8L Frame(CFA, -12)
          CFI (cfiCond60) R9L Frame(CFA, -10)
          CFI (cfiCond60) R10L Frame(CFA, -8)
          CFI (cfiCond60) R11L Frame(CFA, -6)
          CFI (cfiCond60) CFA SP+18
          CFI Block cfiCond61 Using cfiCommon0
          CFI (cfiCond61) Function MT_SysOsalNVWrite
          CFI (cfiCond61) Conditional ??CrossCallReturnLabel_20
          CFI (cfiCond61) R8L Frame(CFA, -12)
          CFI (cfiCond61) R9L Frame(CFA, -10)
          CFI (cfiCond61) R10L Frame(CFA, -8)
          CFI (cfiCond61) R11L Frame(CFA, -6)
          CFI (cfiCond61) CFA SP+18
          CFI Block cfiCond62 Using cfiCommon0
          CFI (cfiCond62) Function MT_SysOsalNVRead
          CFI (cfiCond62) Conditional ??CrossCallReturnLabel_19
          CFI (cfiCond62) R6L Frame(CFA, -16)
          CFI (cfiCond62) R7L Frame(CFA, -14)
          CFI (cfiCond62) R8L Frame(CFA, -12)
          CFI (cfiCond62) R9L Frame(CFA, -10)
          CFI (cfiCond62) R10L Frame(CFA, -8)
          CFI (cfiCond62) R11L Frame(CFA, -6)
          CFI (cfiCond62) CFA SP+22
          CFI Block cfiCond63 Using cfiCommon0
          CFI (cfiCond63) Function MT_SysOsalNVRead
          CFI (cfiCond63) Conditional ??CrossCallReturnLabel_18
          CFI (cfiCond63) R6L Frame(CFA, -16)
          CFI (cfiCond63) R7L Frame(CFA, -14)
          CFI (cfiCond63) R8L Frame(CFA, -12)
          CFI (cfiCond63) R9L Frame(CFA, -10)
          CFI (cfiCond63) R10L Frame(CFA, -8)
          CFI (cfiCond63) R11L Frame(CFA, -6)
          CFI (cfiCond63) CFA SP+22
          CFI Block cfiCond64 Using cfiCommon0
          CFI (cfiCond64) Function MT_SysGetExtAddr
          CFI (cfiCond64) Conditional ??CrossCallReturnLabel_17
          CFI (cfiCond64) CFA SP+16
          CFI Block cfiCond65 Using cfiCommon0
          CFI (cfiCond65) Function MT_SysStackTune
          CFI (cfiCond65) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond65) R10L Frame(CFA, -6)
          CFI (cfiCond65) CFA SP+12
          CFI Block cfiCond66 Using cfiCommon0
          CFI (cfiCond66) Function MT_SysOsalStopTimer
          CFI (cfiCond66) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond66) R10L Frame(CFA, -6)
          CFI (cfiCond66) CFA SP+12
          CFI Block cfiCond67 Using cfiCommon0
          CFI (cfiCond67) Function MT_SysOsalStartTimer
          CFI (cfiCond67) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond67) R10L Frame(CFA, -6)
          CFI (cfiCond67) CFA SP+12
          CFI Block cfiCond68 Using cfiCommon0
          CFI (cfiCond68) Function MT_SysAdcRead
          CFI (cfiCond68) Conditional ??CrossCallReturnLabel_24
          CFI (cfiCond68) R10L Frame(CFA, -6)
          CFI (cfiCond68) CFA SP+12
          CFI Block cfiCond69 Using cfiCommon0
          CFI (cfiCond69) Function MT_SysSetExtAddr
          CFI (cfiCond69) Conditional ??CrossCallReturnLabel_23
          CFI (cfiCond69) R10L Frame(CFA, -8)
          CFI (cfiCond69) R11L Frame(CFA, -6)
          CFI (cfiCond69) CFA SP+14
          CFI Block cfiPicker70 Using cfiCommon1
          CFI (cfiPicker70) NoFunction
          CFI (cfiPicker70) Picker
        MOV.B   #0x61, R12
        BRA     #MT_BuildAndSendZToolResponse
          CFI EndBlock cfiCond58
          CFI EndBlock cfiCond59
          CFI EndBlock cfiCond60
          CFI EndBlock cfiCond61
          CFI EndBlock cfiCond62
          CFI EndBlock cfiCond63
          CFI EndBlock cfiCond64
          CFI EndBlock cfiCond65
          CFI EndBlock cfiCond66
          CFI EndBlock cfiCond67
          CFI EndBlock cfiCond68
          CFI EndBlock cfiCond69
          CFI EndBlock cfiPicker70

        RSEG CODE:CODE:NOROOT(1)
MT_SysGetExtAddr:
          CFI Block cfiBlock71 Using cfiCommon0
          CFI Function MT_SysGetExtAddr
        FUNCALL MT_SysGetExtAddr, ZMacGetReq
        LOCFRAME CSTACK, 12, STACK
        FUNCALL MT_SysGetExtAddr, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 12, STACK
        SUB.W   #0x8, SP
          CFI CFA SP+12
        MOV.W   SP, R13
        ADD.W   #0x0, R13
        MOV.B   #0xe2, R12
        CALLA   #ZMacGetReq
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.B   #0x8, R14
        MOV.B   #0x4, R13
        CALLA   #??Subroutine5_0
??CrossCallReturnLabel_17:
        ADD.W   #0x8, SP
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock71

        RSEG CODE:CODE:NOROOT(1)
MT_SysSetExtAddr:
          CFI Block cfiBlock72 Using cfiCommon0
          CFI Function MT_SysSetExtAddr
        FUNCALL MT_SysSetExtAddr, ZMacSetReq
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_SysSetExtAddr, osal_nv_write
        LOCFRAME CSTACK, 10, STACK
        FUNCALL MT_SysSetExtAddr, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 10, STACK
        PUSHM.W #0x2, R11
          CFI R10L Frame(CFA, -8)
          CFI R11L Frame(CFA, -6)
          CFI CFA SP+8
        SUB.W   #0x2, SP
          CFI CFA SP+10
        MOV.W   R12, R11
        MOV.B   #0x1, 0(SP)
        MOV.B   0x2(R12), R10
        ADD.W   #0x3, R11
        MOV.W   R11, R13
        MOV.B   #0xe2, R12
        CALLA   #ZMacSetReq
        CMP.B   #0x0, R12
        JNE     ??MT_SysSetExtAddr_0
        MOV.W   R11, R15
        MOV.W   #0x8, R14
        MOV.W   #0x0, R13
        MOV.W   #0x1, R12
        CALLA   #osal_nv_write
        MOV.B   R12, 0(SP)
??MT_SysSetExtAddr_0:
        CALLA   #??Subroutine4_0
??CrossCallReturnLabel_15:
        CALLA   #?Subroutine5
??CrossCallReturnLabel_23:
        ADD.W   #0x2, SP
          CFI CFA SP+8
        POPM.W  #0x2, R11
          CFI R10L SameValue
          CFI R11L SameValue
          CFI CFA SP+4
        RETA
          CFI EndBlock cfiBlock72

        RSEG CODE:CODE:NOROOT(1)
MT_SysVersion:
          CFI Block cfiBlock73 Using cfiCommon0
          CFI Function MT_SysVersion
        FUNCALL MT_SysVersion, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 4, STACK
        MOV.W   #MTVersionString, R15
        MOV.B   #0x5, R14
        MOV.B   #0x2, R13
        MOV.B   #0x61, R12
        BRA     #MT_BuildAndSendZToolResponse
          CFI EndBlock cfiBlock73

        RSEG CODE:CODE:REORDER:NOROOT(1)
MT_SysPing:
          CFI Block cfiBlock74 Using cfiCommon0
          CFI Function MT_SysPing
        FUNCALL MT_SysPing, MT_BuildAndSendZToolResponse
        LOCFRAME CSTACK, 6, STACK
        SUB.W   #0x2, SP
          CFI CFA SP+6
        MOV.B   #0x11, 0(SP)
        MOV.B   #0x0, 0x1(SP)
        MOV.W   SP, R15
        ADD.W   #0x0, R15
        MOV.B   #0x2, R14
        MOV.B   #0x1, R13
        JMP     ?Subroutine2
          CFI EndBlock cfiBlock74

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r4:
        REQUIRE ?setjmp_r4
        REQUIRE ?longjmp_r4

        RSEG CODE:CODE:REORDER:NOROOT(1)
?setjmp_save_r5:
        REQUIRE ?setjmp_r5
        REQUIRE ?longjmp_r5

        END
//  620 void MT_SysOsalStartTimer(uint8 *pBuf)
//  621 {
//  622   uint16 eventId;
//  623   uint8 retValue = ZFailure;
//  624   uint8 cmdId;
//  625 
//  626   /* parse header */
//  627   cmdId = pBuf[MT_RPC_POS_CMD1];
//  628   pBuf += MT_RPC_FRAME_HDR_SZ;
//  629 
//  630   if (*pBuf <= 3)
//  631   {
//  632     eventId = (uint16) MT_SysOsalEventId[*pBuf];
//  633     retValue = osal_start_timerEx(MT_TaskID, eventId, BUILD_UINT16(pBuf[1], pBuf[2]));
//  634   }
//  635   else
//  636   {
//  637     retValue = ZInvalidParameter;
//  638   }
//  639 
//  640   /* Build and send back the response */
//  641   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmdId, 1, &retValue);
//  642 }
//  643 
//  644 /***************************************************************************************************
//  645  * @fn      MT_SysOsalStopTimer
//  646  *
//  647  * @brief
//  648  *
//  649  * @param   uint8 pData - pointer to the data
//  650  *
//  651  * @return  None
//  652  ***************************************************************************************************/
//  653 void MT_SysOsalStopTimer(uint8 *pBuf)
//  654 {
//  655   uint16 eventId;
//  656   uint8 retValue = ZFailure;
//  657   uint8 cmdId;
//  658 
//  659   /* parse header */
//  660   cmdId = pBuf[MT_RPC_POS_CMD1];
//  661   pBuf += MT_RPC_FRAME_HDR_SZ;
//  662 
//  663   if (*pBuf <= 3)
//  664   {
//  665     eventId = (uint16) MT_SysOsalEventId[*pBuf];
//  666     retValue = osal_stop_timerEx(MT_TaskID, eventId);
//  667   }
//  668   else
//  669   {
//  670     retValue = ZInvalidParameter;
//  671   }
//  672 
//  673   /* Build and send back the response */
//  674   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmdId, 1, &retValue );
//  675 }
//  676 
//  677 /***************************************************************************************************
//  678  * @fn      MT_SysRandom
//  679  *
//  680  * @brief
//  681  *
//  682  * @param   uint8 pData - pointer to the data
//  683  *
//  684  * @return  None
//  685  ***************************************************************************************************/
//  686 void MT_SysRandom()
//  687 {
//  688   uint16 randValue = Onboard_rand();
//  689   uint8 retArray[2];
//  690 
//  691   retArray[0] = LO_UINT16(randValue);
//  692   retArray[1] = HI_UINT16(randValue);
//  693 
//  694   /* Build and send back the response */
//  695   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), MT_SYS_RANDOM, 2, retArray );
//  696 }
//  697 
//  698 /***************************************************************************************************
//  699  * @fn      MT_SysAdcRead
//  700  *
//  701  * @brief   Reading ADC value, temperature sensor and voltage
//  702  *
//  703  * @param   uint8 pData - pointer to the data
//  704  *
//  705  * @return  None
//  706  ***************************************************************************************************/
//  707 void MT_SysAdcRead(uint8 *pBuf)
//  708 {
//  709 #ifndef HAL_BOARD_LM3S
//  710   uint8 channel, resolution;
//  711   uint16 tempValue;
//  712   uint8 retArray[2];
//  713   uint8 cmdId;
//  714 
//  715   /* parse header */
//  716   cmdId = pBuf[MT_RPC_POS_CMD1];
//  717   pBuf += MT_RPC_FRAME_HDR_SZ;
//  718 
//  719   /* Channel */
//  720   channel = *pBuf++;
//  721 
//  722   /* Resolution */
//  723   resolution = *pBuf++;
//  724 
//  725   /* Voltage reading */
//  726   switch (channel)
//  727   {
//  728     /* Analog input channel */
//  729     case HAL_ADC_CHANNEL_0:
//  730     case HAL_ADC_CHANNEL_1:
//  731     case HAL_ADC_CHANNEL_2:
//  732     case HAL_ADC_CHANNEL_3:
//  733     case HAL_ADC_CHANNEL_4:
//  734     case HAL_ADC_CHANNEL_5:
//  735     case HAL_ADC_CHANNEL_6:
//  736     case HAL_ADC_CHANNEL_7:
//  737       tempValue = HalAdcRead(channel, resolution);
//  738       break;
//  739 
//  740     /* Temperature sensor */
//  741     case(HAL_ADC_CHANNEL_TEMP):
//  742       tempValue = HalAdcRead(HAL_ADC_CHANNEL_TEMP, HAL_ADC_RESOLUTION_14);
//  743       break;
//  744 
//  745     /* Voltage reading */
//  746     case(HAL_ADC_CHANNEL_VDD):
//  747       tempValue = HalAdcRead(HAL_ADC_CHANNEL_VDD, HAL_ADC_RESOLUTION_14);
//  748       break;
//  749 
//  750     /* Undefined channels */
//  751     default:
//  752       tempValue = 0x00;
//  753       break;
//  754   }
//  755 
//  756   retArray[0] = LO_UINT16(tempValue);
//  757   retArray[1] = HI_UINT16(tempValue);
//  758 
//  759   /* Build and send back the response */
//  760   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmdId, 2, retArray);
//  761 #endif /* #ifndef HAL_BOARD_LM3S */
//  762 }
//  763 
//  764 /**************************************************************************************************
//  765  * @fn      MT_SysGpio
//  766  *
//  767  * @brief   ZAccel RPC interface for controlling the available GPIO pins.
//  768  *
//  769  * @param   uint8 pData - Pointer to the data.
//  770  *
//  771  * @return  None
//  772  *************************************************************************************************/
//  773 void MT_SysGpio(uint8 *pBuf)
//  774 {
//  775   uint8 cmd, val;
//  776   GPIO_Op_t op;
//  777 
//  778   cmd = pBuf[MT_RPC_POS_CMD1];
//  779   pBuf += MT_RPC_FRAME_HDR_SZ;
//  780 
//  781   op = (GPIO_Op_t)(*pBuf++);
//  782   val = *pBuf;
//  783 
//  784   switch (op)
//  785   {
//  786     case GPIO_DIR:
//  787       if (val & BV(0)) {GPIO_DIR_OUT(0);} else {GPIO_DIR_IN(0);}
//  788       if (val & BV(1)) {GPIO_DIR_OUT(1);} else {GPIO_DIR_IN(1);}
//  789       if (val & BV(2)) {GPIO_DIR_OUT(2);} else {GPIO_DIR_IN(2);}
//  790       if (val & BV(3)) {GPIO_DIR_OUT(3);} else {GPIO_DIR_IN(3);}
//  791       break;
//  792 
//  793     case GPIO_TRI:
//  794       if(val & BV(0)) {GPIO_TRI(0);} else if(val & BV(4)) {GPIO_PULL_DN(0);} else {GPIO_PULL_UP(0);}
//  795       if(val & BV(1)) {GPIO_TRI(1);} else if(val & BV(5)) {GPIO_PULL_DN(1);} else {GPIO_PULL_UP(1);}
//  796       if(val & BV(2)) {GPIO_TRI(2);} else if(val & BV(6)) {GPIO_PULL_DN(2);} else {GPIO_PULL_UP(2);}
//  797       if(val & BV(3)) {GPIO_TRI(3);} else if(val & BV(7)) {GPIO_PULL_DN(3);} else {GPIO_PULL_UP(3);}
//  798       break;
//  799 
//  800     case GPIO_SET:
//  801       if (val & BV(0)) {GPIO_SET(0);}
//  802       if (val & BV(1)) {GPIO_SET(1);}
//  803       if (val & BV(2)) {GPIO_SET(2);}
//  804       if (val & BV(3)) {GPIO_SET(3);}
//  805       break;
//  806 
//  807     case GPIO_CLR:
//  808       if (val & BV(0)) {GPIO_CLR(0);}
//  809       if (val & BV(1)) {GPIO_CLR(1);}
//  810       if (val & BV(2)) {GPIO_CLR(2);}
//  811       if (val & BV(3)) {GPIO_CLR(3);}
//  812       break;
//  813 
//  814     case GPIO_TOG:
//  815       if (val & BV(0)) {GPIO_TOG(0);}
//  816       if (val & BV(1)) {GPIO_TOG(1);}
//  817       if (val & BV(2)) {GPIO_TOG(2);}
//  818       if (val & BV(3)) {GPIO_TOG(3);}
//  819       break;
//  820 
//  821     case GPIO_GET:
//  822       break;
//  823 
//  824     case GPIO_HiD:
//  825       (val) ? GPIO_HiD_SET() :  GPIO_HiD_CLR();
//  826       break;
//  827 
//  828     default:
//  829       break;
//  830   }
//  831 
//  832   val  = (GPIO_GET(0)) ? BV(0) : 0;
//  833   val |= (GPIO_GET(1)) ? BV(1) : 0;
//  834   val |= (GPIO_GET(2)) ? BV(2) : 0;
//  835   val |= (GPIO_GET(3)) ? BV(3) : 0;
//  836 
//  837   /* Build and send back the response */
//  838   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmd, 1, &val);
//  839 }
//  840 
//  841 /**************************************************************************************************
//  842  * @fn      MT_SysStackTune
//  843  *
//  844  * @brief   ZAccel RPC interface for tuning the stack parameters to adjust performance
//  845  *
//  846  * @param   uint8 pData - Pointer to the data.
//  847  *
//  848  * @return  None
//  849  *************************************************************************************************/
//  850 void MT_SysStackTune(uint8 *pBuf)
//  851 {
//  852   uint8 cmd, rtrn;
//  853 
//  854   cmd = pBuf[MT_RPC_POS_CMD1];
//  855   pBuf += MT_RPC_FRAME_HDR_SZ;
//  856 
//  857   switch (*pBuf++)
//  858   {
//  859   case STK_TX_PWR:
//  860     rtrn = ZMacSetReq(ZMacPhyTransmitPowerSigned, pBuf);
//  861     break;
//  862 
//  863   case STK_RX_ON_IDLE:
//  864     if ((*pBuf != TRUE) && (*pBuf != FALSE))
//  865     {
//  866       (void)ZMacGetReq(ZMacRxOnIdle, &rtrn);
//  867     }
//  868     else
//  869     {
//  870       rtrn = ZMacSetReq(ZMacRxOnIdle, pBuf);
//  871     }
//  872     break;
//  873 
//  874   default:
//  875     rtrn = ZInvalidParameter;
//  876     break;
//  877   }
//  878 
//  879   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS), cmd, 1, &rtrn);
//  880 }
//  881 
//  882 /***************************************************************************************************
//  883  * @fn      MT_SysSetUtcTime
//  884  *
//  885  * @brief   Set the OSAL UTC Time. UTC rollover is: 06:28:16 02/07/2136
//  886  *
//  887  * @param   pBuf - pointer to time parameters
//  888  *
//  889  * @return  None
//  890  ***************************************************************************************************/
//  891 void MT_SysSetUtcTime(uint8 *pBuf)
//  892 {
//  893   uint8 cmdId;
//  894   uint8 retStat;
//  895   UTCTime utcSecs;
//  896 
//  897   /* Parse header */
//  898   cmdId = pBuf[MT_RPC_POS_CMD1];
//  899   pBuf += MT_RPC_FRAME_HDR_SZ;
//  900 
//  901   utcSecs = osal_build_uint32( pBuf, 4 );
//  902   if ( utcSecs == 0 )
//  903   {
//  904     UTCTimeStruct utc;
//  905 
//  906     /* Skip past UTC time */
//  907     pBuf += 4;
//  908 
//  909     /* Get time and date parameters */
//  910     utc.hour = *pBuf++;
//  911     utc.minutes = *pBuf++;
//  912     utc.seconds = *pBuf++;
//  913     utc.month = (*pBuf++) - 1;
//  914     utc.day = (*pBuf++) - 1;
//  915     utc.year = osal_build_uint16 ( pBuf );
//  916 
//  917     if ((utc.hour < 24) && (utc.minutes < 60) && (utc.seconds < 60) &&
//  918         (utc.month < 12) && (utc.day < 31) && (utc.year > 1999) && (utc.year < 2136))
//  919     {
//  920       /* Got past the course filter, now check for leap year */
//  921       if ((utc.month != 1) || (utc.day < (IsLeapYear( utc.year ) ? 29 : 28)))
//  922       {
//  923         /* Numbers look reasonable, convert to UTC */
//  924         utcSecs = osal_ConvertUTCSecs( &utc );
//  925       }
//  926     }
//  927   }
//  928 
//  929   if ( utcSecs == 0 )
//  930   {
//  931     /* Bad parameter(s) */
//  932     retStat = ZInvalidParameter;
//  933   }
//  934   else
//  935   {
//  936     /* Parameters accepted, set the time */
//  937     osal_setClock( utcSecs );
//  938     retStat = ZSuccess;
//  939   }
//  940 
//  941   /* Build and send back the response */
//  942   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  943                                  cmdId, 1, &retStat);
//  944 }
//  945 
//  946 /***************************************************************************************************
//  947  * @fn      MT_SysGetUtcTime
//  948  *
//  949  * @brief   Get the OSAL UTC time
//  950  *
//  951  * @param   None
//  952  *
//  953  * @return  32-bit and Parsed UTC time
//  954  ***************************************************************************************************/
//  955 void MT_SysGetUtcTime(void)
//  956 {
//  957   uint8 len;
//  958   uint8 *buf;
//  959 
//  960   len = sizeof( UTCTime ) + sizeof( UTCTimeStruct );
//  961 
//  962   buf = osal_mem_alloc( len );
//  963   if ( buf )
//  964   {
//  965     uint8 *pBuf;
//  966     UTCTime utcSecs;
//  967     UTCTimeStruct utcTime;
//  968 
//  969     // Get current 32-bit UTC time and parse it
//  970     utcSecs = osal_getClock();
//  971     osal_ConvertUTCTime( &utcTime, utcSecs );
//  972 
//  973     // Start with 32-bit UTC time
//  974     pBuf = osal_buffer_uint32( buf, utcSecs );
//  975 
//  976     // Concatenate parsed UTC time fields
//  977     *pBuf++ = utcTime.hour;
//  978     *pBuf++ = utcTime.minutes;
//  979     *pBuf++ = utcTime.seconds;
//  980     *pBuf++ = utcTime.month + 1;  // Convert to human numbers
//  981     *pBuf++ = utcTime.day + 1;
//  982     *pBuf++ = LO_UINT16( utcTime.year );
//  983     *pBuf++ = HI_UINT16( utcTime.year );
//  984 
//  985     /* Build and send back the response */
//  986     MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
//  987                                    MT_SYS_GET_TIME, (uint8)(pBuf-buf), buf);
//  988 
//  989     osal_mem_free( buf );
//  990   }
//  991 }
//  992 
//  993 /***************************************************************************************************
//  994  * @fn      MT_SysSetTxPower
//  995  *
//  996  * @brief   Set the transmit power.
//  997  *
//  998  * @param   pBuf - MT message containing the ZMacTransmitPower_t power level to set.
//  999  *
// 1000  * @return  None
// 1001  ***************************************************************************************************/
// 1002 void MT_SysSetTxPower(uint8 *pBuf)
// 1003 {
// 1004   /* A local variable to hold the signed dBm value of TxPower that is being requested. */
// 1005   uint8 signed_dBm_of_TxPower_requeseted;
// 1006 
// 1007   /*
// 1008    * A local variable to hold the signed dBm value of TxPower that can be set which is closest to
// 1009    * the requested dBm value of TxPower, but which is also valid according to a complex set of
// 1010    * compile-time and run-time configuration which is interpreted by the macRadioSetTxPower()
// 1011    * function.
// 1012    */
// 1013   uint8 signed_dBm_of_TxPower_range_corrected;
// 1014 
// 1015   /* Parse the requested dBm from the RPC message. */
// 1016   signed_dBm_of_TxPower_requeseted = pBuf[MT_RPC_POS_DAT0];
// 1017 
// 1018   /*
// 1019    * MAC_MlmeSetReq() will store an out-of-range dBm parameter value into the NIB. So it is not
// 1020    * possible to learn the actual dBm value that will be set by invoking MACMlmeGetReq().
// 1021    * But this actual dBm value is a required return value in the SRSP to this SREQ. Therefore,
// 1022    * it is necessary to make this redundant pre-call to macRadioSetTxPower() here in order to run
// 1023    * the code that will properly constrain the requested dBm to a valid range based on both the
// 1024    * compile-time and the run-time configurations that affect the available valid ranges
// 1025    * (i.e. MAC_MlmeSetReq() itself will invoke for a second time the macRadioSetTxPower() function).
// 1026    */
// 1027   signed_dBm_of_TxPower_range_corrected = macRadioSetTxPower(signed_dBm_of_TxPower_requeseted);
// 1028 
// 1029   /*
// 1030    * Call the function to store the requested dBm in the MAC PIB and to set the TxPower as closely
// 1031    * as possible within the TxPower range that is valid for the compile-time and run-time
// 1032    * configuration.
// 1033    */
// 1034   (void)MAC_MlmeSetReq(MAC_PHY_TRANSMIT_POWER_SIGNED, &signed_dBm_of_TxPower_requeseted);
// 1035 
// 1036   /* Build and send back the response that includes the actual dBm TxPower that can be set. */
// 1037   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_SRSP | (uint8)MT_RPC_SYS_SYS),
// 1038                                        MT_SYS_SET_TX_POWER, 1,
// 1039                                        &signed_dBm_of_TxPower_range_corrected);
// 1040 }
// 1041 #endif /* MT_SYS_FUNC */
// 1042 
// 1043 /***************************************************************************************************
// 1044  * SUPPORT
// 1045  ***************************************************************************************************/
// 1046 
// 1047 /***************************************************************************************************
// 1048  * @fn      MT_SysResetInd()
// 1049  *
// 1050  * @brief   Sends a ZTOOL "reset response" message.
// 1051  *
// 1052  * @param   None
// 1053  *
// 1054  * @return  None
// 1055  *
// 1056  ***************************************************************************************************/
// 1057 void MT_SysResetInd(void)
// 1058 {
// 1059   uint8 retArray[6];
// 1060 
// 1061   retArray[0] = ResetReason();   /* Reason */
// 1062   osal_memcpy( &retArray[1], MTVersionString, 5 );   /* Revision info */
// 1063 
// 1064   /* Send out Reset Response message */
// 1065   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_SYS), MT_SYS_RESET_IND,
// 1066                                 sizeof(retArray), retArray);
// 1067 }
// 1068 
// 1069 /***************************************************************************************************
// 1070  * @fn      MT_SysOsalTimerExpired()
// 1071  *
// 1072  * @brief   Sends a SYS Osal Timer Expired
// 1073  *
// 1074  * @param   None
// 1075  *
// 1076  * @return  None
// 1077  *
// 1078  ***************************************************************************************************/
// 1079 void MT_SysOsalTimerExpired(uint8 Id)
// 1080 {
// 1081   uint8 retValue;
// 1082   retValue = Id;
// 1083   MT_BuildAndSendZToolResponse(((uint8)MT_RPC_CMD_AREQ | (uint8)MT_RPC_SYS_SYS), MT_SYS_OSAL_TIMER_EXPIRED, 1, &retValue);
// 1084 }
// 1085 
// 1086 /***************************************************************************************************
// 1087  ***************************************************************************************************/
// 
// 1 758 bytes in segment CODE
//     2 bytes in segment DATA16_AN
//    12 bytes in segment DATA16_C
// 
// 1 758 bytes of CODE  memory
//    12 bytes of CONST memory
//     0 bytes of DATA  memory (+ 2 bytes shared)
//
//Errors: none
//Warnings: none
